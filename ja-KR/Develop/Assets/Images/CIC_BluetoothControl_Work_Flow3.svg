<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="628.4479px" preserveAspectRatio="none" style="width:884px;height:628px;" version="1.1" viewBox="0 0 884 628" width="884.3222px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="269.7593" style="stroke: #000000; stroke-width: 0.8644400785854617;" width="8.6444" x="270.5697" y="332.9783"/><rect fill="#FFFFFF" height="53.8249" style="stroke: #000000; stroke-width: 0.8644400785854617;" width="8.6444" x="540.275" y="129.8956"/><rect fill="#FFFFFF" height="311.3673" style="stroke: #000000; stroke-width: 0.8644400785854617;" width="8.6444" x="540.275" y="291.3703"/><rect fill="#FFFFFF" height="419.0171" style="stroke: #000000; stroke-width: 0.8644400785854617;" width="8.6444" x="828.998" y="183.7205"/><rect fill="#FFFFFF" height="353.09" rx="4.3222" ry="4.3222" style="stroke: #000000; stroke-width: 1.7288801571709234;" width="862.7112" x="11.2377" y="196.6871"/><rect fill="#FFFFFF" height="168.2754" style="stroke: none; stroke-width: 0.8644400785854617;" width="862.7112" x="11.2377" y="381.5017"/><line style="stroke: #000000; stroke-width: 0.8644400785854617; stroke-dasharray: 5.0,5.0;" x1="48.4086" x2="48.4086" y1="86.5588" y2="618.2975"/><line style="stroke: #000000; stroke-width: 0.8644400785854617; stroke-dasharray: 5.0,5.0;" x1="274.8919" x2="274.8919" y1="86.5588" y2="618.2975"/><line style="stroke: #000000; stroke-width: 0.8644400785854617; stroke-dasharray: 5.0,5.0;" x1="544.5972" x2="544.5972" y1="86.5588" y2="618.2975"/><line style="stroke: #000000; stroke-width: 0.8644400785854617; stroke-dasharray: 5.0,5.0;" x1="833.3202" x2="833.3202" y1="86.5588" y2="618.2975"/><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="10.3733" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="34.5776" x="28.5265" y="75.7263">ユーザー</text><ellipse cx="48.4086" cy="11.2377" fill="#FEFECE" rx="6.9155" ry="6.9155" style="stroke: #000000; stroke-width: 1.7288801571709234;"/><path d="M48.4086,18.1532 L48.4086,41.4931 M37.1709,25.0688 L59.6464,25.0688 M48.4086,41.4931 L37.1709,54.4597 M48.4086,41.4931 L59.6464,54.4597 " fill="none" style="stroke: #000000; stroke-width: 1.7288801571709234;"/><rect fill="#9EA0CA" height="43.6441" rx="4.3222" ry="4.3222" style="stroke: #FFFFFF; stroke-width: 1.2966601178781925;" width="131.3949" x="209.1945" y="42.0503"/><text fill="#FFFFFF" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="12.1022" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="102.0039" x="223.89" y="68.4461">Bluetoothデバイス</text><rect fill="#9EA0CA" height="43.6441" rx="4.3222" ry="4.3222" style="stroke: #FFFFFF; stroke-width: 1.2966601178781925;" width="91.6306" x="498.7819" y="42.0503"/><text fill="#FFFFFF" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="12.1022" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="62.2397" x="513.4774" y="68.4461">クライアント</text><rect fill="#05D686" height="43.6441" rx="4.3222" ry="4.3222" style="stroke: #FFFFFF; stroke-width: 1.2966601178781925;" width="63.9686" x="801.336" y="42.0503"/><text fill="#FFFFFF" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="12.1022" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="34.5776" x="816.0314" y="68.4461">Clova</text><rect fill="#FFFFFF" height="269.7593" style="stroke: #000000; stroke-width: 0.8644400785854617;" width="8.6444" x="270.5697" y="332.9783"/><rect fill="#FFFFFF" height="53.8249" style="stroke: #000000; stroke-width: 0.8644400785854617;" width="8.6444" x="540.275" y="129.8956"/><rect fill="#FFFFFF" height="311.3673" style="stroke: #000000; stroke-width: 0.8644400785854617;" width="8.6444" x="540.275" y="291.3703"/><rect fill="#FFFFFF" height="419.0171" style="stroke: #000000; stroke-width: 0.8644400785854617;" width="8.6444" x="828.998" y="183.7205"/><line style="stroke: #000000; stroke-width: 0.8644400785854617;" x1="538.5462" x2="529.9018" y1="129.8956" y2="126.4379"/><line style="stroke: #000000; stroke-width: 0.8644400785854617;" x1="538.5462" x2="529.9018" y1="129.8956" y2="133.3534"/><line style="stroke: #000000; stroke-width: 0.8644400785854617;" x1="48.4086" x2="539.4106" y1="129.8956" y2="129.8956"/><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="10.3733" lengthAdjust="spacingAndGlyphs" textLength="172.888" x="207.8978" y="117.3342">オーディオを再生するようにリクエストする</text><line style="stroke: #000000; stroke-width: 0.8644400785854617;" x1="827.2692" x2="818.6248" y1="183.7205" y2="180.2628"/><line style="stroke: #000000; stroke-width: 0.8644400785854617;" x1="827.2692" x2="818.6248" y1="183.7205" y2="187.1783"/><line style="stroke: #000000; stroke-width: 0.8644400785854617;" x1="544.5972" x2="828.1336" y1="183.7205" y2="183.7205"/><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="10.3733" lengthAdjust="spacingAndGlyphs" textLength="145.2259" x="614.1847" y="158.9422">SpeechRecognizer.Recognize</text><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="10.3733" lengthAdjust="spacingAndGlyphs" textLength="77.7996" x="647.8978" y="171.1591">イベントを送信する</text><path d="M15.5599,196.6871 L81.2574,196.6871 L81.2574,219.1626 L72.613,227.807 L11.2377,227.807 L11.2377,201.0093 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 0.8644400785854617;"/><rect fill="none" height="353.09" rx="4.3222" ry="4.3222" style="stroke: #000000; stroke-width: 1.7288801571709234;" width="862.7112" x="11.2377" y="196.6871"/><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="10.3733" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="13.831" x="32.8487" y="216.2248">alt</text><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="10.3733" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="140.9037" x="102.8684" y="217.0893">[クライアントのロール == sink]</text><line style="stroke: #000000; stroke-width: 0.8644400785854617;" x1="548.9194" x2="557.5639" y1="291.3703" y2="287.9126"/><line style="stroke: #000000; stroke-width: 0.8644400785854617;" x1="548.9194" x2="557.5639" y1="291.3703" y2="294.8281"/><line style="stroke: #000000; stroke-width: 0.8644400785854617;" x1="548.9194" x2="828.1336" y1="291.3703" y2="291.3703"/><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="10.3733" lengthAdjust="spacingAndGlyphs" textLength="101.1395" x="638.389" y="266.592">DeviceControl.BtPlay</text><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="10.3733" lengthAdjust="spacingAndGlyphs" textLength="103.7328" x="637.0923" y="278.8089">ディレクティブを送信する</text><polygon fill="#000000" points="529.9018,329.5205,538.5462,332.9783,529.9018,336.436,533.3595,332.9783" style="stroke: #000000; stroke-width: 0.8644400785854617;"/><line style="stroke: #000000; stroke-width: 0.8644400785854617;" x1="279.2141" x2="535.0884" y1="332.9783" y2="332.9783"/><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="10.3733" lengthAdjust="spacingAndGlyphs" textLength="227.3477" x="296.0707" y="320.4169">Bluetoothデバイスからオーディオストリームを受信する</text><polygon fill="#000000" points="57.9175,371.1284,49.2731,374.5862,57.9175,378.044,54.4597,374.5862" style="stroke: #000000; stroke-width: 0.8644400785854617;"/><line style="stroke: #000000; stroke-width: 0.8644400785854617;" x1="52.7308" x2="539.4106" y1="374.5862" y2="374.5862"/><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="10.3733" lengthAdjust="spacingAndGlyphs" textLength="138.3104" x="225.1866" y="362.0248">スピーカーでオーディオを再生する</text><line style="stroke: #000000; stroke-width: 0.8644400785854617; stroke-dasharray: 2.0,2.0;" x1="11.2377" x2="873.9489" y1="382.3662" y2="382.3662"/><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="10.3733" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="153.0059" x="24.2043" y="401.0394">[クライアントのロール == source]</text><polygon fill="#000000" points="558.4283,456.188,549.7839,459.6458,558.4283,463.1035,554.9705,459.6458" style="stroke: #000000; stroke-width: 0.8644400785854617;"/><line style="stroke: #000000; stroke-width: 0.8644400785854617;" x1="553.2417" x2="828.1336" y1="459.6458" y2="459.6458"/><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="10.3733" lengthAdjust="spacingAndGlyphs" textLength="82.1218" x="647.8978" y="434.8674">AudioPlayer.Play</text><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="10.3733" lengthAdjust="spacingAndGlyphs" textLength="103.7328" x="637.0923" y="447.0844">ディレクティブを送信する</text><polygon fill="#000000" points="288.723,497.7959,280.0786,501.2537,288.723,504.7114,285.2652,501.2537" style="stroke: #000000; stroke-width: 0.8644400785854617;"/><line style="stroke: #000000; stroke-width: 0.8644400785854617;" x1="283.5363" x2="539.4106" y1="501.2537" y2="501.2537"/><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="10.3733" lengthAdjust="spacingAndGlyphs" textLength="184.1257" x="317.6817" y="488.6923">Bluetoothスピーカーにオーディオを送信する</text><polygon fill="#000000" points="57.9175,539.4039,49.2731,542.8616,57.9175,546.3194,54.4597,542.8616" style="stroke: #000000; stroke-width: 0.8644400785854617;"/><line style="stroke: #000000; stroke-width: 0.8644400785854617;" x1="52.7308" x2="269.7053" y1="542.8616" y2="542.8616"/><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="10.3733" lengthAdjust="spacingAndGlyphs" textLength="184.1257" x="67.4263" y="530.3002">Bluetoothスピーカーでオーディオを再生する</text><polygon fill="#000000" points="822.947,599.2798,831.5914,602.7376,822.947,606.1954,826.4047,602.7376" style="stroke: #000000; stroke-width: 0.8644400785854617;"/><line style="stroke: #000000; stroke-width: 0.8644400785854617; stroke-dasharray: 2.0,2.0;" x1="544.5972" x2="828.1336" y1="602.7376" y2="602.7376"/><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="10.3733" lengthAdjust="spacingAndGlyphs" textLength="238.5855" x="567.9371" y="577.9592">DeviceControl.ActionExecuted (with DeviceState)</text><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="10.3733" lengthAdjust="spacingAndGlyphs" textLength="77.7996" x="650.0589" y="590.1762">イベントを送信する</text><!--
@startuml
scale max 880 width
skinparam sequenceMessageAlign center
skinparam shadowing false
skinparam roundcorner 10
skinparam padding 10
skinparam defaultFontSize 12
skinparam defaultFontName "Malgun Gothic", sans-serif

skinparam note {
  BackgroundColor #9EA0CA
  BorderColor #ffffff
  FontColor #ffffff
  FontSize 14
  FontStyle bold
}

skinparam sequence {
  ArrowColor #000000
  ActorBorderColor #000000
  ActorFontStyle Bolder


  LifeLineBorderColor #000000
  LifeLineBackgroundColor transparent
  ParticipantBorderColor transparent
  ParticipantFontSize 14
  ParticipantFontColor #ffffff
  ParticipantFontStyle bold

  BoxBorderColor #000000
  BoxFontColor #ffffff
    BoxFontSize 14
    BoxFontStyle bold
}
hide footbox

skinparam activity {
  BackgroundColor #9EA0CA
  BarColor #ffffff
  BorderColor #ffffff
  DiamondBackgroundColor #05D686
  DiamondBorderColor #ffffff
  DiamondFontColor #ffffff
  DiamondFontSize 14
  DiamondFontStyle bold
  FontColor #ffffff 
  FontSize 14
  FontStyle bold
}

actor ユーザー as user
participant "Bluetoothデバイス" as device #9EA0CA
participant クライアント as client #9EA0CA
participant "Clova" as clova #05D686

user ->> client : オーディオを再生するようにリクエストする
activate client
client ->> clova : SpeechRecognizer.Recognize\nイベントを送信する
deactivate client
activate clova
alt クライアントのロール == sink
  clova ->> client : DeviceControl.BtPlay\nディレクティブを送信する

activate client

	device -> client : Bluetoothデバイスからオーディオストリームを受信する
  activate device
    client -> user : スピーカーでオーディオを再生する
else クライアントのロール == source
        clova -> client : AudioPlayer.Play\nディレクティブを送信する
        client -> device : Bluetoothスピーカーにオーディオを送信する
    device -> user : Bluetoothスピーカーでオーディオを再生する
end
  client - -> clova : DeviceControl.ActionExecuted (with DeviceState) \nイベントを送信する
deactivate client
deactivate device
deactivate clova

@enduml

PlantUML version 1.2018.12(Sun Oct 21 19:15:15 KST 2018)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11+28
Operating System: Mac OS X
OS Version: 10.14.2
Default Encoding: US-ASCII
Language: en
Country: KR
--></g></svg>