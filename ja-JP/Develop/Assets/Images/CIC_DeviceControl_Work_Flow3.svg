<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1457.5589px" preserveAspectRatio="none" style="width:883px;height:1457px;" version="1.1" viewBox="0 0 883 1457" width="883.7687px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="45.35" style="stroke: #FFFFFF; stroke-width: 0.9421841541755889;" width="9.4218" x="88.5653" y="103.7654"/><line style="stroke: #000000; stroke-width: 0.9421841541755889;" x1="88.5653" x2="88.5653" y1="103.7654" y2="149.1154"/><line style="stroke: #000000; stroke-width: 0.9421841541755889;" x1="97.9872" x2="97.9872" y1="103.7654" y2="149.1154"/><line style="stroke: #000000; stroke-width: 0.9421841541755889;" x1="88.5653" x2="97.9872" y1="103.7654" y2="103.7654"/><rect fill="#FFFFFF" height="1190.527" style="stroke: #FFFFFF; stroke-width: 0.9421841541755889;" width="9.4218" x="88.5653" y="194.3402"/><line style="stroke: #000000; stroke-width: 0.9421841541755889;" x1="88.5653" x2="88.5653" y1="194.3402" y2="1384.8672"/><line style="stroke: #000000; stroke-width: 0.9421841541755889;" x1="97.9872" x2="97.9872" y1="194.3402" y2="1384.8672"/><line style="stroke: #000000; stroke-width: 0.9421841541755889;" x1="88.5653" x2="97.9872" y1="1384.8672" y2="1384.8672"/><rect fill="#FFFFFF" height="116.2641" style="stroke: #000000; stroke-width: 0.9421841541755889;" width="9.4218" x="256.2741" y="290.8184"/><rect fill="#FFFFFF" height="203.3204" style="stroke: #000000; stroke-width: 0.9421841541755889;" width="9.4218" x="256.2741" y="575.7518"/><rect fill="#FFFFFF" height="456.4293" style="stroke: #000000; stroke-width: 0.9421841541755889;" width="9.4218" x="256.2741" y="883.0879"/><rect fill="#FFFFFF" height="1198.0644" style="stroke: #000000; stroke-width: 0.9421841541755889;" width="9.4218" x="575.6745" y="232.1527"/><rect fill="#FFFFFF" height="203.4455" rx="4.7109" ry="4.7109" style="stroke: #000000; stroke-width: 1.8843683083511777;" width="423.0407" x="201.6274" y="472.5532"/><rect fill="#FFFFFF" height="92.7094" style="stroke: none; stroke-width: 0.9421841541755889;" width="423.0407" x="201.6274" y="583.2893"/><rect fill="#FFFFFF" height="443.2388" rx="4.7109" ry="4.7109" style="stroke: #000000; stroke-width: 1.8843683083511777;" width="861.1563" x="12.2484" y="793.205"/><rect fill="#FFFFFF" height="222.6241" rx="4.7109" ry="4.7109" style="stroke: #000000; stroke-width: 1.8843683083511777;" width="662.3555" x="201.6274" y="1007.2243"/><rect fill="#FFFFFF" height="60.5501" style="stroke: none; stroke-width: 0.9421841541755889;" width="662.3555" x="201.6274" y="1169.2984"/><line style="stroke: #000000; stroke-width: 0.9421841541755889;" x1="93.2762" x2="93.2762" y1="94.3435" y2="149.1154"/><line style="stroke: #000000; stroke-width: 0.9421841541755889; stroke-dasharray: 1.0,4.0;" x1="93.2762" x2="93.2762" y1="149.1154" y2="194.3402"/><line style="stroke: #000000; stroke-width: 0.9421841541755889;" x1="93.2762" x2="93.2762" y1="194.3402" y2="1447.1765"/><line style="stroke: #000000; stroke-width: 0.9421841541755889;" x1="260.985" x2="260.985" y1="94.3435" y2="149.1154"/><line style="stroke: #000000; stroke-width: 0.9421841541755889; stroke-dasharray: 1.0,4.0;" x1="260.985" x2="260.985" y1="149.1154" y2="194.3402"/><line style="stroke: #000000; stroke-width: 0.9421841541755889;" x1="260.985" x2="260.985" y1="194.3402" y2="1447.1765"/><line style="stroke: #000000; stroke-width: 0.9421841541755889;" x1="580.3854" x2="580.3854" y1="94.3435" y2="149.1154"/><line style="stroke: #000000; stroke-width: 0.9421841541755889; stroke-dasharray: 1.0,4.0;" x1="580.3854" x2="580.3854" y1="149.1154" y2="194.3402"/><line style="stroke: #000000; stroke-width: 0.9421841541755889;" x1="580.3854" x2="580.3854" y1="194.3402" y2="1447.1765"/><line style="stroke: #000000; stroke-width: 0.9421841541755889;" x1="824.4111" x2="824.4111" y1="94.3435" y2="149.1154"/><line style="stroke: #000000; stroke-width: 0.9421841541755889; stroke-dasharray: 1.0,4.0;" x1="824.4111" x2="824.4111" y1="149.1154" y2="194.3402"/><line style="stroke: #000000; stroke-width: 0.9421841541755889;" x1="824.4111" x2="824.4111" y1="194.3402" y2="1447.1765"/><rect fill="#9EA0CA" height="47.5693" rx="4.7109" ry="4.7109" style="stroke: #FFFFFF; stroke-width: 1.4132762312633833;" width="143.212" x="21.6702" y="45.8321"/><text fill="#FFFFFF" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="13.1906" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="111.1777" x="37.6874" y="74.6018">Bluetoothデバイス</text><rect fill="#9EA0CA" height="47.5693" rx="4.7109" ry="4.7109" style="stroke: #FFFFFF; stroke-width: 1.4132762312633833;" width="99.8715" x="211.0493" y="45.8321"/><text fill="#FFFFFF" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="13.1906" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="67.8373" x="227.0664" y="74.6018">クライアント</text><rect fill="#05D686" height="47.5693" rx="4.7109" ry="4.7109" style="stroke: #FFFFFF; stroke-width: 1.4132762312633833;" width="69.7216" x="545.5246" y="45.8321"/><text fill="#FFFFFF" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="13.1906" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="37.6874" x="561.5418" y="74.6018">Clova</text><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="11.3062" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="37.6874" x="802.7409" y="82.5368">ユーザー</text><ellipse cx="824.4111" cy="12.2484" fill="#FFFFFF" rx="7.5375" ry="7.5375" style="stroke: #000000; stroke-width: 1.8843683083511777;"/><path d="M824.4111,19.7859 L824.4111,45.2248 M812.1627,27.3233 L836.6595,27.3233 M824.4111,45.2248 L812.1627,59.3576 M824.4111,45.2248 L836.6595,59.3576 " fill="none" style="stroke: #000000; stroke-width: 1.8843683083511777;"/><rect fill="#FFFFFF" height="45.35" style="stroke: #FFFFFF; stroke-width: 0.9421841541755889;" width="9.4218" x="88.5653" y="103.7654"/><line style="stroke: #000000; stroke-width: 0.9421841541755889;" x1="88.5653" x2="88.5653" y1="103.7654" y2="149.1154"/><line style="stroke: #000000; stroke-width: 0.9421841541755889;" x1="97.9872" x2="97.9872" y1="103.7654" y2="149.1154"/><line style="stroke: #000000; stroke-width: 0.9421841541755889;" x1="88.5653" x2="97.9872" y1="103.7654" y2="103.7654"/><rect fill="#FFFFFF" height="1190.527" style="stroke: #FFFFFF; stroke-width: 0.9421841541755889;" width="9.4218" x="88.5653" y="194.3402"/><line style="stroke: #000000; stroke-width: 0.9421841541755889;" x1="88.5653" x2="88.5653" y1="194.3402" y2="1384.8672"/><line style="stroke: #000000; stroke-width: 0.9421841541755889;" x1="97.9872" x2="97.9872" y1="194.3402" y2="1384.8672"/><line style="stroke: #000000; stroke-width: 0.9421841541755889;" x1="88.5653" x2="97.9872" y1="1384.8672" y2="1384.8672"/><rect fill="#FFFFFF" height="116.2641" style="stroke: #000000; stroke-width: 0.9421841541755889;" width="9.4218" x="256.2741" y="290.8184"/><rect fill="#FFFFFF" height="203.3204" style="stroke: #000000; stroke-width: 0.9421841541755889;" width="9.4218" x="256.2741" y="575.7518"/><rect fill="#FFFFFF" height="456.4293" style="stroke: #000000; stroke-width: 0.9421841541755889;" width="9.4218" x="256.2741" y="883.0879"/><rect fill="#FFFFFF" height="1198.0644" style="stroke: #000000; stroke-width: 0.9421841541755889;" width="9.4218" x="575.6745" y="232.1527"/><polygon fill="#000000" points="249.6788,137.8092,259.1006,141.5779,249.6788,145.3466,253.4475,141.5779" style="stroke: #000000; stroke-width: 0.9421841541755889;"/><line style="stroke: #000000; stroke-width: 0.9421841541755889;" x1="97.9872" x2="255.3319" y1="141.5779" y2="141.5779"/><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="11.3062" lengthAdjust="spacingAndGlyphs" textLength="60.2998" x="149.3362" y="127.8868">Advertising</text><line style="stroke: #000000; stroke-width: 0.9421841541755889;" x1="585.0964" x2="594.5182" y1="232.1527" y2="228.384"/><line style="stroke: #000000; stroke-width: 0.9421841541755889;" x1="585.0964" x2="594.5182" y1="232.1527" y2="235.9214"/><line style="stroke: #000000; stroke-width: 0.9421841541755889;" x1="585.0964" x2="823.469" y1="232.1527" y2="232.1527"/><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="11.3062" lengthAdjust="spacingAndGlyphs" textLength="202.5696" x="603.469" y="218.4616">Bluetoothデバイスとの接続をリクエストする</text><polygon fill="#000000" points="276.06,287.0497,266.6381,290.8184,276.06,294.5871,272.2912,290.8184" style="stroke: #000000; stroke-width: 0.9421841541755889;"/><line style="stroke: #000000; stroke-width: 0.9421841541755889;" x1="270.4069" x2="574.7323" y1="290.8184" y2="290.8184"/><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="11.3062" lengthAdjust="spacingAndGlyphs" textLength="149.8073" x="345.7816" y="263.8116">DeviceControl.BtStartPairing</text><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="11.3062" lengthAdjust="spacingAndGlyphs" textLength="113.0621" x="364.1542" y="277.1273">ディレクティブを送信する</text><line style="stroke: #000000; stroke-width: 0.9421841541755889;" x1="265.6959" x2="305.2677" y1="336.1684" y2="336.1684"/><line style="stroke: #000000; stroke-width: 0.9421841541755889;" x1="305.2677" x2="305.2677" y1="336.1684" y2="348.4168"/><line style="stroke: #000000; stroke-width: 0.9421841541755889;" x1="266.6381" x2="305.2677" y1="348.4168" y2="348.4168"/><polygon fill="#000000" points="276.06,344.648,266.6381,348.4168,276.06,352.1855,272.2912,348.4168" style="stroke: #000000; stroke-width: 0.9421841541755889;"/><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="11.3062" lengthAdjust="spacingAndGlyphs" textLength="56.531" x="281.7131" y="322.4772">スキャンする</text><polygon fill="#000000" points="564.3683,403.3137,573.7901,407.0824,564.3683,410.8512,568.137,407.0824" style="stroke: #000000; stroke-width: 0.9421841541755889;"/><line style="stroke: #000000; stroke-width: 0.9421841541755889; stroke-dasharray: 2.0,2.0;" x1="260.985" x2="570.0214" y1="407.0824" y2="407.0824"/><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="11.3062" lengthAdjust="spacingAndGlyphs" textLength="268.5225" x="284.0685" y="380.0756">DeviceControl.ActionExecuted(DeviceStateを含める)</text><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="11.3062" lengthAdjust="spacingAndGlyphs" textLength="84.7966" x="375.9315" y="393.3913">イベントを送信する</text><polygon fill="#9EA0CA" points="44.2827,419.3308,309.9786,419.3308,319.4004,440.0589,309.9786,460.7869,44.2827,460.7869,34.8608,440.0589,44.2827,419.3308" style="stroke: #FFFFFF; stroke-width: 0.9421841541755889;"/><text fill="#FFFFFF" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="13.1906" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="180.8994" x="86.6809" y="445.274">Bluetoothデバイスが検出される</text><path d="M206.3383,472.5532 L277.9443,472.5532 L277.9443,497.05 L268.5225,506.4718 L201.6274,506.4718 L201.6274,477.2641 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 0.9421841541755889;"/><rect fill="none" height="203.4455" rx="4.7109" ry="4.7109" style="stroke: #000000; stroke-width: 1.8843683083511777;" width="423.0407" x="201.6274" y="472.5532"/><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="11.3062" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="15.0749" x="225.182" y="493.848">alt</text><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="11.3062" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="184.6681" x="301.4989" y="494.7902">[特定のデバイスが指定されたか == はい]</text><polygon fill="#000000" points="276.06,571.9831,266.6381,575.7518,276.06,579.5205,272.2912,575.7518" style="stroke: #000000; stroke-width: 0.9421841541755889;"/><line style="stroke: #000000; stroke-width: 0.9421841541755889;" x1="270.4069" x2="574.7323" y1="575.7518" y2="575.7518"/><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="11.3062" lengthAdjust="spacingAndGlyphs" textLength="224.2398" x="308.5653" y="548.745">DeviceControl.BtConnect(ペイロードを含める)</text><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="11.3062" lengthAdjust="spacingAndGlyphs" textLength="113.0621" x="364.1542" y="562.0607">ディレクティブを送信する</text><line style="stroke: #000000; stroke-width: 0.9421841541755889; stroke-dasharray: 2.0,2.0;" x1="201.6274" x2="624.6681" y1="584.2315" y2="584.2315"/><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="11.3062" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="194.0899" x="215.7602" y="604.5841">[特定のデバイスが指定されたか == いいえ]</text><polygon fill="#000000" points="276.06,664.6925,266.6381,668.4613,276.06,672.23,272.2912,668.4613" style="stroke: #000000; stroke-width: 0.9421841541755889;"/><line style="stroke: #000000; stroke-width: 0.9421841541755889;" x1="270.4069" x2="574.7323" y1="668.4613" y2="668.4613"/><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="11.3062" lengthAdjust="spacingAndGlyphs" textLength="233.6617" x="303.8544" y="641.4544">DeviceControl.BtConnect(ペイロードを含めない)</text><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="11.3062" lengthAdjust="spacingAndGlyphs" textLength="113.0621" x="364.1542" y="654.7701">ディレクティブを送信する</text><polygon fill="#000000" points="108.3512,716.6378,98.9293,720.4065,108.3512,724.1753,104.5824,720.4065" style="stroke: #000000; stroke-width: 0.9421841541755889;"/><line style="stroke: #000000; stroke-width: 0.9421841541755889;" x1="102.6981" x2="255.3319" y1="720.4065" y2="720.4065"/><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="11.3062" lengthAdjust="spacingAndGlyphs" textLength="96.1028" x="129.0792" y="706.7154">接続をリクエストする</text><polygon fill="#000000" points="564.3683,775.3035,573.7901,779.0722,564.3683,782.8409,568.137,779.0722" style="stroke: #000000; stroke-width: 0.9421841541755889;"/><line style="stroke: #000000; stroke-width: 0.9421841541755889; stroke-dasharray: 2.0,2.0;" x1="260.985" x2="570.0214" y1="779.0722" y2="779.0722"/><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="11.3062" lengthAdjust="spacingAndGlyphs" textLength="268.5225" x="284.0685" y="752.0654">DeviceControl.ActionExecuted(DeviceStateを含める)</text><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="11.3062" lengthAdjust="spacingAndGlyphs" textLength="84.7966" x="375.9315" y="765.3811">イベントを送信する</text><path d="M16.9593,793.205 L88.5653,793.205 L88.5653,817.7018 L79.1435,827.1236 L12.2484,827.1236 L12.2484,797.9159 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 0.9421841541755889;"/><rect fill="none" height="443.2388" rx="4.7109" ry="4.7109" style="stroke: #000000; stroke-width: 1.8843683083511777;" width="861.1563" x="12.2484" y="793.205"/><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="11.3062" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="15.0749" x="35.803" y="814.4998">alt</text><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="11.3062" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="184.6681" x="112.1199" y="815.442">[PINコードを必要としているか == はい]</text><line style="stroke: #000000; stroke-width: 0.9421841541755889;" x1="254.3897" x2="244.9679" y1="883.0879" y2="879.3191"/><line style="stroke: #000000; stroke-width: 0.9421841541755889;" x1="254.3897" x2="244.9679" y1="883.0879" y2="886.8566"/><line style="stroke: #000000; stroke-width: 0.9421841541755889;" x1="97.9872" x2="255.3319" y1="883.0879" y2="883.0879"/><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="11.3062" lengthAdjust="spacingAndGlyphs" textLength="121.5418" x="116.3597" y="869.3967">PINコードをリクエストする</text><polygon fill="#000000" points="564.3683,937.9848,573.7901,941.7535,564.3683,945.5223,568.137,941.7535" style="stroke: #000000; stroke-width: 0.9421841541755889;"/><line style="stroke: #000000; stroke-width: 0.9421841541755889;" x1="265.6959" x2="570.0214" y1="941.7535" y2="941.7535"/><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="11.3062" lengthAdjust="spacingAndGlyphs" textLength="195.9743" x="322.6981" y="914.7467">DeviceControl.BtRequestForPINCode</text><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="11.3062" lengthAdjust="spacingAndGlyphs" textLength="84.7966" x="378.2869" y="928.0624">イベントを送信する</text><polygon fill="#05D686" points="558.7152,954.0019,845.1392,954.0019,854.561,974.73,845.1392,995.458,558.7152,995.458,549.2934,974.73,558.7152,954.0019" style="stroke: #FFFFFF; stroke-width: 0.9421841541755889;"/><text fill="#FFFFFF" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="13.1906" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="191.2634" x="606.2955" y="979.9451">PINコードをリクエストし、入力する</text><path d="M206.3383,1007.2243 L277.9443,1007.2243 L277.9443,1031.7211 L268.5225,1041.1429 L201.6274,1041.1429 L201.6274,1011.9352 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 0.9421841541755889;"/><rect fill="none" height="222.6241" rx="4.7109" ry="4.7109" style="stroke: #000000; stroke-width: 1.8843683083511777;" width="662.3555" x="201.6274" y="1007.2243"/><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="11.3062" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="15.0749" x="225.182" y="1028.5191">alt</text><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="11.3062" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="252.5054" x="301.4989" y="1029.4613">[コードの入力をキャンセルしたと判断されるか == はい]</text><polygon fill="#000000" points="564.3683,1106.6542,573.7901,1110.4229,564.3683,1114.1916,568.137,1110.4229" style="stroke: #000000; stroke-width: 0.9421841541755889;"/><line style="stroke: #000000; stroke-width: 0.9421841541755889;" x1="265.6959" x2="570.0214" y1="1110.4229" y2="1110.4229"/><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="11.3062" lengthAdjust="spacingAndGlyphs" textLength="228.9507" x="306.2099" y="1083.4161">DeviceControl.BtRequestToCancelPINCode</text><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="11.3062" lengthAdjust="spacingAndGlyphs" textLength="84.7966" x="378.2869" y="1096.7318">イベントを送信する</text><polygon fill="#05D686" points="558.7152,1122.6713,845.1392,1122.6713,854.561,1143.3994,845.1392,1164.1274,558.7152,1164.1274,549.2934,1143.3994,558.7152,1122.6713" style="stroke: #FFFFFF; stroke-width: 0.9421841541755889;"/><text fill="#FFFFFF" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="13.1906" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="215.7602" x="594.0471" y="1148.6145">PINコードのリクエストをキャンセルする</text><line style="stroke: #000000; stroke-width: 0.9421841541755889; stroke-dasharray: 2.0,2.0;" x1="201.6274" x2="863.9829" y1="1170.2406" y2="1170.2406"/><polygon fill="#000000" points="276.06,1218.5422,266.6381,1222.311,276.06,1226.0797,272.2912,1222.311" style="stroke: #000000; stroke-width: 0.9421841541755889;"/><line style="stroke: #000000; stroke-width: 0.9421841541755889;" x1="270.4069" x2="574.7323" y1="1222.311" y2="1222.311"/><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="11.3062" lengthAdjust="spacingAndGlyphs" textLength="190.3212" x="325.5246" y="1195.3041">DeviceControl.BtConnectByPINCode</text><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="11.3062" lengthAdjust="spacingAndGlyphs" textLength="113.0621" x="364.1542" y="1208.6198">ディレクティブを送信する</text><polygon fill="#000000" points="108.3512,1277.0828,98.9293,1280.8515,108.3512,1284.6202,104.5824,1280.8515" style="stroke: #000000; stroke-width: 0.9421841541755889;"/><line style="stroke: #000000; stroke-width: 0.9421841541755889;" x1="102.6981" x2="255.3319" y1="1280.8515" y2="1280.8515"/><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="11.3062" lengthAdjust="spacingAndGlyphs" textLength="95.1606" x="129.5503" y="1267.1604">PINコードで接続する</text><polygon fill="#000000" points="564.3683,1335.7485,573.7901,1339.5172,564.3683,1343.2859,568.137,1339.5172" style="stroke: #000000; stroke-width: 0.9421841541755889;"/><line style="stroke: #000000; stroke-width: 0.9421841541755889;" x1="260.985" x2="570.0214" y1="1339.5172" y2="1339.5172"/><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="11.3062" lengthAdjust="spacingAndGlyphs" textLength="161.1135" x="337.773" y="1312.5104">DeviceControl.ActionExecuted</text><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="11.3062" lengthAdjust="spacingAndGlyphs" textLength="84.7966" x="375.9315" y="1325.8261">イベントを送信する</text><line style="stroke: #000000; stroke-width: 0.9421841541755889;" x1="259.1006" x2="249.6788" y1="1384.8672" y2="1381.0984"/><line style="stroke: #000000; stroke-width: 0.9421841541755889;" x1="259.1006" x2="249.6788" y1="1384.8672" y2="1388.6359"/><line style="stroke: #000000; stroke-width: 0.9421841541755889; stroke-dasharray: 2.0,2.0;" x1="93.2762" x2="260.0428" y1="1384.8672" y2="1384.8672"/><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="11.3062" lengthAdjust="spacingAndGlyphs" textLength="39.5717" x="157.3448" y="1371.1761">接続結果</text><polygon fill="#000000" points="813.1049,1426.4484,822.5268,1430.2171,813.1049,1433.9859,816.8737,1430.2171" style="stroke: #000000; stroke-width: 0.9421841541755889;"/><line style="stroke: #000000; stroke-width: 0.9421841541755889;" x1="580.3854" x2="818.758" y1="1430.2171" y2="1430.2171"/><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="11.3062" lengthAdjust="spacingAndGlyphs" textLength="86.6809" x="659.0578" y="1416.526">接続結果を通知する</text><!--
@startuml
scale max 880 width
skinparam sequenceMessageAlign center
skinparam shadowing false
skinparam roundcorner 10
skinparam padding 10
skinparam defaultFontSize 12
skinparam defaultFontName "Malgun Gothic", sans-serif

skinparam note {
  BackgroundColor #9EA0CA
  BorderColor #ffffff
  FontColor #ffffff
  FontSize 14
  FontStyle bold
}

skinparam sequence {
  ArrowColor #000000
  ActorBorderColor #000000
  ActorFontStyle Bolder


  LifeLineBorderColor #000000
  LifeLineBackgroundColor transparent
  ParticipantBorderColor transparent
  ParticipantFontSize 14
  ParticipantFontColor #ffffff
  ParticipantFontStyle bold

  BoxBorderColor #000000
  BoxFontColor #ffffff
    BoxFontSize 14
    BoxFontStyle bold
}
hide footbox

skinparam activity {
  BackgroundColor #9EA0CA
  BarColor #ffffff
  BorderColor #ffffff
  DiamondBackgroundColor #05D686
  DiamondBorderColor #ffffff
  DiamondFontColor #ffffff
  DiamondFontSize 14
  DiamondFontStyle bold
  FontColor #ffffff 
  FontSize 14
  FontStyle bold
}

participant "Bluetoothデバイス" as device #9EA0CA
participant クライアント as client #9EA0CA
participant "Clova" as clova #05D686
actor ユーザー as user #9EA0
activate device
device -> client: Advertising
...
user ->> clova : Bluetoothデバイスとの接続をリクエストする
activate clova
  clova -> client : DeviceControl.BtStartPairing\nディレクティブを送信する

activate client
  client -> client : スキャンする
  client - -> clova : DeviceControl.ActionExecuted(DeviceStateを含める)\nイベントを送信する
  hnote over client, device : Bluetoothデバイスが検出される
deactivate client

 alt 特定のデバイスが指定されたか == はい
	clova -> client : DeviceControl.BtConnect(ペイロードを含める)\nディレクティブを送信する

	activate client
 else 特定のデバイスが指定されたか == いいえ
    clova -> client : DeviceControl.BtConnect(ペイロードを含めない)\nディレクティブを送信する
end

  client -> device : 接続をリクエストする
  client - -> clova : DeviceControl.ActionExecuted(DeviceStateを含める)\nイベントを送信する

	deactivate client
  alt PINコードを必要としているか == はい
	device ->> client : PINコードをリクエストする

	activate client
	client -> clova : DeviceControl.BtRequestForPINCode\nイベントを送信する
    hnote over clova, user #05D686 : PINコードをリクエストし、入力する

    alt コードの入力をキャンセルしたと判断されるか == はい
		client -> clova : DeviceControl.BtRequestToCancelPINCode\nイベントを送信する
		hnote over clova, user #05D686 : PINコードのリクエストをキャンセルする
    else
 		clova -> client : DeviceControl.BtConnectByPINCode\nディレクティブを送信する
	end
  end
    client -> device : PINコードで接続する
    client -> clova : DeviceControl.ActionExecuted\nイベントを送信する

	deactivate client
	device - ->> client : 接続結果
 deactivate device

  clova -> user : 接続結果を通知する

deactivate clova

@enduml

PlantUML version 1.2018.12(Sun Oct 21 19:15:15 KST 2018)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11+28
Operating System: Mac OS X
OS Version: 10.14.2
Default Encoding: US-ASCII
Language: en
Country: KR
--></g></svg>