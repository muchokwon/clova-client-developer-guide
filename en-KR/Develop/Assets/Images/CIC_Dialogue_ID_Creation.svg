<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1154px" preserveAspectRatio="none" style="width:786px;height:1154px;" version="1.1" viewBox="0 0 786 1154" width="786px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="392.84" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="255.5" y="112.48"/><line style="stroke: #000000; stroke-width: 1.0;" x1="255.5" x2="255.5" y1="112.48" y2="505.32"/><line style="stroke: #000000; stroke-width: 1.0;" x1="265.5" x2="265.5" y1="112.48" y2="505.32"/><line style="stroke: #000000; stroke-width: 1.0;" x1="255.5" x2="265.5" y1="112.48" y2="112.48"/><rect fill="#FFFFFF" height="562.36" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="255.5" y="571.08"/><line style="stroke: #000000; stroke-width: 1.0;" x1="255.5" x2="255.5" y1="571.08" y2="1133.44"/><line style="stroke: #000000; stroke-width: 1.0;" x1="265.5" x2="265.5" y1="571.08" y2="1133.44"/><line style="stroke: #000000; stroke-width: 1.0;" x1="255.5" x2="265.5" y1="1133.44" y2="1133.44"/><rect fill="#FFFFFF" height="241.32" rx="5" ry="5" style="stroke: #000000; stroke-width: 2.0;" width="560.5" x="213.5" y="192.24"/><rect fill="#FFFFFF" height="109.28" style="stroke: none; stroke-width: 1.0;" width="560.5" x="213.5" y="324.28"/><rect fill="#FFFFFF" height="430.84" rx="5" ry="5" style="stroke: #000000; stroke-width: 2.0;" width="693" x="81" y="694.6"/><rect fill="#FFFFFF" height="104.52" style="stroke: none; stroke-width: 1.0;" width="693" x="81" y="1020.92"/><line style="stroke: #000000; stroke-width: 1.0;" x1="40" x2="40" y1="58.72" y2="505.32"/><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="40" x2="40" y1="505.32" y2="571.08"/><line style="stroke: #000000; stroke-width: 1.0;" x1="40" x2="40" y1="571.08" y2="1142.44"/><line style="stroke: #000000; stroke-width: 1.0;" x1="260.5" x2="260.5" y1="58.72" y2="505.32"/><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="260.5" x2="260.5" y1="505.32" y2="571.08"/><line style="stroke: #000000; stroke-width: 1.0;" x1="260.5" x2="260.5" y1="571.08" y2="1142.44"/><line style="stroke: #000000; stroke-width: 1.0;" x1="735" x2="735" y1="58.72" y2="505.32"/><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="735" x2="735" y1="505.32" y2="571.08"/><line style="stroke: #000000; stroke-width: 1.0;" x1="735" x2="735" y1="571.08" y2="1142.44"/><rect fill="#9EA0CA" height="54.72" rx="5" ry="5" style="stroke: #FFFFFF; stroke-width: 1.5;" width="65" x="8" y="3"/><text fill="#FFFFFF" font-family="Noto Sans CJK KR" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="31" x="25" y="36.24">User</text><rect fill="#9EA0CA" height="54.72" rx="5" ry="5" style="stroke: #FFFFFF; stroke-width: 1.5;" width="74" x="223.5" y="3"/><text fill="#FFFFFF" font-family="Noto Sans CJK KR" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="40" x="240.5" y="36.24">Client</text><rect fill="#05D686" height="54.72" rx="5" ry="5" style="stroke: #FFFFFF; stroke-width: 1.5;" width="57" x="707" y="3"/><text fill="#FFFFFF" font-family="Noto Sans CJK KR" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="724" y="36.24">CIC</text><rect fill="#FFFFFF" height="392.84" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="255.5" y="112.48"/><line style="stroke: #000000; stroke-width: 1.0;" x1="255.5" x2="255.5" y1="112.48" y2="505.32"/><line style="stroke: #000000; stroke-width: 1.0;" x1="265.5" x2="265.5" y1="112.48" y2="505.32"/><line style="stroke: #000000; stroke-width: 1.0;" x1="255.5" x2="265.5" y1="112.48" y2="112.48"/><rect fill="#FFFFFF" height="562.36" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="255.5" y="571.08"/><line style="stroke: #000000; stroke-width: 1.0;" x1="255.5" x2="255.5" y1="571.08" y2="1133.44"/><line style="stroke: #000000; stroke-width: 1.0;" x1="265.5" x2="265.5" y1="571.08" y2="1133.44"/><line style="stroke: #000000; stroke-width: 1.0;" x1="255.5" x2="265.5" y1="1133.44" y2="1133.44"/><line style="stroke: #000000; stroke-width: 1.0;" x1="253.5" x2="243.5" y1="112.48" y2="108.48"/><line style="stroke: #000000; stroke-width: 1.0;" x1="253.5" x2="243.5" y1="112.48" y2="116.48"/><line style="stroke: #000000; stroke-width: 1.0;" x1="40.5" x2="254.5" y1="112.48" y2="112.48"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="110" x="93" y="96.64">Play classical music</text><line style="stroke: #000000; stroke-width: 1.0;" x1="265.5" x2="307.5" y1="164.24" y2="164.24"/><line style="stroke: #000000; stroke-width: 1.0;" x1="307.5" x2="307.5" y1="164.24" y2="177.24"/><line style="stroke: #000000; stroke-width: 1.0;" x1="266.5" x2="307.5" y1="177.24" y2="177.24"/><polygon fill="#000000" points="276.5,173.24,266.5,177.24,276.5,181.24,272.5,177.24" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="133" x="282.5" y="148.4">Create a dialogue ID (A)</text><path d="M218.5,192.24 L294.5,192.24 L294.5,221.24 L284.5,231.24 L213.5,231.24 L213.5,197.24 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="241.32" rx="5" ry="5" style="stroke: #000000; stroke-width: 2.0;" width="560.5" x="213.5" y="192.24"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="16" x="238.5" y="217.16">alt</text><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="91" x="319.5" y="218.16">[Voice request]</text><line style="stroke: #000000; stroke-width: 1.0;" x1="733.5" x2="723.5" y1="316.28" y2="312.28"/><line style="stroke: #000000; stroke-width: 1.0;" x1="733.5" x2="723.5" y1="316.28" y2="320.28"/><line style="stroke: #000000; stroke-width: 1.0;" x1="265.5" x2="734.5" y1="316.28" y2="316.28"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="313" x="344" y="282.68">Sends the SpeechRecognizer.Recognize event message</text><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="156" x="422.5" y="300.44">(header.dialogRequestId: A)</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="213.5" x2="774" y1="325.28" y2="325.28"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="86" x="228.5" y="349.2">[Text request]</text><line style="stroke: #000000; stroke-width: 1.0;" x1="733.5" x2="723.5" y1="425.56" y2="421.56"/><line style="stroke: #000000; stroke-width: 1.0;" x1="733.5" x2="723.5" y1="425.56" y2="429.56"/><line style="stroke: #000000; stroke-width: 1.0;" x1="265.5" x2="734.5" y1="425.56" y2="425.56"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="297" x="352" y="391.96">Sends the TextRecognizer.Recognize event message</text><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="156" x="422.5" y="409.72">(header.dialogRequestId: A)</text><line style="stroke: #000000; stroke-width: 1.0;" x1="265.5" x2="307.5" y1="484.32" y2="484.32"/><line style="stroke: #000000; stroke-width: 1.0;" x1="307.5" x2="307.5" y1="484.32" y2="497.32"/><line style="stroke: #000000; stroke-width: 1.0;" x1="266.5" x2="307.5" y1="497.32" y2="497.32"/><polygon fill="#000000" points="276.5,493.32,266.5,497.32,276.5,501.32,272.5,497.32" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="169" x="282.5" y="468.48">Renews the latest dialogue ID</text><path d="M92,452.58 L92,492.58 A5,5 0 0 0 97,497.58 L245,497.58 A5,5 0 0 0 250,492.58 L250,457.58 L240,447.58 L97,447.58 A5,5 0 0 0 92,452.58 " fill="#9EA0CA" style="stroke: #FFFFFF; stroke-width: 1.0;"/><path d="M240,447.58 L240,455.08 A2.5,2.5 0 0 0 242.5,457.58 L250,457.58 L240,447.58 " fill="#9EA0CA" style="stroke: #FFFFFF; stroke-width: 1.0;"/><text fill="#FFFFFF" font-family="Noto Sans CJK KR" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="117" x="108" y="478.82">lastDialogueID: A</text><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="109" x="333.5" y="543.24">Processing request</text><line style="stroke: #000000; stroke-width: 1.0;" x1="253.5" x2="243.5" y1="614.84" y2="610.84"/><line style="stroke: #000000; stroke-width: 1.0;" x1="253.5" x2="243.5" y1="614.84" y2="618.84"/><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="40.5" x2="254.5" y1="614.84" y2="614.84"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="171" x="62.5" y="599">"Tell me the current weather"</text><line style="stroke: #000000; stroke-width: 1.0;" x1="265.5" x2="307.5" y1="666.6" y2="666.6"/><line style="stroke: #000000; stroke-width: 1.0;" x1="307.5" x2="307.5" y1="666.6" y2="679.6"/><line style="stroke: #000000; stroke-width: 1.0;" x1="266.5" x2="307.5" y1="679.6" y2="679.6"/><polygon fill="#000000" points="276.5,675.6,266.5,679.6,276.5,683.6,272.5,679.6" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="140" x="282.5" y="650.76">Creates a dialogue ID (B)</text><path d="M86,694.6 L162,694.6 L162,723.6 L152,733.6 L81,733.6 L81,699.6 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="430.84" rx="5" ry="5" style="stroke: #000000; stroke-width: 2.0;" width="693" x="81" y="694.6"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="16" x="106" y="719.52">alt</text><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="166" x="187" y="720.52">[Task handled successfully]</text><line style="stroke: #000000; stroke-width: 1.0;" x1="733.5" x2="723.5" y1="818.64" y2="814.64"/><line style="stroke: #000000; stroke-width: 1.0;" x1="733.5" x2="723.5" y1="818.64" y2="822.64"/><line style="stroke: #000000; stroke-width: 1.0;" x1="265.5" x2="734.5" y1="818.64" y2="818.64"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="313" x="344" y="785.04">Sends the SpeechRecognizer.Recognize event message</text><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="157" x="422" y="802.8">(header.dialogRequestId: B)</text><line style="stroke: #000000; stroke-width: 1.0;" x1="265.5" x2="307.5" y1="870.4" y2="870.4"/><line style="stroke: #000000; stroke-width: 1.0;" x1="307.5" x2="307.5" y1="870.4" y2="883.4"/><line style="stroke: #000000; stroke-width: 1.0;" x1="266.5" x2="307.5" y1="883.4" y2="883.4"/><polygon fill="#000000" points="276.5,879.4,266.5,883.4,276.5,887.4,272.5,883.4" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="169" x="282.5" y="854.56">Renews the latest dialogue ID</text><path d="M91,838.66 L91,878.66 A5,5 0 0 0 96,883.66 L245,883.66 A5,5 0 0 0 250,878.66 L250,843.66 L240,833.66 L96,833.66 A5,5 0 0 0 91,838.66 " fill="#9EA0CA" style="stroke: #FFFFFF; stroke-width: 1.0;"/><path d="M240,833.66 L240,841.16 A2.5,2.5 0 0 0 242.5,843.66 L250,843.66 L240,833.66 " fill="#9EA0CA" style="stroke: #FFFFFF; stroke-width: 1.0;"/><text fill="#FFFFFF" font-family="Noto Sans CJK KR" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="118" x="107" y="864.9">lastDialogueID: B</text><line style="stroke: #000000; stroke-width: 1.0;" x1="265.5" x2="307.5" y1="935.16" y2="935.16"/><line style="stroke: #000000; stroke-width: 1.0;" x1="307.5" x2="307.5" y1="935.16" y2="948.16"/><line style="stroke: #000000; stroke-width: 1.0;" x1="266.5" x2="307.5" y1="948.16" y2="948.16"/><polygon fill="#000000" points="276.5,944.16,266.5,948.16,276.5,952.16,272.5,948.16" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="346" x="282.5" y="919.32">Stops processing tasks related to the previous dialogue ID (A)</text><line style="stroke: #000000; stroke-width: 1.0;" x1="265.5" x2="307.5" y1="999.92" y2="999.92"/><line style="stroke: #000000; stroke-width: 1.0;" x1="307.5" x2="307.5" y1="999.92" y2="1012.92"/><line style="stroke: #000000; stroke-width: 1.0;" x1="266.5" x2="307.5" y1="1012.92" y2="1012.92"/><polygon fill="#000000" points="276.5,1008.92,266.5,1012.92,276.5,1016.92,272.5,1012.92" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="431" x="282.5" y="984.08">Discards all directives related to the dialogue ID (A) from the message queue</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="81" x2="774" y1="1021.92" y2="1021.92"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="413" x="96" y="1045.84">[Cancelled sending event messages that occurred due to exceptions]</text><line style="stroke: #000000; stroke-width: 1.0;" x1="265.5" x2="307.5" y1="1104.44" y2="1104.44"/><line style="stroke: #000000; stroke-width: 1.0;" x1="307.5" x2="307.5" y1="1104.44" y2="1117.44"/><line style="stroke: #000000; stroke-width: 1.0;" x1="266.5" x2="307.5" y1="1117.44" y2="1117.44"/><polygon fill="#000000" points="276.5,1113.44,266.5,1117.44,276.5,1121.44,272.5,1117.44" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="362" x="282.5" y="1088.6">Stops processing tasks related to the dialogue ID (A) (continued)</text><path d="M92,1072.7 L92,1112.7 A5,5 0 0 0 97,1117.7 L245,1117.7 A5,5 0 0 0 250,1112.7 L250,1077.7 L240,1067.7 L97,1067.7 A5,5 0 0 0 92,1072.7 " fill="#9EA0CA" style="stroke: #FFFFFF; stroke-width: 1.0;"/><path d="M240,1067.7 L240,1075.2 A2.5,2.5 0 0 0 242.5,1077.7 L250,1077.7 L240,1067.7 " fill="#9EA0CA" style="stroke: #FFFFFF; stroke-width: 1.0;"/><text fill="#FFFFFF" font-family="Noto Sans CJK KR" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="117" x="108" y="1098.94">lastDialogueID: A</text><!--
@startuml
scale max 880 width
skinparam sequenceMessageAlign center
skinparam shadowing false
skinparam roundcorner 10
skinparam padding 10
skinparam defaultFontSize 12
skinparam defaultFontName "Noto Sans CJK KR"

skinparam note {
  BackgroundColor #9EA0CA
  BorderColor #ffffff
  FontColor #ffffff
  FontSize 14
  FontStyle bold
}

skinparam sequence {
  ArrowColor #000000
  ActorBorderColor #000000
  ActorFontStyle Bolder


  LifeLineBorderColor #000000
  LifeLineBackgroundColor transparent
  ParticipantBorderColor transparent
  ParticipantFontSize 14
  ParticipantFontColor #ffffff
  ParticipantFontStyle bold

  BoxBorderColor #000000
  BoxFontColor #ffffff
    BoxFontSize 14
    BoxFontStyle bold
}
hide footbox

skinparam activity {
  BackgroundColor #9EA0CA
  BarColor #ffffff
  BorderColor #ffffff
  DiamondBackgroundColor #05D686
  DiamondBorderColor #ffffff
  DiamondFontColor #ffffff
  DiamondFontSize 14
  DiamondFontStyle bold
  FontColor #ffffff 
  FontSize 14
  FontStyle bold
}

participant User as user #9EA0CA
participant Client as client #9EA0CA
participant CIC as cic #05D686

user ->> client: Play classical music

activate client

  client -> client: Create a dialogue ID (A)

  alt Voice request

    client ->> cic: Sends the SpeechRecognizer.Recognize event message\n(header.dialogRequestId: A)

  else Text request

    client ->> cic: Sends the TextRecognizer.Recognize event message\n(header.dialogRequestId: A)

  end

  client -> client: Renews the latest dialogue ID

  note left: lastDialogueID: A

  ... Processing request ...

user - ->> client: "Tell me the current weather"

  client -> client: Creates a dialogue ID (B)

  alt Task handled successfully

    client ->> cic: Sends the SpeechRecognizer.Recognize event message\n(header.dialogRequestId: B)

    client -> client: Renews the latest dialogue ID

    note left: lastDialogueID: B

    client -> client: Stops processing tasks related to the previous dialogue ID (A)

    client -> client: Discards all directives related to the dialogue ID (A) from the message queue

  else Cancelled sending event messages that occurred due to exceptions

    client -> client: Stops processing tasks related to the dialogue ID (A) (continued)

    note left: lastDialogueID: A

  end

@enduml

PlantUML version 1.2019.09(Tue Aug 27 01:19:51 KST 2019)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11+28
Operating System: Mac OS X
OS Version: 10.14.6
Default Encoding: UTF-8
Language: en
Country: KR
--></g></svg>