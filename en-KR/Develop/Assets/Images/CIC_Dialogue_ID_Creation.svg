<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1154px" preserveAspectRatio="none" style="width:836px;height:1154px;" version="1.1" viewBox="0 0 836 1154" width="836px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="392.84" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="271.5" y="112.48"/><line style="stroke: #000000; stroke-width: 1.0;" x1="271.5" x2="271.5" y1="112.48" y2="505.32"/><line style="stroke: #000000; stroke-width: 1.0;" x1="281.5" x2="281.5" y1="112.48" y2="505.32"/><line style="stroke: #000000; stroke-width: 1.0;" x1="271.5" x2="281.5" y1="112.48" y2="112.48"/><rect fill="#FFFFFF" height="562.36" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="271.5" y="571.08"/><line style="stroke: #000000; stroke-width: 1.0;" x1="271.5" x2="271.5" y1="571.08" y2="1133.44"/><line style="stroke: #000000; stroke-width: 1.0;" x1="281.5" x2="281.5" y1="571.08" y2="1133.44"/><line style="stroke: #000000; stroke-width: 1.0;" x1="271.5" x2="281.5" y1="1133.44" y2="1133.44"/><rect fill="#FFFFFF" height="241.32" rx="5" ry="5" style="stroke: #000000; stroke-width: 2.0;" width="594.5" x="229.5" y="192.24"/><rect fill="#FFFFFF" height="109.28" style="stroke: none; stroke-width: 1.0;" width="594.5" x="229.5" y="324.28"/><rect fill="#FFFFFF" height="430.84" rx="5" ry="5" style="stroke: #000000; stroke-width: 2.0;" width="727" x="97" y="694.6"/><rect fill="#FFFFFF" height="104.52" style="stroke: none; stroke-width: 1.0;" width="727" x="97" y="1020.92"/><line style="stroke: #000000; stroke-width: 1.0;" x1="40" x2="40" y1="58.72" y2="505.32"/><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="40" x2="40" y1="505.32" y2="571.08"/><line style="stroke: #000000; stroke-width: 1.0;" x1="40" x2="40" y1="571.08" y2="1142.44"/><line style="stroke: #000000; stroke-width: 1.0;" x1="276.5" x2="276.5" y1="58.72" y2="505.32"/><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="276.5" x2="276.5" y1="505.32" y2="571.08"/><line style="stroke: #000000; stroke-width: 1.0;" x1="276.5" x2="276.5" y1="571.08" y2="1142.44"/><line style="stroke: #000000; stroke-width: 1.0;" x1="785" x2="785" y1="58.72" y2="505.32"/><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="785" x2="785" y1="505.32" y2="571.08"/><line style="stroke: #000000; stroke-width: 1.0;" x1="785" x2="785" y1="571.08" y2="1142.44"/><rect fill="#9EA0CA" height="54.72" rx="5" ry="5" style="stroke: #FFFFFF; stroke-width: 1.5;" width="65" x="8" y="3"/><text fill="#FFFFFF" font-family="Noto Sans CJK KR" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="31" x="25" y="36.24">User</text><rect fill="#9EA0CA" height="54.72" rx="5" ry="5" style="stroke: #FFFFFF; stroke-width: 1.5;" width="74" x="239.5" y="3"/><text fill="#FFFFFF" font-family="Noto Sans CJK KR" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="40" x="256.5" y="36.24">Client</text><rect fill="#05D686" height="54.72" rx="5" ry="5" style="stroke: #FFFFFF; stroke-width: 1.5;" width="57" x="757" y="3"/><text fill="#FFFFFF" font-family="Noto Sans CJK KR" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="774" y="36.24">CIC</text><rect fill="#FFFFFF" height="392.84" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="271.5" y="112.48"/><line style="stroke: #000000; stroke-width: 1.0;" x1="271.5" x2="271.5" y1="112.48" y2="505.32"/><line style="stroke: #000000; stroke-width: 1.0;" x1="281.5" x2="281.5" y1="112.48" y2="505.32"/><line style="stroke: #000000; stroke-width: 1.0;" x1="271.5" x2="281.5" y1="112.48" y2="112.48"/><rect fill="#FFFFFF" height="562.36" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="271.5" y="571.08"/><line style="stroke: #000000; stroke-width: 1.0;" x1="271.5" x2="271.5" y1="571.08" y2="1133.44"/><line style="stroke: #000000; stroke-width: 1.0;" x1="281.5" x2="281.5" y1="571.08" y2="1133.44"/><line style="stroke: #000000; stroke-width: 1.0;" x1="271.5" x2="281.5" y1="1133.44" y2="1133.44"/><line style="stroke: #000000; stroke-width: 1.0;" x1="269.5" x2="259.5" y1="112.48" y2="108.48"/><line style="stroke: #000000; stroke-width: 1.0;" x1="269.5" x2="259.5" y1="112.48" y2="116.48"/><line style="stroke: #000000; stroke-width: 1.0;" x1="40.5" x2="270.5" y1="112.48" y2="112.48"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="118" x="97" y="96.64">Play classical music</text><line style="stroke: #000000; stroke-width: 1.0;" x1="281.5" x2="323.5" y1="164.24" y2="164.24"/><line style="stroke: #000000; stroke-width: 1.0;" x1="323.5" x2="323.5" y1="164.24" y2="177.24"/><line style="stroke: #000000; stroke-width: 1.0;" x1="282.5" x2="323.5" y1="177.24" y2="177.24"/><polygon fill="#000000" points="292.5,173.24,282.5,177.24,292.5,181.24,288.5,177.24" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="143" x="298.5" y="148.4">Create a dialogue ID (A)</text><path d="M234.5,192.24 L310.5,192.24 L310.5,221.24 L300.5,231.24 L229.5,231.24 L229.5,197.24 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="241.32" rx="5" ry="5" style="stroke: #000000; stroke-width: 2.0;" width="594.5" x="229.5" y="192.24"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="16" x="254.5" y="217.16">alt</text><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="91" x="335.5" y="218.16">[Voice request]</text><line style="stroke: #000000; stroke-width: 1.0;" x1="783.5" x2="773.5" y1="316.28" y2="312.28"/><line style="stroke: #000000; stroke-width: 1.0;" x1="783.5" x2="773.5" y1="316.28" y2="320.28"/><line style="stroke: #000000; stroke-width: 1.0;" x1="281.5" x2="784.5" y1="316.28" y2="316.28"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="331" x="368" y="282.68">Sends the SpeechRecognizer.Recognize event message</text><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="171" x="448" y="300.44">(header.dialogRequestId: A)</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="229.5" x2="824" y1="325.28" y2="325.28"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="86" x="244.5" y="349.2">[Text request]</text><line style="stroke: #000000; stroke-width: 1.0;" x1="783.5" x2="773.5" y1="425.56" y2="421.56"/><line style="stroke: #000000; stroke-width: 1.0;" x1="783.5" x2="773.5" y1="425.56" y2="429.56"/><line style="stroke: #000000; stroke-width: 1.0;" x1="281.5" x2="784.5" y1="425.56" y2="425.56"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="314" x="376.5" y="391.96">Sends the TextRecognizer.Recognize event message</text><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="171" x="448" y="409.72">(header.dialogRequestId: A)</text><line style="stroke: #000000; stroke-width: 1.0;" x1="281.5" x2="323.5" y1="484.32" y2="484.32"/><line style="stroke: #000000; stroke-width: 1.0;" x1="323.5" x2="323.5" y1="484.32" y2="497.32"/><line style="stroke: #000000; stroke-width: 1.0;" x1="282.5" x2="323.5" y1="497.32" y2="497.32"/><polygon fill="#000000" points="292.5,493.32,282.5,497.32,292.5,501.32,288.5,497.32" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="179" x="298.5" y="468.48">Renews the latest dialogue ID</text><path d="M108,452.58 L108,492.58 A5,5 0 0 0 113,497.58 L261,497.58 A5,5 0 0 0 266,492.58 L266,457.58 L256,447.58 L113,447.58 A5,5 0 0 0 108,452.58 " fill="#9EA0CA" style="stroke: #FFFFFF; stroke-width: 1.0;"/><path d="M256,447.58 L256,455.08 A2.5,2.5 0 0 0 258.5,457.58 L266,457.58 L256,447.58 " fill="#9EA0CA" style="stroke: #FFFFFF; stroke-width: 1.0;"/><text fill="#FFFFFF" font-family="Noto Sans CJK KR" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="117" x="124" y="478.82">lastDialogueID: A</text><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="116" x="355" y="543.24">Processing request</text><line style="stroke: #000000; stroke-width: 1.0;" x1="269.5" x2="259.5" y1="614.84" y2="610.84"/><line style="stroke: #000000; stroke-width: 1.0;" x1="269.5" x2="259.5" y1="614.84" y2="618.84"/><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="40.5" x2="270.5" y1="614.84" y2="614.84"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="187" x="62.5" y="599">"Tell me the current weather"</text><line style="stroke: #000000; stroke-width: 1.0;" x1="281.5" x2="323.5" y1="666.6" y2="666.6"/><line style="stroke: #000000; stroke-width: 1.0;" x1="323.5" x2="323.5" y1="666.6" y2="679.6"/><line style="stroke: #000000; stroke-width: 1.0;" x1="282.5" x2="323.5" y1="679.6" y2="679.6"/><polygon fill="#000000" points="292.5,675.6,282.5,679.6,292.5,683.6,288.5,679.6" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="149" x="298.5" y="650.76">Creates a dialogue ID (B)</text><path d="M102,694.6 L178,694.6 L178,723.6 L168,733.6 L97,733.6 L97,699.6 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="430.84" rx="5" ry="5" style="stroke: #000000; stroke-width: 2.0;" width="727" x="97" y="694.6"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="16" x="122" y="719.52">alt</text><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="166" x="203" y="720.52">[Task handled successfully]</text><line style="stroke: #000000; stroke-width: 1.0;" x1="783.5" x2="773.5" y1="818.64" y2="814.64"/><line style="stroke: #000000; stroke-width: 1.0;" x1="783.5" x2="773.5" y1="818.64" y2="822.64"/><line style="stroke: #000000; stroke-width: 1.0;" x1="281.5" x2="784.5" y1="818.64" y2="818.64"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="331" x="368" y="785.04">Sends the SpeechRecognizer.Recognize event message</text><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="171" x="448" y="802.8">(header.dialogRequestId: B)</text><line style="stroke: #000000; stroke-width: 1.0;" x1="281.5" x2="323.5" y1="870.4" y2="870.4"/><line style="stroke: #000000; stroke-width: 1.0;" x1="323.5" x2="323.5" y1="870.4" y2="883.4"/><line style="stroke: #000000; stroke-width: 1.0;" x1="282.5" x2="323.5" y1="883.4" y2="883.4"/><polygon fill="#000000" points="292.5,879.4,282.5,883.4,292.5,887.4,288.5,883.4" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="179" x="298.5" y="854.56">Renews the latest dialogue ID</text><path d="M107,838.66 L107,878.66 A5,5 0 0 0 112,883.66 L261,883.66 A5,5 0 0 0 266,878.66 L266,843.66 L256,833.66 L112,833.66 A5,5 0 0 0 107,838.66 " fill="#9EA0CA" style="stroke: #FFFFFF; stroke-width: 1.0;"/><path d="M256,833.66 L256,841.16 A2.5,2.5 0 0 0 258.5,843.66 L266,843.66 L256,833.66 " fill="#9EA0CA" style="stroke: #FFFFFF; stroke-width: 1.0;"/><text fill="#FFFFFF" font-family="Noto Sans CJK KR" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="118" x="123" y="864.9">lastDialogueID: B</text><line style="stroke: #000000; stroke-width: 1.0;" x1="281.5" x2="323.5" y1="935.16" y2="935.16"/><line style="stroke: #000000; stroke-width: 1.0;" x1="323.5" x2="323.5" y1="935.16" y2="948.16"/><line style="stroke: #000000; stroke-width: 1.0;" x1="282.5" x2="323.5" y1="948.16" y2="948.16"/><polygon fill="#000000" points="292.5,944.16,282.5,948.16,292.5,952.16,288.5,948.16" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="375" x="298.5" y="919.32">Stops processing tasks related to the previous dialogue ID (A)</text><line style="stroke: #000000; stroke-width: 1.0;" x1="281.5" x2="323.5" y1="999.92" y2="999.92"/><line style="stroke: #000000; stroke-width: 1.0;" x1="323.5" x2="323.5" y1="999.92" y2="1012.92"/><line style="stroke: #000000; stroke-width: 1.0;" x1="282.5" x2="323.5" y1="1012.92" y2="1012.92"/><polygon fill="#000000" points="292.5,1008.92,282.5,1012.92,292.5,1016.92,288.5,1012.92" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="465" x="298.5" y="984.08">Discards all directives related to the dialogue ID (A) from the message queue</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="97" x2="824" y1="1021.92" y2="1021.92"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="413" x="112" y="1045.84">[Cancelled sending event messages that occurred due to exceptions]</text><line style="stroke: #000000; stroke-width: 1.0;" x1="281.5" x2="323.5" y1="1104.44" y2="1104.44"/><line style="stroke: #000000; stroke-width: 1.0;" x1="323.5" x2="323.5" y1="1104.44" y2="1117.44"/><line style="stroke: #000000; stroke-width: 1.0;" x1="282.5" x2="323.5" y1="1117.44" y2="1117.44"/><polygon fill="#000000" points="292.5,1113.44,282.5,1117.44,292.5,1121.44,288.5,1117.44" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="393" x="298.5" y="1088.6">Stops processing tasks related to the dialogue ID (A) (continued)</text><path d="M108,1072.7 L108,1112.7 A5,5 0 0 0 113,1117.7 L261,1117.7 A5,5 0 0 0 266,1112.7 L266,1077.7 L256,1067.7 L113,1067.7 A5,5 0 0 0 108,1072.7 " fill="#9EA0CA" style="stroke: #FFFFFF; stroke-width: 1.0;"/><path d="M256,1067.7 L256,1075.2 A2.5,2.5 0 0 0 258.5,1077.7 L266,1077.7 L256,1067.7 " fill="#9EA0CA" style="stroke: #FFFFFF; stroke-width: 1.0;"/><text fill="#FFFFFF" font-family="Noto Sans CJK KR" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="117" x="124" y="1098.94">lastDialogueID: A</text><!--
@startuml
scale max 880 width
skinparam sequenceMessageAlign center
skinparam shadowing false
skinparam roundcorner 10
skinparam padding 10
skinparam defaultFontSize 12
skinparam defaultFontName "Noto Sans CJK KR"

skinparam note {
  BackgroundColor #9EA0CA
  BorderColor #ffffff
  FontColor #ffffff
  FontSize 14
  FontStyle bold
}

skinparam sequence {
  ArrowColor #000000
  ActorBorderColor #000000
  ActorFontStyle Bolder


  LifeLineBorderColor #000000
  LifeLineBackgroundColor transparent
  ParticipantBorderColor transparent
  ParticipantFontSize 14
  ParticipantFontColor #ffffff
  ParticipantFontStyle bold

  BoxBorderColor #000000
  BoxFontColor #ffffff
    BoxFontSize 14
    BoxFontStyle bold
}
hide footbox

skinparam activity {
  BackgroundColor #9EA0CA
  BarColor #ffffff
  BorderColor #ffffff
  DiamondBackgroundColor #05D686
  DiamondBorderColor #ffffff
  DiamondFontColor #ffffff
  DiamondFontSize 14
  DiamondFontStyle bold
  FontColor #ffffff 
  FontSize 14
  FontStyle bold
}

participant User as user #9EA0CA
participant Client as client #9EA0CA
participant CIC as cic #05D686

user ->> client: Play classical music

activate client

  client -> client: Create a dialogue ID (A)

  alt Voice request

    client ->> cic: Sends the SpeechRecognizer.Recognize event message\n(header.dialogRequestId: A)

  else Text request

    client ->> cic: Sends the TextRecognizer.Recognize event message\n(header.dialogRequestId: A)

  end

  client -> client: Renews the latest dialogue ID

  note left: lastDialogueID: A

  ... Processing request ...

user - ->> client: "Tell me the current weather"

  client -> client: Creates a dialogue ID (B)

  alt Task handled successfully

    client ->> cic: Sends the SpeechRecognizer.Recognize event message\n(header.dialogRequestId: B)

    client -> client: Renews the latest dialogue ID

    note left: lastDialogueID: B

    client -> client: Stops processing tasks related to the previous dialogue ID (A)

    client -> client: Discards all directives related to the dialogue ID (A) from the message queue

  else Cancelled sending event messages that occurred due to exceptions

    client -> client: Stops processing tasks related to the dialogue ID (A) (continued)

    note left: lastDialogueID: A

  end

@enduml

PlantUML version 1.2019.09(Tue Aug 27 01:19:51 KST 2019)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11+28
Operating System: Mac OS X
OS Version: 10.15
Default Encoding: UTF-8
Language: en
Country: KR
--></g></svg>