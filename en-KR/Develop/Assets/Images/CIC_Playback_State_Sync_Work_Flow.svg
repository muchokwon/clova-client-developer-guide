<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="751.6575px" preserveAspectRatio="none" style="width:873px;height:751px;" version="1.1" viewBox="0 0 873 751" width="873.4296px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="38.3363" style="stroke: #000000; stroke-width: 0.8760577401692384;" width="8.7606" x="60.01" y="60.2027"/><rect fill="#FFFFFF" height="70.7504" style="stroke: #000000; stroke-width: 0.8760577401692384;" width="8.7606" x="60.01" y="663.2808"/><rect fill="#FFFFFF" height="100.3261" style="stroke: #FFFFFF; stroke-width: 0.8760577401692384;" width="8.7606" x="263.2554" y="200.407"/><line style="stroke: #000000; stroke-width: 0.8760577401692384;" x1="263.2554" x2="263.2554" y1="200.407" y2="300.7331"/><line style="stroke: #000000; stroke-width: 0.8760577401692384;" x1="272.0159" x2="272.0159" y1="200.407" y2="300.7331"/><line style="stroke: #000000; stroke-width: 0.8760577401692384;" x1="263.2554" x2="272.0159" y1="200.407" y2="200.407"/><rect fill="#FFFFFF" height="155.7631" style="stroke: #FFFFFF; stroke-width: 0.8760577401692384;" width="8.7606" x="263.2554" y="358.3427"/><line style="stroke: #000000; stroke-width: 0.8760577401692384;" x1="263.2554" x2="263.2554" y1="358.3427" y2="514.1057"/><line style="stroke: #000000; stroke-width: 0.8760577401692384;" x1="272.0159" x2="272.0159" y1="358.3427" y2="514.1057"/><line style="stroke: #000000; stroke-width: 0.8760577401692384;" x1="263.2554" x2="272.0159" y1="514.1057" y2="514.1057"/><rect fill="#FFFFFF" height="39.4226" style="stroke: #FFFFFF; stroke-width: 0.8760577401692384;" width="8.7606" x="387.6556" y="261.3105"/><line style="stroke: #000000; stroke-width: 0.8760577401692384;" x1="387.6556" x2="387.6556" y1="261.3105" y2="300.7331"/><line style="stroke: #000000; stroke-width: 0.8760577401692384;" x1="396.4161" x2="396.4161" y1="261.3105" y2="300.7331"/><line style="stroke: #000000; stroke-width: 0.8760577401692384;" x1="387.6556" x2="396.4161" y1="261.3105" y2="261.3105"/><rect fill="#FFFFFF" height="94.8595" style="stroke: #FFFFFF; stroke-width: 0.8760577401692384;" width="8.7606" x="387.6556" y="358.3427"/><line style="stroke: #000000; stroke-width: 0.8760577401692384;" x1="387.6556" x2="387.6556" y1="358.3427" y2="453.2022"/><line style="stroke: #000000; stroke-width: 0.8760577401692384;" x1="396.4161" x2="396.4161" y1="358.3427" y2="453.2022"/><line style="stroke: #000000; stroke-width: 0.8760577401692384;" x1="387.6556" x2="396.4161" y1="453.2022" y2="453.2022"/><rect fill="#FFFFFF" height="189.0533" style="stroke: #000000; stroke-width: 0.8760577401692384;" width="8.7606" x="726.6899" y="98.539"/><rect fill="#FFFFFF" height="260.6797" style="stroke: #000000; stroke-width: 0.8760577401692384;" width="8.7606" x="726.6899" y="453.2022"/><rect fill="#FFFFFF" height="182.9209" rx="4.3803" ry="4.3803" style="stroke: #000000; stroke-width: 1.7521154803384769;" width="563.7432" x="201.0553" y="111.6798"/><rect fill="#FFFFFF" height="156.6391" rx="4.3803" ry="4.3803" style="stroke: #000000; stroke-width: 1.7521154803384769;" width="563.7432" x="201.0553" y="364.4751"/><rect fill="#FFFFFF" height="136.9103" rx="4.3803" ry="4.3803" style="stroke: #000000; stroke-width: 1.7521154803384769;" width="753.4097" x="11.3888" y="590.1125"/><line style="stroke: #000000; stroke-width: 0.8760577401692384;" x1="63.9522" x2="63.9522" y1="51.4421" y2="300.7331"/><line style="stroke: #000000; stroke-width: 0.8760577401692384; stroke-dasharray: 1.0,4.0;" x1="63.9522" x2="63.9522" y1="300.7331" y2="358.3427"/><line style="stroke: #000000; stroke-width: 0.8760577401692384;" x1="63.9522" x2="63.9522" y1="358.3427" y2="741.9158"/><line style="stroke: #000000; stroke-width: 0.8760577401692384;" x1="267.6356" x2="267.6356" y1="51.4421" y2="300.7331"/><line style="stroke: #000000; stroke-width: 0.8760577401692384; stroke-dasharray: 1.0,4.0;" x1="267.6356" x2="267.6356" y1="300.7331" y2="358.3427"/><line style="stroke: #000000; stroke-width: 0.8760577401692384;" x1="267.6356" x2="267.6356" y1="358.3427" y2="741.9158"/><line style="stroke: #000000; stroke-width: 0.8760577401692384;" x1="392.0358" x2="392.0358" y1="51.4421" y2="300.7331"/><line style="stroke: #000000; stroke-width: 0.8760577401692384; stroke-dasharray: 1.0,4.0;" x1="392.0358" x2="392.0358" y1="300.7331" y2="358.3427"/><line style="stroke: #000000; stroke-width: 0.8760577401692384;" x1="392.0358" x2="392.0358" y1="358.3427" y2="741.9158"/><line style="stroke: #000000; stroke-width: 0.8760577401692384;" x1="730.6322" x2="730.6322" y1="51.4421" y2="300.7331"/><line style="stroke: #000000; stroke-width: 0.8760577401692384; stroke-dasharray: 1.0,4.0;" x1="730.6322" x2="730.6322" y1="300.7331" y2="358.3427"/><line style="stroke: #000000; stroke-width: 0.8760577401692384;" x1="730.6322" x2="730.6322" y1="358.3427" y2="741.9158"/><rect fill="#9EA0CA" height="47.9379" rx="4.3803" ry="4.3803" style="stroke: #FFFFFF; stroke-width: 1.3140866102538578;" width="88.4818" x="20.1493" y="2.6282"/><text fill="#FFFFFF" font-family="Noto Sans CJK KR" font-size="12.2648" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="58.6959" x="35.0423" y="31.7483">Clova app</text><rect fill="#9EA0CA" height="47.9379" rx="4.3803" ry="4.3803" style="stroke: #FFFFFF; stroke-width: 1.3140866102538578;" width="115.6396" x="209.8158" y="2.6282"/><text fill="#FFFFFF" font-family="Noto Sans CJK KR" font-size="12.2648" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="85.8537" x="224.7088" y="31.7483">Client device 1</text><rect fill="#9EA0CA" height="47.9379" rx="4.3803" ry="4.3803" style="stroke: #FFFFFF; stroke-width: 1.3140866102538578;" width="115.6396" x="334.216" y="2.6282"/><text fill="#FFFFFF" font-family="Noto Sans CJK KR" font-size="12.2648" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="85.8537" x="349.109" y="31.7483">Client device 2</text><rect fill="#05D686" height="47.9379" rx="4.3803" ry="4.3803" style="stroke: #FFFFFF; stroke-width: 1.3140866102538578;" width="49.9353" x="706.1025" y="2.6282"/><text fill="#FFFFFF" font-family="Noto Sans CJK KR" font-size="12.2648" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="20.1493" x="720.9955" y="31.7483">CIC</text><rect fill="#FFFFFF" height="38.3363" style="stroke: #000000; stroke-width: 0.8760577401692384;" width="8.7606" x="60.01" y="60.2027"/><rect fill="#FFFFFF" height="70.7504" style="stroke: #000000; stroke-width: 0.8760577401692384;" width="8.7606" x="60.01" y="663.2808"/><rect fill="#FFFFFF" height="100.3261" style="stroke: #FFFFFF; stroke-width: 0.8760577401692384;" width="8.7606" x="263.2554" y="200.407"/><line style="stroke: #000000; stroke-width: 0.8760577401692384;" x1="263.2554" x2="263.2554" y1="200.407" y2="300.7331"/><line style="stroke: #000000; stroke-width: 0.8760577401692384;" x1="272.0159" x2="272.0159" y1="200.407" y2="300.7331"/><line style="stroke: #000000; stroke-width: 0.8760577401692384;" x1="263.2554" x2="272.0159" y1="200.407" y2="200.407"/><rect fill="#FFFFFF" height="155.7631" style="stroke: #FFFFFF; stroke-width: 0.8760577401692384;" width="8.7606" x="263.2554" y="358.3427"/><line style="stroke: #000000; stroke-width: 0.8760577401692384;" x1="263.2554" x2="263.2554" y1="358.3427" y2="514.1057"/><line style="stroke: #000000; stroke-width: 0.8760577401692384;" x1="272.0159" x2="272.0159" y1="358.3427" y2="514.1057"/><line style="stroke: #000000; stroke-width: 0.8760577401692384;" x1="263.2554" x2="272.0159" y1="514.1057" y2="514.1057"/><rect fill="#FFFFFF" height="39.4226" style="stroke: #FFFFFF; stroke-width: 0.8760577401692384;" width="8.7606" x="387.6556" y="261.3105"/><line style="stroke: #000000; stroke-width: 0.8760577401692384;" x1="387.6556" x2="387.6556" y1="261.3105" y2="300.7331"/><line style="stroke: #000000; stroke-width: 0.8760577401692384;" x1="396.4161" x2="396.4161" y1="261.3105" y2="300.7331"/><line style="stroke: #000000; stroke-width: 0.8760577401692384;" x1="387.6556" x2="396.4161" y1="261.3105" y2="261.3105"/><rect fill="#FFFFFF" height="94.8595" style="stroke: #FFFFFF; stroke-width: 0.8760577401692384;" width="8.7606" x="387.6556" y="358.3427"/><line style="stroke: #000000; stroke-width: 0.8760577401692384;" x1="387.6556" x2="387.6556" y1="358.3427" y2="453.2022"/><line style="stroke: #000000; stroke-width: 0.8760577401692384;" x1="396.4161" x2="396.4161" y1="358.3427" y2="453.2022"/><line style="stroke: #000000; stroke-width: 0.8760577401692384;" x1="387.6556" x2="396.4161" y1="453.2022" y2="453.2022"/><rect fill="#FFFFFF" height="189.0533" style="stroke: #000000; stroke-width: 0.8760577401692384;" width="8.7606" x="726.6899" y="98.539"/><rect fill="#FFFFFF" height="260.6797" style="stroke: #000000; stroke-width: 0.8760577401692384;" width="8.7606" x="726.6899" y="453.2022"/><line style="stroke: #000000; stroke-width: 0.8760577401692384;" x1="724.9378" x2="716.1772" y1="98.539" y2="95.0347"/><line style="stroke: #000000; stroke-width: 0.8760577401692384;" x1="724.9378" x2="716.1772" y1="98.539" y2="102.0432"/><line style="stroke: #000000; stroke-width: 0.8760577401692384;" x1="64.3902" x2="725.8138" y1="98.539" y2="98.539"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="10.5127" lengthAdjust="spacingAndGlyphs" textLength="169.0791" x="311.0005" y="84.6622">Requests playback state of clients</text><path d="M205.4355,111.6798 L365.7541,111.6798 L365.7541,137.0855 L356.9935,145.8461 L201.0553,145.8461 L201.0553,116.0601 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 0.8760577401692384;"/><rect fill="none" height="182.9209" rx="4.3803" ry="4.3803" style="stroke: #000000; stroke-width: 1.7521154803384769;" width="563.7432" x="201.0553" y="111.6798"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="10.5127" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="107.7551" x="222.9567" y="133.5112">Request state report</text><line style="stroke: #000000; stroke-width: 0.8760577401692384;" x1="272.0159" x2="280.7765" y1="200.407" y2="196.9027"/><line style="stroke: #000000; stroke-width: 0.8760577401692384;" x1="272.0159" x2="280.7765" y1="200.407" y2="203.9112"/><line style="stroke: #000000; stroke-width: 0.8760577401692384;" x1="272.0159" x2="725.8138" y1="200.407" y2="200.407"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="10.5127" lengthAdjust="spacingAndGlyphs" textLength="296.1075" x="351.2992" y="170.9714">Forwards AudioPlayer.ExpectReportPlaybackState directive</text><text fill="#000000" font-family="Noto Sans CJK KR" font-size="10.5127" lengthAdjust="spacingAndGlyphs" textLength="89.3579" x="454.674" y="186.5302">(via downchannel)</text><line style="stroke: #000000; stroke-width: 0.8760577401692384;" x1="396.4161" x2="405.1767" y1="261.3105" y2="257.8063"/><line style="stroke: #000000; stroke-width: 0.8760577401692384;" x1="396.4161" x2="405.1767" y1="261.3105" y2="264.8147"/><line style="stroke: #000000; stroke-width: 0.8760577401692384;" x1="396.4161" x2="725.8138" y1="261.3105" y2="261.3105"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="10.5127" lengthAdjust="spacingAndGlyphs" textLength="296.1075" x="413.4993" y="231.875">Forwards AudioPlayer.ExpectReportPlaybackState directive</text><text fill="#000000" font-family="Noto Sans CJK KR" font-size="10.5127" lengthAdjust="spacingAndGlyphs" textLength="89.3579" x="516.8741" y="247.4337">(via downchannel)</text><text fill="#000000" font-family="Noto Sans CJK KR" font-size="10.5127" lengthAdjust="spacingAndGlyphs" textLength="211.1299" x="292.1653" y="333.9532">After collecting playback state from clients</text><path d="M205.4355,364.4751 L322.8273,364.4751 L322.8273,389.8807 L314.0667,398.6413 L201.0553,398.6413 L201.0553,368.8554 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 0.8760577401692384;"/><rect fill="none" height="156.6391" rx="4.3803" ry="4.3803" style="stroke: #000000; stroke-width: 1.7521154803384769;" width="563.7432" x="201.0553" y="364.4751"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="10.5127" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="64.8283" x="222.9567" y="386.3064">Report state</text><line style="stroke: #000000; stroke-width: 0.8760577401692384;" x1="724.9378" x2="716.1772" y1="453.2022" y2="449.698"/><line style="stroke: #000000; stroke-width: 0.8760577401692384;" x1="724.9378" x2="716.1772" y1="453.2022" y2="456.7064"/><line style="stroke: #000000; stroke-width: 0.8760577401692384;" x1="392.0358" x2="725.8138" y1="453.2022" y2="453.2022"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="10.5127" lengthAdjust="spacingAndGlyphs" textLength="230.4032" x="444.1613" y="423.7667">Sends AudioPlayer.ReportPlaybackState event</text><text fill="#000000" font-family="Noto Sans CJK KR" font-size="10.5127" lengthAdjust="spacingAndGlyphs" textLength="131.4087" x="493.6585" y="439.3254">(Reporting playback state)</text><line style="stroke: #000000; stroke-width: 0.8760577401692384;" x1="724.9378" x2="716.1772" y1="514.1057" y2="510.6015"/><line style="stroke: #000000; stroke-width: 0.8760577401692384;" x1="724.9378" x2="716.1772" y1="514.1057" y2="517.61"/><line style="stroke: #000000; stroke-width: 0.8760577401692384;" x1="267.6356" x2="725.8138" y1="514.1057" y2="514.1057"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="10.5127" lengthAdjust="spacingAndGlyphs" textLength="230.4032" x="381.9612" y="484.6702">Sends AudioPlayer.ReportPlaybackState event</text><text fill="#000000" font-family="Noto Sans CJK KR" font-size="10.5127" lengthAdjust="spacingAndGlyphs" textLength="131.4087" x="431.4584" y="500.229">(Reporting playback state)</text><line style="stroke: #000000; stroke-width: 0.8760577401692384;" x1="735.4505" x2="772.2449" y1="565.5829" y2="565.5829"/><line style="stroke: #000000; stroke-width: 0.8760577401692384;" x1="772.2449" x2="772.2449" y1="565.5829" y2="576.9716"/><line style="stroke: #000000; stroke-width: 0.8760577401692384;" x1="736.3265" x2="772.2449" y1="576.9716" y2="576.9716"/><polygon fill="#000000" points="745.0871,573.4674,736.3265,576.9716,745.0871,580.4759,741.5829,576.9716" style="stroke: #000000; stroke-width: 0.8760577401692384;"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="10.5127" lengthAdjust="spacingAndGlyphs" textLength="113.0114" x="750.3435" y="551.7061">Refines collected state</text><path d="M15.769,590.1125 L162.0707,590.1125 L162.0707,615.5182 L153.3101,624.2787 L11.3888,624.2787 L11.3888,594.4928 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 0.8760577401692384;"/><rect fill="none" height="136.9103" rx="4.3803" ry="4.3803" style="stroke: #000000; stroke-width: 1.7521154803384769;" width="753.4097" x="11.3888" y="590.1125"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="10.5127" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="93.7382" x="33.2902" y="611.9439">Synchronize state</text><line style="stroke: #000000; stroke-width: 0.8760577401692384;" x1="68.7705" x2="77.5311" y1="663.2808" y2="659.7766"/><line style="stroke: #000000; stroke-width: 0.8760577401692384;" x1="68.7705" x2="77.5311" y1="663.2808" y2="666.7851"/><line style="stroke: #000000; stroke-width: 0.8760577401692384;" x1="68.7705" x2="725.8138" y1="663.2808" y2="663.2808"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="10.5127" lengthAdjust="spacingAndGlyphs" textLength="109.5072" x="342.9766" y="649.4041">Shares playback state</text><line style="stroke: #000000; stroke-width: 0.8760577401692384;" x1="68.7705" x2="105.565" y1="713.0059" y2="713.0059"/><line style="stroke: #000000; stroke-width: 0.8760577401692384;" x1="105.565" x2="105.565" y1="713.0059" y2="724.3946"/><line style="stroke: #000000; stroke-width: 0.8760577401692384;" x1="64.3902" x2="105.565" y1="724.3946" y2="724.3946"/><polygon fill="#000000" points="73.1508,720.8904,64.3902,724.3946,73.1508,727.8989,69.6466,724.3946" style="stroke: #000000; stroke-width: 0.8760577401692384;"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="10.5127" lengthAdjust="spacingAndGlyphs" textLength="164.6989" x="83.6635" y="699.1291">Updates playback state of clients</text><!--
@startuml
scale max 880 width
skinparam sequenceMessageAlign center
skinparam shadowing false
skinparam roundcorner 10
skinparam padding 10
skinparam defaultFontSize 12
skinparam defaultFontName "Noto Sans CJK KR"

skinparam note {
  BackgroundColor #9EA0CA
  BorderColor #ffffff
  FontColor #ffffff
  FontSize 14
  FontStyle bold
}

skinparam sequence {
  ArrowColor #000000
  ActorBorderColor #000000
  ActorFontStyle Bolder


  LifeLineBorderColor #000000
  LifeLineBackgroundColor transparent
  ParticipantBorderColor transparent
  ParticipantFontSize 14
  ParticipantFontColor #ffffff
  ParticipantFontStyle bold

  BoxBorderColor #000000
  BoxFontColor #ffffff
    BoxFontSize 14
    BoxFontStyle bold
}
hide footbox

skinparam activity {
  BackgroundColor #9EA0CA
  BarColor #ffffff
  BorderColor #ffffff
  DiamondBackgroundColor #05D686
  DiamondBorderColor #ffffff
  DiamondFontColor #ffffff
  DiamondFontSize 14
  DiamondFontStyle bold
  FontColor #ffffff 
  FontSize 14
  FontStyle bold
}

participant "Clova app" as ca #9EA0CA
participant "Client device 1" as cli1 #9EA0CA
participant "Client device 2" as cli2 #9EA0CA
participant CIC as cic #05D686

activate ca
  ca ->> cic : Requests playback state of clients
deactivate ca

group Request state report

  activate cic

    cic ->> cli1 : Forwards AudioPlayer.ExpectReportPlaybackState directive\n(via downchannel)
    activate cli1

    cic ->> cli2 : Forwards AudioPlayer.ExpectReportPlaybackState directive\n(via downchannel)
    activate cli2

  deactivate cic

end

...After collecting playback state from clients...

group Report state

    cli2 ->> cic : Sends AudioPlayer.ReportPlaybackState event\n(Reporting playback state)
    deactivate cli2
  activate cic

    cli1 ->> cic : Sends AudioPlayer.ReportPlaybackState event\n(Reporting playback state)
    deactivate cli1

end

    cic -> cic : Refines collected state

group Synchronize state

    cic ->> ca : Shares playback state
    activate ca

    ca -> ca : Updates playback state of clients

  deactivate cic

end

@enduml

PlantUML version 1.2019.09(Tue Aug 27 01:19:51 KST 2019)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11+28
Operating System: Mac OS X
OS Version: 10.14.6
Default Encoding: UTF-8
Language: en
Country: KR
--></g></svg>