<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="603.7304px" preserveAspectRatio="none" style="width:884px;height:603px;" version="1.1" viewBox="0 0 884 603" width="884.0628px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="259.8153" style="stroke: #000000; stroke-width: 0.8125577100646353;" width="8.1256" x="284.3952" y="320.0208"/><rect fill="#FFFFFF" height="52.156" style="stroke: #000000; stroke-width: 0.8125577100646353;" width="8.1256" x="571.2281" y="123.6611"/><rect fill="#FFFFFF" height="299.7068" style="stroke: #000000; stroke-width: 0.8125577100646353;" width="8.1256" x="571.2281" y="280.1293"/><rect fill="#FFFFFF" height="404.0189" style="stroke: #000000; stroke-width: 0.8125577100646353;" width="8.1256" x="832.0591" y="175.8172"/><rect fill="#FFFFFF" height="340.4871" rx="4.0628" ry="4.0628" style="stroke: #000000; stroke-width: 1.6251154201292706;" width="863.7488" x="10.5633" y="188.0055"/><rect fill="#FFFFFF" height="162.0799" style="stroke: none; stroke-width: 0.8125577100646353;" width="863.7488" x="10.5633" y="366.4127"/><line style="stroke: #000000; stroke-width: 0.8125577100646353; stroke-dasharray: 5.0,5.0;" x1="50.3786" x2="50.3786" y1="82.1445" y2="594.4621"/><line style="stroke: #000000; stroke-width: 0.8125577100646353; stroke-dasharray: 5.0,5.0;" x1="288.0517" x2="288.0517" y1="82.1445" y2="594.4621"/><line style="stroke: #000000; stroke-width: 0.8125577100646353; stroke-dasharray: 5.0,5.0;" x1="575.2909" x2="575.2909" y1="82.1445" y2="594.4621"/><line style="stroke: #000000; stroke-width: 0.8125577100646353; stroke-dasharray: 5.0,5.0;" x1="836.1219" x2="836.1219" y1="82.1445" y2="594.4621"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="9.7507" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="42.253" x="26.8144" y="71.8764">ユーザー</text><ellipse cx="50.3786" cy="10.5633" fill="#FEFECE" rx="6.5005" ry="6.5005" style="stroke: #000000; stroke-width: 1.6251154201292706;"/><path d="M50.3786,17.0637 L50.3786,39.0028 M39.8153,23.5642 L60.9418,23.5642 M50.3786,39.0028 L39.8153,51.1911 M50.3786,39.0028 L60.9418,51.1911 " fill="none" style="stroke: #000000; stroke-width: 1.6251154201292706;"/><rect fill="#9EA0CA" height="41.9356" rx="4.0628" ry="4.0628" style="stroke: #FFFFFF; stroke-width: 1.2188365650969528;" width="132.4469" x="222.2345" y="39.3964"/><text fill="#FFFFFF" font-family="Noto Sans CJK KR" font-size="11.3758" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="104.8199" x="236.048" y="65.0189">Bluetoothデバイス</text><rect fill="#9EA0CA" height="41.9356" rx="4.0628" ry="4.0628" style="stroke: #FFFFFF; stroke-width: 1.2188365650969528;" width="100.7572" x="524.9123" y="39.3964"/><text fill="#FFFFFF" font-family="Noto Sans CJK KR" font-size="11.3758" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="73.1302" x="538.7258" y="65.0189">クライアント</text><rect fill="#05D686" height="41.9356" rx="4.0628" ry="4.0628" style="stroke: #FFFFFF; stroke-width: 1.2188365650969528;" width="60.1293" x="806.0572" y="39.3964"/><text fill="#FFFFFF" font-family="Noto Sans CJK KR" font-size="11.3758" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="32.5023" x="819.8707" y="65.0189">Clova</text><rect fill="#FFFFFF" height="259.8153" style="stroke: #000000; stroke-width: 0.8125577100646353;" width="8.1256" x="284.3952" y="320.0208"/><rect fill="#FFFFFF" height="52.156" style="stroke: #000000; stroke-width: 0.8125577100646353;" width="8.1256" x="571.2281" y="123.6611"/><rect fill="#FFFFFF" height="299.7068" style="stroke: #000000; stroke-width: 0.8125577100646353;" width="8.1256" x="571.2281" y="280.1293"/><rect fill="#FFFFFF" height="404.0189" style="stroke: #000000; stroke-width: 0.8125577100646353;" width="8.1256" x="832.0591" y="175.8172"/><line style="stroke: #000000; stroke-width: 0.8125577100646353;" x1="569.603" x2="561.4774" y1="123.6611" y2="120.4109"/><line style="stroke: #000000; stroke-width: 0.8125577100646353;" x1="569.603" x2="561.4774" y1="123.6611" y2="126.9114"/><line style="stroke: #000000; stroke-width: 0.8125577100646353;" x1="50.3786" x2="570.4155" y1="123.6611" y2="123.6611"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="9.7507" lengthAdjust="spacingAndGlyphs" textLength="195.0139" x="213.2964" y="111.7679">オーディオを再生するようにリクエストする</text><line style="stroke: #000000; stroke-width: 0.8125577100646353;" x1="830.434" x2="822.3084" y1="175.8172" y2="172.5669"/><line style="stroke: #000000; stroke-width: 0.8125577100646353;" x1="830.434" x2="822.3084" y1="175.8172" y2="179.0674"/><line style="stroke: #000000; stroke-width: 0.8125577100646353;" x1="575.2909" x2="831.2465" y1="175.8172" y2="175.8172"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="9.7507" lengthAdjust="spacingAndGlyphs" textLength="134.072" x="636.639" y="151.6595">SpeechRecognizer.Recognize</text><text fill="#000000" font-family="Noto Sans CJK KR" font-size="9.7507" lengthAdjust="spacingAndGlyphs" textLength="87.7562" x="659.7969" y="163.924">イベントを送信する</text><path d="M14.626,188.0055 L74.7553,188.0055 L74.7553,209.9446 L66.6297,218.0702 L10.5633,218.0702 L10.5633,192.0683 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 0.8125577100646353;"/><rect fill="none" height="340.4871" rx="4.0628" ry="4.0628" style="stroke: #000000; stroke-width: 1.6251154201292706;" width="863.7488" x="10.5633" y="188.0055"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="9.7507" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="11.3758" x="30.8772" y="207.0657">alt</text><text fill="#000000" font-family="Noto Sans CJK KR" font-size="9.7507" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="147.8855" x="95.0693" y="207.8783">[クライアントのロール == sink]</text><line style="stroke: #000000; stroke-width: 0.8125577100646353;" x1="579.3536" x2="587.4792" y1="280.1293" y2="276.879"/><line style="stroke: #000000; stroke-width: 0.8125577100646353;" x1="579.3536" x2="587.4792" y1="280.1293" y2="283.3795"/><line style="stroke: #000000; stroke-width: 0.8125577100646353;" x1="579.3536" x2="831.2465" y1="280.1293" y2="280.1293"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="9.7507" lengthAdjust="spacingAndGlyphs" textLength="92.6316" x="659.3906" y="255.9715">DeviceControl.BtPlay</text><text fill="#000000" font-family="Noto Sans CJK KR" font-size="9.7507" lengthAdjust="spacingAndGlyphs" textLength="117.0083" x="647.2022" y="268.2361">ディレクティブを送信する</text><polygon fill="#000000" points="561.4774,316.7705,569.603,320.0208,561.4774,323.271,564.7276,320.0208" style="stroke: #000000; stroke-width: 0.8125577100646353;"/><line style="stroke: #000000; stroke-width: 0.8125577100646353;" x1="292.5208" x2="566.3527" y1="320.0208" y2="320.0208"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="9.7507" lengthAdjust="spacingAndGlyphs" textLength="247.0175" x="308.3657" y="308.1276">Bluetoothデバイスからオーディオストリームを受信する</text><polygon fill="#000000" points="59.3167,356.662,51.1911,359.9123,59.3167,363.1625,56.0665,359.9123" style="stroke: #000000; stroke-width: 0.8125577100646353;"/><line style="stroke: #000000; stroke-width: 0.8125577100646353;" x1="54.4414" x2="570.4155" y1="359.9123" y2="359.9123"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="9.7507" lengthAdjust="spacingAndGlyphs" textLength="156.0111" x="232.7978" y="348.0191">スピーカーでオーディオを再生する</text><line style="stroke: #000000; stroke-width: 0.8125577100646353; stroke-dasharray: 2.0,2.0;" x1="10.5633" x2="874.3121" y1="367.2253" y2="367.2253"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="9.7507" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="160.8864" x="22.7516" y="385.4729">[クライアントのロール == source]</text><polygon fill="#000000" points="588.2918,438.9589,580.1662,442.2091,588.2918,445.4594,585.0416,442.2091" style="stroke: #000000; stroke-width: 0.8125577100646353;"/><line style="stroke: #000000; stroke-width: 0.8125577100646353;" x1="583.4164" x2="831.2465" y1="442.2091" y2="442.2091"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="9.7507" lengthAdjust="spacingAndGlyphs" textLength="73.9428" x="668.735" y="418.0514">AudioPlayer.Play</text><text fill="#000000" font-family="Noto Sans CJK KR" font-size="9.7507" lengthAdjust="spacingAndGlyphs" textLength="117.0083" x="647.2022" y="430.316">ディレクティブを送信する</text><polygon fill="#000000" points="301.4589,478.8504,293.3333,482.1006,301.4589,485.3509,298.2087,482.1006" style="stroke: #000000; stroke-width: 0.8125577100646353;"/><line style="stroke: #000000; stroke-width: 0.8125577100646353;" x1="296.5836" x2="570.4155" y1="482.1006" y2="482.1006"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="9.7507" lengthAdjust="spacingAndGlyphs" textLength="198.2641" x="332.7424" y="470.2075">Bluetoothスピーカーにオーディオを送信する</text><polygon fill="#000000" points="59.3167,518.7419,51.1911,521.9922,59.3167,525.2424,56.0665,521.9922" style="stroke: #000000; stroke-width: 0.8125577100646353;"/><line style="stroke: #000000; stroke-width: 0.8125577100646353;" x1="54.4414" x2="283.5826" y1="521.9922" y2="521.9922"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="9.7507" lengthAdjust="spacingAndGlyphs" textLength="198.2641" x="68.2548" y="510.099">Bluetoothスピーカーでオーディオを再生する</text><polygon fill="#000000" points="826.3712,576.5859,834.4968,579.8361,826.3712,583.0863,829.6214,579.8361" style="stroke: #000000; stroke-width: 0.8125577100646353;"/><line style="stroke: #000000; stroke-width: 0.8125577100646353; stroke-dasharray: 2.0,2.0;" x1="575.2909" x2="831.2465" y1="579.8361" y2="579.8361"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="9.7507" lengthAdjust="spacingAndGlyphs" textLength="214.5152" x="597.2299" y="555.6784">DeviceControl.ActionExecuted (with DeviceState)</text><text fill="#000000" font-family="Noto Sans CJK KR" font-size="9.7507" lengthAdjust="spacingAndGlyphs" textLength="87.7562" x="661.8283" y="567.9429">イベントを送信する</text><!--
@startuml
scale max 880 width
skinparam sequenceMessageAlign center
skinparam shadowing false
skinparam roundcorner 10
skinparam padding 10
skinparam defaultFontSize 12
skinparam defaultFontName "Noto Sans CJK KR"

skinparam note {
  BackgroundColor #9EA0CA
  BorderColor #ffffff
  FontColor #ffffff
  FontSize 14
  FontStyle bold
}

skinparam sequence {
  ArrowColor #000000
  ActorBorderColor #000000
  ActorFontStyle Bolder


  LifeLineBorderColor #000000
  LifeLineBackgroundColor transparent
  ParticipantBorderColor transparent
  ParticipantFontSize 14
  ParticipantFontColor #ffffff
  ParticipantFontStyle bold

  BoxBorderColor #000000
  BoxFontColor #ffffff
    BoxFontSize 14
    BoxFontStyle bold
}
hide footbox

skinparam activity {
  BackgroundColor #9EA0CA
  BarColor #ffffff
  BorderColor #ffffff
  DiamondBackgroundColor #05D686
  DiamondBorderColor #ffffff
  DiamondFontColor #ffffff
  DiamondFontSize 14
  DiamondFontStyle bold
  FontColor #ffffff 
  FontSize 14
  FontStyle bold
}

actor ユーザー as user
participant "Bluetoothデバイス" as device #9EA0CA
participant クライアント as client #9EA0CA
participant "Clova" as clova #05D686

user ->> client : オーディオを再生するようにリクエストする
activate client
client ->> clova : SpeechRecognizer.Recognize\nイベントを送信する
deactivate client
activate clova
alt クライアントのロール == sink
  clova ->> client : DeviceControl.BtPlay\nディレクティブを送信する

activate client

	device -> client : Bluetoothデバイスからオーディオストリームを受信する
  activate device
    client -> user : スピーカーでオーディオを再生する
else クライアントのロール == source
        clova -> client : AudioPlayer.Play\nディレクティブを送信する
        client -> device : Bluetoothスピーカーにオーディオを送信する
    device -> user : Bluetoothスピーカーでオーディオを再生する
end
  client - -> clova : DeviceControl.ActionExecuted (with DeviceState) \nイベントを送信する
deactivate client
deactivate device
deactivate clova

@enduml

PlantUML version 1.2019.09(Tue Aug 27 01:19:51 JST 2019)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_202-b08
Operating System: Windows 10
OS Version: 10.0
Default Encoding: MS932
Language: ja
Country: JP
--></g></svg>