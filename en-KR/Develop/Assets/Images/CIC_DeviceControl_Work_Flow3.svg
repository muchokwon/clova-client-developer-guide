<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1419.9292px" preserveAspectRatio="none" style="width:883px;height:1419px;" version="1.1" viewBox="0 0 883 1419" width="883.1158px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="46.0787" style="stroke: #FFFFFF; stroke-width: 0.8902377339403136;" width="8.9024" x="83.2372" y="101.2734"/><line style="stroke: #000000; stroke-width: 0.8902377339403136;" x1="83.2372" x2="83.2372" y1="101.2734" y2="147.3522"/><line style="stroke: #000000; stroke-width: 0.8902377339403136;" x1="92.1396" x2="92.1396" y1="101.2734" y2="147.3522"/><line style="stroke: #000000; stroke-width: 0.8902377339403136;" x1="83.2372" x2="92.1396" y1="101.2734" y2="101.2734"/><rect fill="#FFFFFF" height="1157.2378" style="stroke: #FFFFFF; stroke-width: 0.8902377339403136;" width="8.9024" x="83.2372" y="190.0836"/><line style="stroke: #000000; stroke-width: 0.8902377339403136;" x1="83.2372" x2="83.2372" y1="190.0836" y2="1347.3214"/><line style="stroke: #000000; stroke-width: 0.8902377339403136;" x1="92.1396" x2="92.1396" y1="190.0836" y2="1347.3214"/><line style="stroke: #000000; stroke-width: 0.8902377339403136;" x1="83.2372" x2="92.1396" y1="1347.3214" y2="1347.3214"/><rect fill="#FFFFFF" height="119.5411" style="stroke: #000000; stroke-width: 0.8902377339403136;" width="8.9024" x="256.8336" y="275.1191"/><rect fill="#FFFFFF" height="211.4849" style="stroke: #000000; stroke-width: 0.8902377339403136;" width="8.9024" x="256.8336" y="570.7136"/><rect fill="#FFFFFF" height="411.0762" style="stroke: #000000; stroke-width: 0.8902377339403136;" width="8.9024" x="256.8336" y="890.1665"/><rect fill="#FFFFFF" height="1164.3597" style="stroke: #000000; stroke-width: 0.8902377339403136;" width="8.9024" x="586.2215" y="229.0404"/><rect fill="#FFFFFF" height="214.8322" rx="4.4512" ry="4.4512" style="stroke: #000000; stroke-width: 1.7804754678806272;" width="412.1801" x="219.4436" y="460.2885"/><rect fill="#FFFFFF" height="97.2852" style="stroke: none; stroke-width: 0.8902377339403136;" width="412.1801" x="219.4436" y="577.8355"/><rect fill="#FFFFFF" height="414.4235" rx="4.4512" ry="4.4512" style="stroke: #000000; stroke-width: 1.7804754678806272;" width="862.1952" x="11.5731" y="795.5521"/><rect fill="#FFFFFF" height="201.8703" rx="4.4512" ry="4.4512" style="stroke: #000000; stroke-width: 1.7804754678806272;" width="645.4224" x="219.4436" y="1001.8735"/><rect fill="#FFFFFF" height="47.8592" style="stroke: none; stroke-width: 0.8902377339403136;" width="645.4224" x="219.4436" y="1155.8847"/><line style="stroke: #000000; stroke-width: 0.8902377339403136;" x1="87.2433" x2="87.2433" y1="92.3711" y2="147.3522"/><line style="stroke: #000000; stroke-width: 0.8902377339403136; stroke-dasharray: 1.0,4.0;" x1="87.2433" x2="87.2433" y1="147.3522" y2="190.0836"/><line style="stroke: #000000; stroke-width: 0.8902377339403136;" x1="87.2433" x2="87.2433" y1="190.0836" y2="1409.4244"/><line style="stroke: #000000; stroke-width: 0.8902377339403136;" x1="261.2848" x2="261.2848" y1="92.3711" y2="147.3522"/><line style="stroke: #000000; stroke-width: 0.8902377339403136; stroke-dasharray: 1.0,4.0;" x1="261.2848" x2="261.2848" y1="147.3522" y2="190.0836"/><line style="stroke: #000000; stroke-width: 0.8902377339403136;" x1="261.2848" x2="261.2848" y1="190.0836" y2="1409.4244"/><line style="stroke: #000000; stroke-width: 0.8902377339403136;" x1="590.6727" x2="590.6727" y1="92.3711" y2="147.3522"/><line style="stroke: #000000; stroke-width: 0.8902377339403136; stroke-dasharray: 1.0,4.0;" x1="590.6727" x2="590.6727" y1="147.3522" y2="190.0836"/><line style="stroke: #000000; stroke-width: 0.8902377339403136;" x1="590.6727" x2="590.6727" y1="190.0836" y2="1409.4244"/><line style="stroke: #000000; stroke-width: 0.8902377339403136;" x1="830.5918" x2="830.5918" y1="92.3711" y2="147.3522"/><line style="stroke: #000000; stroke-width: 0.8902377339403136; stroke-dasharray: 1.0,4.0;" x1="830.5918" x2="830.5918" y1="147.3522" y2="190.0836"/><line style="stroke: #000000; stroke-width: 0.8902377339403136;" x1="830.5918" x2="830.5918" y1="190.0836" y2="1409.4244"/><rect fill="#9EA0CA" height="48.7138" rx="4.4512" ry="4.4512" style="stroke: #FFFFFF; stroke-width: 1.3353566009104703;" width="134.4259" x="20.4755" y="42.767"/><text fill="#FFFFFF" font-family="Noto Sans CJK KR" font-size="12.4633" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="104.1578" x="35.6095" y="72.3585">Bluetooth device</text><rect fill="#9EA0CA" height="48.7138" rx="4.4512" ry="4.4512" style="stroke: #FFFFFF; stroke-width: 1.3353566009104703;" width="65.8776" x="228.346" y="42.767"/><text fill="#FFFFFF" font-family="Noto Sans CJK KR" font-size="12.4633" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="35.6095" x="243.48" y="72.3585">Client</text><rect fill="#05D686" height="48.7138" rx="4.4512" ry="4.4512" style="stroke: #FFFFFF; stroke-width: 1.3353566009104703;" width="64.0971" x="558.6242" y="42.767"/><text fill="#FFFFFF" font-family="Noto Sans CJK KR" font-size="12.4633" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="33.829" x="573.7582" y="72.3585">Clova</text><text fill="#000000" font-family="Noto Sans CJK KR" font-size="10.6829" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="24.0364" x="816.348" y="80.0502">User</text><ellipse cx="831.0369" cy="11.5731" fill="#FFFFFF" rx="7.1219" ry="7.1219" style="stroke: #000000; stroke-width: 1.7804754678806272;"/><path d="M831.0369,18.695 L831.0369,42.7314 M819.4638,25.8169 L842.61,25.8169 M831.0369,42.7314 L819.4638,56.085 M831.0369,42.7314 L842.61,56.085 " fill="none" style="stroke: #000000; stroke-width: 1.7804754678806272;"/><rect fill="#FFFFFF" height="46.0787" style="stroke: #FFFFFF; stroke-width: 0.8902377339403136;" width="8.9024" x="83.2372" y="101.2734"/><line style="stroke: #000000; stroke-width: 0.8902377339403136;" x1="83.2372" x2="83.2372" y1="101.2734" y2="147.3522"/><line style="stroke: #000000; stroke-width: 0.8902377339403136;" x1="92.1396" x2="92.1396" y1="101.2734" y2="147.3522"/><line style="stroke: #000000; stroke-width: 0.8902377339403136;" x1="83.2372" x2="92.1396" y1="101.2734" y2="101.2734"/><rect fill="#FFFFFF" height="1157.2378" style="stroke: #FFFFFF; stroke-width: 0.8902377339403136;" width="8.9024" x="83.2372" y="190.0836"/><line style="stroke: #000000; stroke-width: 0.8902377339403136;" x1="83.2372" x2="83.2372" y1="190.0836" y2="1347.3214"/><line style="stroke: #000000; stroke-width: 0.8902377339403136;" x1="92.1396" x2="92.1396" y1="190.0836" y2="1347.3214"/><line style="stroke: #000000; stroke-width: 0.8902377339403136;" x1="83.2372" x2="92.1396" y1="1347.3214" y2="1347.3214"/><rect fill="#FFFFFF" height="119.5411" style="stroke: #000000; stroke-width: 0.8902377339403136;" width="8.9024" x="256.8336" y="275.1191"/><rect fill="#FFFFFF" height="211.4849" style="stroke: #000000; stroke-width: 0.8902377339403136;" width="8.9024" x="256.8336" y="570.7136"/><rect fill="#FFFFFF" height="411.0762" style="stroke: #000000; stroke-width: 0.8902377339403136;" width="8.9024" x="256.8336" y="890.1665"/><rect fill="#FFFFFF" height="1164.3597" style="stroke: #000000; stroke-width: 0.8902377339403136;" width="8.9024" x="586.2215" y="229.0404"/><polygon fill="#000000" points="250.6019,136.6693,259.5043,140.2302,250.6019,143.7912,254.1629,140.2302" style="stroke: #000000; stroke-width: 0.8902377339403136;"/><line style="stroke: #000000; stroke-width: 0.8902377339403136;" x1="92.1396" x2="255.9433" y1="140.2302" y2="140.2302"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="10.6829" lengthAdjust="spacingAndGlyphs" textLength="56.085" x="148.6697" y="126.1289">Advertising</text><line style="stroke: #000000; stroke-width: 0.8902377339403136;" x1="595.1239" x2="604.0263" y1="229.0404" y2="225.4794"/><line style="stroke: #000000; stroke-width: 0.8902377339403136;" x1="595.1239" x2="604.0263" y1="229.0404" y2="232.6013"/><line style="stroke: #000000; stroke-width: 0.8902377339403136;" x1="595.1239" x2="830.1467" y1="229.0404" y2="229.0404"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="10.6829" lengthAdjust="spacingAndGlyphs" textLength="201.1937" x="612.4836" y="214.939">Requests a Bluetooth device connection</text><polygon fill="#000000" points="275.5286,271.5581,266.6262,275.1191,275.5286,278.68,271.9676,275.1191" style="stroke: #000000; stroke-width: 0.8902377339403136;"/><line style="stroke: #000000; stroke-width: 0.8902377339403136;" x1="270.1872" x2="585.3313" y1="275.1191" y2="275.1191"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="10.6829" lengthAdjust="spacingAndGlyphs" textLength="225.2301" x="313.3637" y="261.0177">Sends DeviceControl.BtStartPairing directive</text><line style="stroke: #000000; stroke-width: 0.8902377339403136;" x1="265.736" x2="303.1259" y1="321.1978" y2="321.1978"/><line style="stroke: #000000; stroke-width: 0.8902377339403136;" x1="303.1259" x2="303.1259" y1="321.1978" y2="332.7709"/><line style="stroke: #000000; stroke-width: 0.8902377339403136;" x1="266.6262" x2="303.1259" y1="332.7709" y2="332.7709"/><polygon fill="#000000" points="275.5286,329.2099,266.6262,332.7709,275.5286,336.3318,271.9676,332.7709" style="stroke: #000000; stroke-width: 0.8902377339403136;"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="10.6829" lengthAdjust="spacingAndGlyphs" textLength="29.3778" x="280.87" y="307.0964">Scans</text><polygon fill="#000000" points="575.5387,391.0992,584.4411,394.6602,575.5387,398.2211,579.0996,394.6602" style="stroke: #000000; stroke-width: 0.8902377339403136;"/><line style="stroke: #000000; stroke-width: 0.8902377339403136; stroke-dasharray: 2.0,2.0;" x1="261.2848" x2="580.8801" y1="394.6602" y2="394.6602"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="10.6829" lengthAdjust="spacingAndGlyphs" textLength="214.5473" x="316.4795" y="364.7482">Sends DeviceControl.ActionExecuted event</text><text fill="#000000" font-family="Noto Sans CJK KR" font-size="10.6829" lengthAdjust="spacingAndGlyphs" textLength="92.5847" x="377.4608" y="380.5588">(with DeviceState)</text><polygon fill="#9EA0CA" points="48.0728,406.2333,299.1199,406.2333,308.0223,427.599,299.1199,448.9647,48.0728,448.9647,39.1705,427.599,48.0728,406.2333" style="stroke: #FFFFFF; stroke-width: 0.8902377339403136;"/><text fill="#FFFFFF" font-family="Noto Sans CJK KR" font-size="12.4633" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="155.7916" x="95.9231" y="433.1541">Found a Bluetooth device</text><path d="M223.8948,460.2885 L291.5529,460.2885 L291.5529,486.1054 L282.6505,495.0078 L219.4436,495.0078 L219.4436,464.7397 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 0.8902377339403136;"/><rect fill="none" height="214.8322" rx="4.4512" ry="4.4512" style="stroke: #000000; stroke-width: 1.7804754678806272;" width="412.1801" x="219.4436" y="460.2885"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="10.6829" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14.2438" x="241.6995" y="482.4732">alt</text><text fill="#000000" font-family="Noto Sans CJK KR" font-size="10.6829" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="172.7061" x="313.8088" y="483.3635">[Specific device assigned == Yes]</text><polygon fill="#000000" points="275.5286,567.1527,266.6262,570.7136,275.5286,574.2746,271.9676,570.7136" style="stroke: #000000; stroke-width: 0.8902377339403136;"/><line style="stroke: #000000; stroke-width: 0.8902377339403136;" x1="270.1872" x2="585.3313" y1="570.7136" y2="570.7136"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="10.6829" lengthAdjust="spacingAndGlyphs" textLength="205.6449" x="323.1563" y="540.8016">Sends DeviceControl.BtConnect directive</text><text fill="#000000" font-family="Noto Sans CJK KR" font-size="10.6829" lengthAdjust="spacingAndGlyphs" textLength="71.219" x="390.3692" y="556.6122">(with payload)</text><line style="stroke: #000000; stroke-width: 0.8902377339403136; stroke-dasharray: 2.0,2.0;" x1="219.4436" x2="631.6237" y1="578.7257" y2="578.7257"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="10.6829" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="170.0354" x="232.7972" y="600.0202">[Specific device assigned == No]</text><polygon fill="#000000" points="275.5286,664.4378,266.6262,667.9988,275.5286,671.5597,271.9676,667.9988" style="stroke: #000000; stroke-width: 0.8902377339403136;"/><line style="stroke: #000000; stroke-width: 0.8902377339403136;" x1="270.1872" x2="585.3313" y1="667.9988" y2="667.9988"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="10.6829" lengthAdjust="spacingAndGlyphs" textLength="205.6449" x="323.1563" y="638.0868">Sends DeviceControl.BtConnect directive</text><text fill="#000000" font-family="Noto Sans CJK KR" font-size="10.6829" lengthAdjust="spacingAndGlyphs" textLength="88.1335" x="381.912" y="653.8974">(without payload)</text><polygon fill="#000000" points="101.9322,716.7482,93.0298,720.3092,101.9322,723.8701,98.3713,720.3092" style="stroke: #000000; stroke-width: 0.8902377339403136;"/><line style="stroke: #000000; stroke-width: 0.8902377339403136;" x1="96.5908" x2="255.9433" y1="720.3092" y2="720.3092"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="10.6829" lengthAdjust="spacingAndGlyphs" textLength="105.0481" x="121.9626" y="706.2078">Requests connection</text><polygon fill="#000000" points="575.5387,778.6375,584.4411,782.1985,575.5387,785.7594,579.0996,782.1985" style="stroke: #000000; stroke-width: 0.8902377339403136;"/><line style="stroke: #000000; stroke-width: 0.8902377339403136; stroke-dasharray: 2.0,2.0;" x1="261.2848" x2="580.8801" y1="782.1985" y2="782.1985"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="10.6829" lengthAdjust="spacingAndGlyphs" textLength="214.5473" x="316.4795" y="752.2865">Sends DeviceControl.ActionExecuted event</text><text fill="#000000" font-family="Noto Sans CJK KR" font-size="10.6829" lengthAdjust="spacingAndGlyphs" textLength="92.5847" x="377.4608" y="768.0971">(with DeviceState)</text><path d="M16.0243,795.5521 L83.6823,795.5521 L83.6823,821.3689 L74.78,830.2713 L11.5731,830.2713 L11.5731,800.0032 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 0.8902377339403136;"/><rect fill="none" height="414.4235" rx="4.4512" ry="4.4512" style="stroke: #000000; stroke-width: 1.7804754678806272;" width="862.1952" x="11.5731" y="795.5521"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="10.6829" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14.2438" x="33.829" y="817.7368">alt</text><text fill="#000000" font-family="Noto Sans CJK KR" font-size="10.6829" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="140.6576" x="105.9383" y="818.627">[PIN code required == Yes]</text><line style="stroke: #000000; stroke-width: 0.8902377339403136;" x1="255.0531" x2="246.1507" y1="890.1665" y2="886.6056"/><line style="stroke: #000000; stroke-width: 0.8902377339403136;" x1="255.0531" x2="246.1507" y1="890.1665" y2="893.7275"/><line style="stroke: #000000; stroke-width: 0.8902377339403136;" x1="92.1396" x2="255.9433" y1="890.1665" y2="890.1665"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="10.6829" lengthAdjust="spacingAndGlyphs" textLength="95.2554" x="126.8589" y="876.0652">Requests PIN code</text><polygon fill="#000000" points="575.5387,932.6843,584.4411,936.2452,575.5387,939.8062,579.0996,936.2452" style="stroke: #000000; stroke-width: 0.8902377339403136;"/><line style="stroke: #000000; stroke-width: 0.8902377339403136;" x1="265.736" x2="580.8801" y1="936.2452" y2="936.2452"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="10.6829" lengthAdjust="spacingAndGlyphs" textLength="251.9373" x="300.0101" y="922.1439">Sends DeviceControl.BtRequestForPINCode event</text><polygon fill="#05D686" points="573.3131,947.8183,846.6161,947.8183,855.5185,969.184,846.6161,990.5497,573.3131,990.5497,564.4107,969.184,573.3131,947.8183" style="stroke: #FFFFFF; stroke-width: 0.8902377339403136;"/><text fill="#FFFFFF" font-family="Noto Sans CJK KR" font-size="12.4633" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="218.9985" x="600.6879" y="974.7391">Requests PIN code and handle input</text><path d="M223.8948,1001.8735 L291.5529,1001.8735 L291.5529,1027.6904 L282.6505,1036.5928 L219.4436,1036.5928 L219.4436,1006.3247 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 0.8902377339403136;"/><rect fill="none" height="201.8703" rx="4.4512" ry="4.4512" style="stroke: #000000; stroke-width: 1.7804754678806272;" width="645.4224" x="219.4436" y="1001.8735"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="10.6829" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14.2438" x="241.6995" y="1024.0583">alt</text><text fill="#000000" font-family="Noto Sans CJK KR" font-size="10.6829" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="192.2914" x="313.8088" y="1024.9485">[Decide to cancel code input == Yes]</text><polygon fill="#000000" points="575.5387,1092.9271,584.4411,1096.488,575.5387,1100.049,579.0996,1096.488" style="stroke: #000000; stroke-width: 0.8902377339403136;"/><line style="stroke: #000000; stroke-width: 0.8902377339403136;" x1="265.736" x2="580.8801" y1="1096.488" y2="1096.488"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="10.6829" lengthAdjust="spacingAndGlyphs" textLength="281.3151" x="285.3212" y="1082.3867">Sends DeviceControl.BtRequestToCancelPINCode event</text><polygon fill="#05D686" points="573.3131,1108.0611,846.6161,1108.0611,855.5185,1129.4268,846.6161,1150.7925,573.3131,1150.7925,564.4107,1129.4268,573.3131,1108.0611" style="stroke: #FFFFFF; stroke-width: 0.8902377339403136;"/><text fill="#FFFFFF" font-family="Noto Sans CJK KR" font-size="12.4633" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="247.4861" x="586.4441" y="1134.9819">Handles cancellation of PIN code request</text><line style="stroke: #000000; stroke-width: 0.8902377339403136; stroke-dasharray: 2.0,2.0;" x1="219.4436" x2="864.866" y1="1156.7749" y2="1156.7749"/><polygon fill="#000000" points="275.5286,1193.061,266.6262,1196.622,275.5286,1200.1829,271.9676,1196.622" style="stroke: #000000; stroke-width: 0.8902377339403136;"/><line style="stroke: #000000; stroke-width: 0.8902377339403136;" x1="270.1872" x2="585.3313" y1="1196.622" y2="1196.622"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="10.6829" lengthAdjust="spacingAndGlyphs" textLength="262.6201" x="294.6687" y="1182.5206">Sends DeviceControl.BtConnectByPINCode directive</text><polygon fill="#000000" points="101.9322,1251.603,93.0298,1255.164,101.9322,1258.7249,98.3713,1255.164" style="stroke: #000000; stroke-width: 0.8902377339403136;"/><line style="stroke: #000000; stroke-width: 0.8902377339403136;" x1="96.5908" x2="255.9433" y1="1255.164" y2="1255.164"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="10.6829" lengthAdjust="spacingAndGlyphs" textLength="124.6333" x="112.17" y="1241.0626">Connects using PIN code</text><polygon fill="#000000" points="575.5387,1297.6817,584.4411,1301.2427,575.5387,1304.8036,579.0996,1301.2427" style="stroke: #000000; stroke-width: 0.8902377339403136;"/><line style="stroke: #000000; stroke-width: 0.8902377339403136;" x1="261.2848" x2="580.8801" y1="1301.2427" y2="1301.2427"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="10.6829" lengthAdjust="spacingAndGlyphs" textLength="214.5473" x="316.4795" y="1287.1413">Sends DeviceControl.ActionExecuted event</text><line style="stroke: #000000; stroke-width: 0.8902377339403136;" x1="259.5043" x2="250.6019" y1="1347.3214" y2="1343.7604"/><line style="stroke: #000000; stroke-width: 0.8902377339403136;" x1="259.5043" x2="250.6019" y1="1347.3214" y2="1350.8824"/><line style="stroke: #000000; stroke-width: 0.8902377339403136; stroke-dasharray: 2.0,2.0;" x1="87.6884" x2="260.3945" y1="1347.3214" y2="1347.3214"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="10.6829" lengthAdjust="spacingAndGlyphs" textLength="129.9747" x="109.4992" y="1333.22">Returns connection result</text><polygon fill="#000000" points="820.3541,1389.8392,829.2564,1393.4001,820.3541,1396.9611,823.915,1393.4001" style="stroke: #000000; stroke-width: 0.8902377339403136;"/><line style="stroke: #000000; stroke-width: 0.8902377339403136;" x1="590.6727" x2="825.6955" y1="1393.4001" y2="1393.4001"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="10.6829" lengthAdjust="spacingAndGlyphs" textLength="141.5478" x="640.0809" y="1379.2987">Notifies of connection result</text><!--
@startuml
scale max 880 width
skinparam sequenceMessageAlign center
skinparam shadowing false
skinparam roundcorner 10
skinparam padding 10
skinparam defaultFontSize 12
skinparam defaultFontName "Noto Sans CJK KR"

skinparam note {
  BackgroundColor #9EA0CA
  BorderColor #ffffff
  FontColor #ffffff
  FontSize 14
  FontStyle bold
}

skinparam sequence {
  ArrowColor #000000
  ActorBorderColor #000000
  ActorFontStyle Bolder


  LifeLineBorderColor #000000
  LifeLineBackgroundColor transparent
  ParticipantBorderColor transparent
  ParticipantFontSize 14
  ParticipantFontColor #ffffff
  ParticipantFontStyle bold

  BoxBorderColor #000000
  BoxFontColor #ffffff
    BoxFontSize 14
    BoxFontStyle bold
}
hide footbox

skinparam activity {
  BackgroundColor #9EA0CA
  BarColor #ffffff
  BorderColor #ffffff
  DiamondBackgroundColor #05D686
  DiamondBorderColor #ffffff
  DiamondFontColor #ffffff
  DiamondFontSize 14
  DiamondFontStyle bold
  FontColor #ffffff 
  FontSize 14
  FontStyle bold
}

participant "Bluetooth device" as device #9EA0CA
participant Client as client #9EA0CA
participant "Clova" as clova #05D686
actor User as user #9EA0
activate device
device -> client: Advertising
...
user ->> clova : Requests a Bluetooth device connection
activate clova
  clova -> client : Sends DeviceControl.BtStartPairing directive

activate client
  client -> client : Scans
  client - -> clova : Sends DeviceControl.ActionExecuted event\n(with DeviceState)
  hnote over client, device : Found a Bluetooth device
deactivate client

 alt Specific device assigned == Yes
	clova -> client : Sends DeviceControl.BtConnect directive\n(with payload)

	activate client
 else Specific device assigned == No
    clova -> client : Sends DeviceControl.BtConnect directive\n(without payload)
end

  client -> device : Requests connection
  client - -> clova : Sends DeviceControl.ActionExecuted event\n(with DeviceState)

	deactivate client
  alt PIN code required == Yes
	device ->> client : Requests PIN code

	activate client
	client -> clova : Sends DeviceControl.BtRequestForPINCode event
    hnote over clova, user #05D686 : Requests PIN code and handle input

    alt Decide to cancel code input == Yes
		client -> clova : Sends DeviceControl.BtRequestToCancelPINCode event
		hnote over clova, user #05D686 : Handles cancellation of PIN code request
    else
 		clova -> client : Sends DeviceControl.BtConnectByPINCode directive
	end
  end
    client -> device : Connects using PIN code
    client -> clova : Sends DeviceControl.ActionExecuted event

	deactivate client
	device - ->> client : Returns connection result
 deactivate device

  clova -> user : Notifies of connection result

deactivate clova

@enduml

PlantUML version 1.2019.09(Tue Aug 27 01:19:51 KST 2019)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11+28
Operating System: Mac OS X
OS Version: 10.14.6
Default Encoding: UTF-8
Language: en
Country: KR
--></g></svg>