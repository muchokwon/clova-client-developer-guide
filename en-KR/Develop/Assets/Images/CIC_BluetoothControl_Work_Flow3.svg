<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="669.6668px" preserveAspectRatio="none" style="width:883px;height:669px;" version="1.1" viewBox="0 0 883 669" width="883.8242px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="289.8604" style="stroke: #000000; stroke-width: 0.8498309995171415;" width="8.4983" x="269.8213" y="355.0934"/><rect fill="#FFFFFF" height="59.0803" style="stroke: #000000; stroke-width: 0.8498309995171415;" width="8.4983" x="547.7161" y="133.8654"/><rect fill="#FFFFFF" height="333.8476" style="stroke: #000000; stroke-width: 0.8498309995171415;" width="8.4983" x="547.7161" y="311.1061"/><rect fill="#FFFFFF" height="452.0081" style="stroke: #000000; stroke-width: 0.8498309995171415;" width="8.4983" x="830.7098" y="192.9456"/><rect fill="#FFFFFF" height="381.0302" rx="4.2492" ry="4.2492" style="stroke: #000000; stroke-width: 1.699661999034283;" width="863.0034" x="11.0478" y="205.6931"/><rect fill="#FFFFFF" height="180.844" style="stroke: none; stroke-width: 0.8498309995171415;" width="863.0034" x="11.0478" y="405.8793"/><line style="stroke: #000000; stroke-width: 0.8498309995171415; stroke-dasharray: 5.0,5.0;" x1="41.6417" x2="41.6417" y1="88.1785" y2="660.2507"/><line style="stroke: #000000; stroke-width: 0.8498309995171415; stroke-dasharray: 5.0,5.0;" x1="273.6456" x2="273.6456" y1="88.1785" y2="660.2507"/><line style="stroke: #000000; stroke-width: 0.8498309995171415; stroke-dasharray: 5.0,5.0;" x1="551.9652" x2="551.9652" y1="88.1785" y2="660.2507"/><line style="stroke: #000000; stroke-width: 0.8498309995171415; stroke-dasharray: 5.0,5.0;" x1="834.959" x2="834.959" y1="88.1785" y2="660.2507"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="10.198" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="22.9454" x="28.0444" y="76.4168">User</text><ellipse cx="42.0666" cy="11.0478" fill="#FEFECE" rx="6.7986" ry="6.7986" style="stroke: #000000; stroke-width: 1.699661999034283;"/><path d="M42.0666,17.8465 L42.0666,40.7919 M31.0188,24.6451 L53.1144,24.6451 M42.0666,40.7919 L31.0188,53.5394 M42.0666,40.7919 L53.1144,53.5394 " fill="none" style="stroke: #000000; stroke-width: 1.699661999034283;"/><rect fill="#9EA0CA" height="46.5028" rx="4.2492" ry="4.2492" style="stroke: #FFFFFF; stroke-width: 1.2747464992757123;" width="128.3245" x="209.9083" y="40.8259"/><text fill="#FFFFFF" font-family="Noto Sans CJK KR" font-size="11.8976" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="99.4302" x="224.3554" y="69.0743">Bluetooth device</text><rect fill="#9EA0CA" height="46.5028" rx="4.2492" ry="4.2492" style="stroke: #FFFFFF; stroke-width: 1.2747464992757123;" width="62.8875" x="520.5215" y="40.8259"/><text fill="#FFFFFF" font-family="Noto Sans CJK KR" font-size="11.8976" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="33.9932" x="534.9686" y="69.0743">Client</text><rect fill="#05D686" height="46.5028" rx="4.2492" ry="4.2492" style="stroke: #FFFFFF; stroke-width: 1.2747464992757123;" width="61.1878" x="804.365" y="40.8259"/><text fill="#FFFFFF" font-family="Noto Sans CJK KR" font-size="11.8976" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="32.2936" x="818.8122" y="69.0743">Clova</text><rect fill="#FFFFFF" height="289.8604" style="stroke: #000000; stroke-width: 0.8498309995171415;" width="8.4983" x="269.8213" y="355.0934"/><rect fill="#FFFFFF" height="59.0803" style="stroke: #000000; stroke-width: 0.8498309995171415;" width="8.4983" x="547.7161" y="133.8654"/><rect fill="#FFFFFF" height="333.8476" style="stroke: #000000; stroke-width: 0.8498309995171415;" width="8.4983" x="547.7161" y="311.1061"/><rect fill="#FFFFFF" height="452.0081" style="stroke: #000000; stroke-width: 0.8498309995171415;" width="8.4983" x="830.7098" y="192.9456"/><line style="stroke: #000000; stroke-width: 0.8498309995171415;" x1="546.0164" x2="537.5181" y1="133.8654" y2="130.4661"/><line style="stroke: #000000; stroke-width: 0.8498309995171415;" x1="546.0164" x2="537.5181" y1="133.8654" y2="137.2647"/><line style="stroke: #000000; stroke-width: 0.8498309995171415;" x1="42.0666" x2="546.8662" y1="133.8654" y2="133.8654"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="10.198" lengthAdjust="spacingAndGlyphs" textLength="118.9763" x="235.4032" y="120.4041">Requests audio playback</text><line style="stroke: #000000; stroke-width: 0.8498309995171415;" x1="829.0101" x2="820.5118" y1="192.9456" y2="189.5463"/><line style="stroke: #000000; stroke-width: 0.8498309995171415;" x1="829.0101" x2="820.5118" y1="192.9456" y2="196.345"/><line style="stroke: #000000; stroke-width: 0.8498309995171415;" x1="551.9652" x2="829.86" y1="192.9456" y2="192.9456"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="10.198" lengthAdjust="spacingAndGlyphs" textLength="140.2221" x="621.2265" y="164.3913">SpeechRecognizer.Recognize</text><text fill="#000000" font-family="Noto Sans CJK KR" font-size="10.198" lengthAdjust="spacingAndGlyphs" textLength="118.9763" x="631.8493" y="179.4843">Sends an event message</text><path d="M15.297,205.6931 L79.8841,205.6931 L79.8841,230.3382 L71.3858,238.8365 L11.0478,238.8365 L11.0478,209.9423 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 0.8498309995171415;"/><rect fill="none" height="381.0302" rx="4.2492" ry="4.2492" style="stroke: #000000; stroke-width: 1.699661999034283;" width="863.0034" x="11.0478" y="205.6931"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="10.198" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="13.5973" x="32.2936" y="226.8709">alt</text><text fill="#000000" font-family="Noto Sans CJK KR" font-size="10.198" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="100.2801" x="101.1299" y="227.7207">[Client role == sink]</text><line style="stroke: #000000; stroke-width: 0.8498309995171415;" x1="556.2144" x2="564.7127" y1="311.1061" y2="307.7068"/><line style="stroke: #000000; stroke-width: 0.8498309995171415;" x1="556.2144" x2="564.7127" y1="311.1061" y2="314.5055"/><line style="stroke: #000000; stroke-width: 0.8498309995171415;" x1="556.2144" x2="829.86" y1="311.1061" y2="311.1061"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="10.198" lengthAdjust="spacingAndGlyphs" textLength="101.1299" x="642.8972" y="282.5518">DeviceControl.BtPlay</text><text fill="#000000" font-family="Noto Sans CJK KR" font-size="10.198" lengthAdjust="spacingAndGlyphs" textLength="127.4746" x="629.7248" y="297.6448">Sends a directive message</text><polygon fill="#000000" points="537.5181,351.6941,546.0164,355.0934,537.5181,358.4927,540.9174,355.0934" style="stroke: #000000; stroke-width: 0.8498309995171415;"/><line style="stroke: #000000; stroke-width: 0.8498309995171415;" x1="278.3197" x2="542.6171" y1="355.0934" y2="355.0934"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="10.198" lengthAdjust="spacingAndGlyphs" textLength="236.253" x="294.8914" y="341.6321">Receives audio stream from the Bluetooth device</text><polygon fill="#000000" points="51.4148,395.6813,42.9165,399.0806,51.4148,402.48,48.0155,399.0806" style="stroke: #000000; stroke-width: 0.8498309995171415;"/><line style="stroke: #000000; stroke-width: 0.8498309995171415;" x1="46.3158" x2="546.8662" y1="399.0806" y2="399.0806"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="10.198" lengthAdjust="spacingAndGlyphs" textLength="140.2221" x="224.7803" y="385.6193">Plays audio from the speaker</text><line style="stroke: #000000; stroke-width: 0.8498309995171415; stroke-dasharray: 2.0,2.0;" x1="11.0478" x2="874.0512" y1="406.7291" y2="406.7291"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="10.198" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="113.0275" x="23.7953" y="427.0571">[Client role == source]</text><polygon fill="#000000" points="565.5625,488.5508,557.0642,491.9502,565.5625,495.3495,562.1632,491.9502" style="stroke: #000000; stroke-width: 0.8498309995171415;"/><line style="stroke: #000000; stroke-width: 0.8498309995171415;" x1="560.4635" x2="829.86" y1="491.9502" y2="491.9502"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="10.198" lengthAdjust="spacingAndGlyphs" textLength="79.8841" x="653.52" y="463.3958">AudioPlayer.Play</text><text fill="#000000" font-family="Noto Sans CJK KR" font-size="10.198" lengthAdjust="spacingAndGlyphs" textLength="127.4746" x="629.7248" y="478.4888">Sends a directive message</text><polygon fill="#000000" points="287.6678,532.5381,279.1695,535.9374,287.6678,539.3367,284.2685,535.9374" style="stroke: #000000; stroke-width: 0.8498309995171415;"/><line style="stroke: #000000; stroke-width: 0.8498309995171415;" x1="282.5688" x2="546.8662" y1="535.9374" y2="535.9374"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="10.198" lengthAdjust="spacingAndGlyphs" textLength="181.014" x="322.5109" y="522.4761">Sends audio to the Bluetooth speaker</text><polygon fill="#000000" points="51.4148,576.5254,42.9165,579.9247,51.4148,583.324,48.0155,579.9247" style="stroke: #000000; stroke-width: 0.8498309995171415;"/><line style="stroke: #000000; stroke-width: 0.8498309995171415;" x1="46.3158" x2="268.9715" y1="579.9247" y2="579.9247"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="10.198" lengthAdjust="spacingAndGlyphs" textLength="190.3621" x="60.7629" y="566.4634">Plays audio from the Bluetooth speaker</text><polygon fill="#000000" points="824.761,641.5544,833.2593,644.9537,824.761,648.3531,828.1603,644.9537" style="stroke: #000000; stroke-width: 0.8498309995171415;"/><line style="stroke: #000000; stroke-width: 0.8498309995171415; stroke-dasharray: 2.0,2.0;" x1="551.9652" x2="829.86" y1="644.9537" y2="644.9537"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="10.198" lengthAdjust="spacingAndGlyphs" textLength="234.5534" x="574.9107" y="616.3994">DeviceControl.ActionExecuted (with DeviceState)</text><text fill="#000000" font-family="Noto Sans CJK KR" font-size="10.198" lengthAdjust="spacingAndGlyphs" textLength="118.9763" x="633.9739" y="631.4924">Sends an event message</text><!--
@startuml
scale max 880 width
skinparam sequenceMessageAlign center
skinparam shadowing false
skinparam roundcorner 10
skinparam padding 10
skinparam defaultFontSize 12
skinparam defaultFontName "Noto Sans CJK KR"

skinparam note {
  BackgroundColor #9EA0CA
  BorderColor #ffffff
  FontColor #ffffff
  FontSize 14
  FontStyle bold
}

skinparam sequence {
  ArrowColor #000000
  ActorBorderColor #000000
  ActorFontStyle Bolder


  LifeLineBorderColor #000000
  LifeLineBackgroundColor transparent
  ParticipantBorderColor transparent
  ParticipantFontSize 14
  ParticipantFontColor #ffffff
  ParticipantFontStyle bold

  BoxBorderColor #000000
  BoxFontColor #ffffff
    BoxFontSize 14
    BoxFontStyle bold
}
hide footbox

skinparam activity {
  BackgroundColor #9EA0CA
  BarColor #ffffff
  BorderColor #ffffff
  DiamondBackgroundColor #05D686
  DiamondBorderColor #ffffff
  DiamondFontColor #ffffff
  DiamondFontSize 14
  DiamondFontStyle bold
  FontColor #ffffff 
  FontSize 14
  FontStyle bold
}

actor User as user
participant "Bluetooth device" as device #9EA0CA
participant Client as client #9EA0CA
participant "Clova" as clova #05D686

user ->> client : Requests audio playback
activate client
client ->> clova : SpeechRecognizer.Recognize\nSends an event message
deactivate client
activate clova
alt Client role == sink
  clova ->> client : DeviceControl.BtPlay\nSends a directive message

activate client

	device -> client : Receives audio stream from the Bluetooth device
  activate device
    client -> user : Plays audio from the speaker
else Client role == source
        clova -> client : AudioPlayer.Play\nSends a directive message
        client -> device : Sends audio to the Bluetooth speaker
    device -> user : Plays audio from the Bluetooth speaker
end
  client - -> clova : DeviceControl.ActionExecuted (with DeviceState) \nSends an event message
deactivate client
deactivate device
deactivate clova

@enduml

PlantUML version 1.2019.09(Tue Aug 27 01:19:51 KST 2019)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11+28
Operating System: Mac OS X
OS Version: 10.14.6
Default Encoding: UTF-8
Language: en
Country: KR
--></g></svg>