<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1207px" preserveAspectRatio="none" style="width:772px;height:1207px;" version="1.1" viewBox="0 0 772 1207" width="772px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="1117.4" style="stroke: #000000; stroke-width: 1.0;" width="10" x="93.5" y="68.72"/><rect fill="#FFFFFF" height="237.56" style="stroke: #000000; stroke-width: 1.0;" width="10" x="362.5" y="258.48"/><rect fill="#FFFFFF" height="494.08" style="stroke: #000000; stroke-width: 1.0;" width="10" x="362.5" y="617.32"/><rect fill="#FFFFFF" height="1117.4" style="stroke: #000000; stroke-width: 1.0;" width="10" x="692.5" y="68.72"/><rect fill="#FFFFFF" height="241.32" rx="5" ry="5" style="stroke: #000000; stroke-width: 2.0;" width="423" x="320.5" y="134.44"/><rect fill="#FFFFFF" height="109.28" style="stroke: none; stroke-width: 1.0;" width="423" x="320.5" y="266.48"/><rect fill="#FFFFFF" height="608.36" rx="5" ry="5" style="stroke: #000000; stroke-width: 2.0;" width="740.5" x="13" y="511.04"/><rect fill="#FFFFFF" height="237.52" rx="5" ry="5" style="stroke: #000000; stroke-width: 2.0;" width="423" x="320.5" y="632.32"/><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="98" x2="98" y1="58.72" y2="1195.12"/><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="367.5" x2="367.5" y1="58.72" y2="1195.12"/><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="697.5" x2="697.5" y1="58.72" y2="1195.12"/><rect fill="#9EA0CA" height="54.72" rx="5" ry="5" style="stroke: #FFFFFF; stroke-width: 1.5;" width="151" x="23" y="3"/><text fill="#FFFFFF" font-family="Noto Sans CJK KR" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="117" x="40" y="36.24">Bluetooth device</text><rect fill="#9EA0CA" height="54.72" rx="5" ry="5" style="stroke: #FFFFFF; stroke-width: 1.5;" width="74" x="330.5" y="3"/><text fill="#FFFFFF" font-family="Noto Sans CJK KR" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="40" x="347.5" y="36.24">Client</text><rect fill="#05D686" height="54.72" rx="5" ry="5" style="stroke: #FFFFFF; stroke-width: 1.5;" width="72" x="661.5" y="3"/><text fill="#FFFFFF" font-family="Noto Sans CJK KR" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="38" x="678.5" y="36.24">Clova</text><rect fill="#FFFFFF" height="1117.4" style="stroke: #000000; stroke-width: 1.0;" width="10" x="93.5" y="68.72"/><rect fill="#FFFFFF" height="237.56" style="stroke: #000000; stroke-width: 1.0;" width="10" x="362.5" y="258.48"/><rect fill="#FFFFFF" height="494.08" style="stroke: #000000; stroke-width: 1.0;" width="10" x="362.5" y="617.32"/><rect fill="#FFFFFF" height="1117.4" style="stroke: #000000; stroke-width: 1.0;" width="10" x="692.5" y="68.72"/><polygon fill="#9EA0CA" points="55,73.72,740,73.72,750,97.72,740,121.72,55,121.72,45,97.72,55,73.72" style="stroke: #FFFFFF; stroke-width: 1.0;"/><text fill="#FFFFFF" font-family="Noto Sans CJK KR" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="275" x="260.25" y="103.96">Requests a Bluetooth device connection</text><path d="M325.5,134.44 L401.5,134.44 L401.5,163.44 L391.5,173.44 L320.5,173.44 L320.5,139.44 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="241.32" rx="5" ry="5" style="stroke: #000000; stroke-width: 2.0;" width="423" x="320.5" y="134.44"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="16" x="345.5" y="159.36">alt</text><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="194" x="426.5" y="160.36">[Specific device assigned == Yes]</text><line style="stroke: #000000; stroke-width: 1.0;" x1="372.5" x2="382.5" y1="258.48" y2="254.48"/><line style="stroke: #000000; stroke-width: 1.0;" x1="372.5" x2="382.5" y1="258.48" y2="262.48"/><line style="stroke: #000000; stroke-width: 1.0;" x1="372.5" x2="691.5" y1="258.48" y2="258.48"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="225" x="420" y="224.88">DeviceControl.BtConnect (with payload)</text><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="150" x="457.5" y="242.64">Sends a directive message</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="320.5" x2="743.5" y1="267.48" y2="267.48"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="191" x="335.5" y="291.4">[Specific device assigned == No]</text><line style="stroke: #000000; stroke-width: 1.0;" x1="372.5" x2="382.5" y1="367.76" y2="363.76"/><line style="stroke: #000000; stroke-width: 1.0;" x1="372.5" x2="382.5" y1="367.76" y2="371.76"/><line style="stroke: #000000; stroke-width: 1.0;" x1="372.5" x2="691.5" y1="367.76" y2="367.76"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="244" x="410.5" y="334.16">DeviceControl.BtConnect (without payload)</text><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="150" x="457.5" y="351.92">Sends a directive message</text><line style="stroke: #000000; stroke-width: 1.0;" x1="103.5" x2="113.5" y1="426.52" y2="422.52"/><line style="stroke: #000000; stroke-width: 1.0;" x1="103.5" x2="113.5" y1="426.52" y2="430.52"/><line style="stroke: #000000; stroke-width: 1.0;" x1="103.5" x2="361.5" y1="426.52" y2="426.52"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="118" x="174" y="410.68">Requests connection</text><line style="stroke: #000000; stroke-width: 1.0;" x1="690.5" x2="680.5" y1="496.04" y2="492.04"/><line style="stroke: #000000; stroke-width: 1.0;" x1="690.5" x2="680.5" y1="496.04" y2="500.04"/><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="367.5" x2="691.5" y1="496.04" y2="496.04"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="276" x="392" y="462.44">DeviceControl.ActionExecuted (with DeviceState)</text><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="140" x="460" y="480.2">Sends an event message</text><path d="M18,511.04 L99,511.04 L99,540.04 L89,550.04 L13,550.04 L13,516.04 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="608.36" rx="5" ry="5" style="stroke: #000000; stroke-width: 2.0;" width="740.5" x="13" y="511.04"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="21" x="38" y="535.96">opt</text><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="271" x="124" y="536.96">[If the device to connect requests a PIN code]</text><line style="stroke: #000000; stroke-width: 1.0;" x1="360.5" x2="350.5" y1="617.32" y2="613.32"/><line style="stroke: #000000; stroke-width: 1.0;" x1="360.5" x2="350.5" y1="617.32" y2="621.32"/><line style="stroke: #000000; stroke-width: 1.0;" x1="103.5" x2="361.5" y1="617.32" y2="617.32"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="107" x="179.5" y="601.48">Requests PIN code</text><path d="M325.5,632.32 L526.5,632.32 L526.5,661.32 L516.5,671.32 L320.5,671.32 L320.5,637.32 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="237.52" rx="5" ry="5" style="stroke: #000000; stroke-width: 2.0;" width="423" x="320.5" y="632.32"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="141" x="345.5" y="657.24">"Enter user's PIN code"</text><line style="stroke: #000000; stroke-width: 1.0;" x1="690.5" x2="680.5" y1="733.6" y2="729.6"/><line style="stroke: #000000; stroke-width: 1.0;" x1="690.5" x2="680.5" y1="733.6" y2="737.6"/><line style="stroke: #000000; stroke-width: 1.0;" x1="372.5" x2="691.5" y1="733.6" y2="733.6"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="211" x="427" y="700">DeviceControl.BtRequestForPINCode</text><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="140" x="462.5" y="717.76">Sends an event message</text><polygon fill="#9EA0CA" points="343,746.6,721,746.6,731,770.6,721,794.6,343,794.6,333,770.6,343,746.6" style="stroke: #FFFFFF; stroke-width: 1.0;"/><text fill="#FFFFFF" font-family="Noto Sans CJK KR" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="204" x="430" y="776.84">Handles user's PIN code input</text><line style="stroke: #000000; stroke-width: 1.0;" x1="372.5" x2="382.5" y1="861.84" y2="857.84"/><line style="stroke: #000000; stroke-width: 1.0;" x1="372.5" x2="382.5" y1="861.84" y2="865.84"/><line style="stroke: #000000; stroke-width: 1.0;" x1="372.5" x2="691.5" y1="861.84" y2="861.84"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="206" x="429.5" y="828.24">DeviceControl.BtConnectByPINCode</text><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="150" x="457.5" y="846">Sends a directive message</text><line style="stroke: #000000; stroke-width: 1.0;" x1="103.5" x2="113.5" y1="920.6" y2="916.6"/><line style="stroke: #000000; stroke-width: 1.0;" x1="103.5" x2="113.5" y1="920.6" y2="924.6"/><line style="stroke: #000000; stroke-width: 1.0;" x1="103.5" x2="361.5" y1="920.6" y2="920.6"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="215" x="125.5" y="904.76">Requests a connection using PIN code</text><line style="stroke: #000000; stroke-width: 1.0;" x1="690.5" x2="680.5" y1="990.12" y2="986.12"/><line style="stroke: #000000; stroke-width: 1.0;" x1="690.5" x2="680.5" y1="990.12" y2="994.12"/><line style="stroke: #000000; stroke-width: 1.0;" x1="372.5" x2="691.5" y1="990.12" y2="990.12"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="169" x="448" y="956.52">DeviceControl.ActionExecuted</text><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="140" x="462.5" y="974.28">Sends an event message</text><line style="stroke: #000000; stroke-width: 1.0;" x1="360.5" x2="350.5" y1="1041.88" y2="1037.88"/><line style="stroke: #000000; stroke-width: 1.0;" x1="360.5" x2="350.5" y1="1041.88" y2="1045.88"/><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="103.5" x2="361.5" y1="1041.88" y2="1041.88"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="148" x="159" y="1026.04">Accepts device connection</text><line style="stroke: #000000; stroke-width: 1.0;" x1="690.5" x2="680.5" y1="1111.4" y2="1107.4"/><line style="stroke: #000000; stroke-width: 1.0;" x1="690.5" x2="680.5" y1="1111.4" y2="1115.4"/><line style="stroke: #000000; stroke-width: 1.0;" x1="367.5" x2="691.5" y1="1111.4" y2="1111.4"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="152" x="454" y="1077.8">DeviceControl.ReportState</text><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="140" x="460" y="1095.56">Sends an event message</text><polygon fill="#9EA0CA" points="55,1131.4,740,1131.4,750,1155.4,740,1179.4,55,1179.4,45,1155.4,55,1131.4" style="stroke: #FFFFFF; stroke-width: 1.0;"/><text fill="#FFFFFF" font-family="Noto Sans CJK KR" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="170" x="312.75" y="1161.64">Shares connection result</text><!--
@startuml
scale max 880 width
skinparam sequenceMessageAlign center
skinparam shadowing false
skinparam roundcorner 10
skinparam padding 10
skinparam defaultFontSize 12
skinparam defaultFontName "Noto Sans CJK KR"

skinparam note {
  BackgroundColor #9EA0CA
  BorderColor #ffffff
  FontColor #ffffff
  FontSize 14
  FontStyle bold
}

skinparam sequence {
  ArrowColor #000000
  ActorBorderColor #000000
  ActorFontStyle Bolder


  LifeLineBorderColor #000000
  LifeLineBackgroundColor transparent
  ParticipantBorderColor transparent
  ParticipantFontSize 14
  ParticipantFontColor #ffffff
  ParticipantFontStyle bold

  BoxBorderColor #000000
  BoxFontColor #ffffff
    BoxFontSize 14
    BoxFontStyle bold
}
hide footbox

skinparam activity {
  BackgroundColor #9EA0CA
  BarColor #ffffff
  BorderColor #ffffff
  DiamondBackgroundColor #05D686
  DiamondBorderColor #ffffff
  DiamondFontColor #ffffff
  DiamondFontSize 14
  DiamondFontStyle bold
  FontColor #ffffff 
  FontSize 14
  FontStyle bold
}

participant "Bluetooth device" as device #9EA0CA
participant Client as client #9EA0CA
participant "Clova" as clova #05D686

activate clova
activate device
hnote over device, clova : Requests a Bluetooth device connection
 alt Specific device assigned == Yes
	clova ->> client : DeviceControl.BtConnect (with payload)\nSends a directive message

	activate client
 else Specific device assigned == No
    clova ->> client : DeviceControl.BtConnect (without payload)\nSends a directive message
end

  client ->> device : Requests connection
  client - ->> clova : DeviceControl.ActionExecuted (with DeviceState)\nSends an event message

	deactivate client
opt If the device to connect requests a PIN code
	device ->> client : Requests PIN code

	activate client

  group "Enter user's PIN code"
    client ->> clova : DeviceControl.BtRequestForPINCode\nSends an event message
    hnote over client, clova : Handles user's PIN code input
    clova ->> client : DeviceControl.BtConnectByPINCode\nSends a directive message
  end
  client ->> device : Requests a connection using PIN code
  client ->> clova: DeviceControl.ActionExecuted\nSends an event message
	device - ->> client : Accepts device connection
  client ->> clova : DeviceControl.ReportState\nSends an event message
deactivate client
end
hnote over device, clova : Shares connection result

@enduml

PlantUML version 1.2019.09(Tue Aug 27 01:19:51 KST 2019)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11+28
Operating System: Mac OS X
OS Version: 10.14.6
Default Encoding: UTF-8
Language: en
Country: KR
--></g></svg>