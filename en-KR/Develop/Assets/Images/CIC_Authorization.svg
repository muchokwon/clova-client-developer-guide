<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1226.3653px" preserveAspectRatio="none" style="width:884px;height:1226px;" version="1.1" viewBox="0 0 884 1226" width="884.1431px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="186.0761" style="stroke: #000000; stroke-width: 0.8286252354048964;" width="8.2863" x="81.2053" y="1023.3522"/><rect fill="#FFFFFF" height="244.7096" style="stroke: #000000; stroke-width: 0.8286252354048964;" width="8.2863" x="240.3013" y="56.9431"/><rect fill="#FFFFFF" height="24.8588" style="stroke: #000000; stroke-width: 0.8286252354048964;" width="8.2863" x="240.3013" y="402.1484"/><rect fill="#FFFFFF" height="505.7928" style="stroke: #000000; stroke-width: 0.8286252354048964;" width="8.2863" x="240.3013" y="517.5593"/><rect fill="#FFFFFF" height="57.606" style="stroke: #000000; stroke-width: 0.8286252354048964;" width="8.2863" x="527.0056" y="146.8655"/><rect fill="#FFFFFF" height="409.6392" style="stroke: #000000; stroke-width: 0.8286252354048964;" width="8.2863" x="717.1751" y="276.794"/><rect fill="#FFFFFF" height="42.8896" style="stroke: #000000; stroke-width: 0.8286252354048964;" width="8.2863" x="717.1751" y="836.8783"/><rect fill="#FFFFFF" height="42.8896" style="stroke: #000000; stroke-width: 0.8286252354048964;" width="8.2863" x="717.1751" y="1110.391"/><rect fill="#FFFFFF" height="24.8588" style="stroke: #000000; stroke-width: 0.8286252354048964;" width="8.2863" x="838.1544" y="922.6576"/><rect fill="#FFFFFF" height="13.258" style="stroke: #000000; stroke-width: 0.8286252354048964;" width="8.2863" x="838.1544" y="1196.1703"/><rect fill="#FFFFFF" height="378.98" rx="4.1431" ry="4.1431" style="stroke: #000000; stroke-width: 1.6572504708097928;" width="638.8701" x="179.8117" y="314.0821"/><rect fill="#FFFFFF" height="259.426" style="stroke: none; stroke-width: 0.8286252354048964;" width="638.8701" x="179.8117" y="433.6362"/><rect fill="#FFFFFF" height="498.1363" rx="4.1431" ry="4.1431" style="stroke: #000000; stroke-width: 1.6572504708097928;" width="863.4275" x="10.7721" y="704.6629"/><rect fill="#FFFFFF" height="248.6539" style="stroke: none; stroke-width: 0.8286252354048964;" width="863.4275" x="10.7721" y="954.1454"/><line style="stroke: #000000; stroke-width: 0.8286252354048964; stroke-dasharray: 5.0,5.0;" x1="85.3484" x2="85.3484" y1="48.6569" y2="1216.8859"/><line style="stroke: #000000; stroke-width: 0.8286252354048964; stroke-dasharray: 5.0,5.0;" x1="244.4444" x2="244.4444" y1="48.6569" y2="1216.8859"/><line style="stroke: #000000; stroke-width: 0.8286252354048964; stroke-dasharray: 5.0,5.0;" x1="531.1488" x2="531.1488" y1="48.6569" y2="1216.8859"/><line style="stroke: #000000; stroke-width: 0.8286252354048964; stroke-dasharray: 5.0,5.0;" x1="720.904" x2="720.904" y1="48.6569" y2="1216.8859"/><line style="stroke: #000000; stroke-width: 0.8286252354048964; stroke-dasharray: 5.0,5.0;" x1="841.8832" x2="841.8832" y1="48.6569" y2="1216.8859"/><rect fill="#9EA0CA" height="45.3424" rx="4.1431" ry="4.1431" style="stroke: #FFFFFF; stroke-width: 1.2429378531073447;" width="132.58" x="19.0584" y="2.4859"/><text fill="#FFFFFF" font-family="Noto Sans CJK KR" font-size="11.6008" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="104.4068" x="33.145" y="30.0294">Client without GUI</text><rect fill="#9EA0CA" height="45.3424" rx="4.1431" ry="4.1431" style="stroke: #FFFFFF; stroke-width: 1.2429378531073447;" width="112.693" x="188.0979" y="2.4859"/><text fill="#FFFFFF" font-family="Noto Sans CJK KR" font-size="11.6008" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="84.5198" x="202.1846" y="30.0294">Client with GUI</text><rect fill="#05D686" height="45.3424" rx="4.1431" ry="4.1431" style="stroke: #FFFFFF; stroke-width: 1.2429378531073447;" width="185.6121" x="438.3427" y="2.4859"/><text fill="#FFFFFF" font-family="Noto Sans CJK KR" font-size="11.6008" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="157.4388" x="452.4294" y="30.0294">NAVER authorization server</text><rect fill="#05D686" height="45.3424" rx="4.1431" ry="4.1431" style="stroke: #FFFFFF; stroke-width: 1.2429378531073447;" width="178.1544" x="632.2411" y="2.4859"/><text fill="#FFFFFF" font-family="Noto Sans CJK KR" font-size="11.6008" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="149.9812" x="646.3277" y="30.0294">Clova authorization server</text><rect fill="#05D686" height="45.3424" rx="4.1431" ry="4.1431" style="stroke: #FFFFFF; stroke-width: 1.2429378531073447;" width="47.2316" x="818.6817" y="2.4859"/><text fill="#FFFFFF" font-family="Noto Sans CJK KR" font-size="11.6008" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19.0584" x="832.7684" y="30.0294">CIC</text><rect fill="#FFFFFF" height="186.0761" style="stroke: #000000; stroke-width: 0.8286252354048964;" width="8.2863" x="81.2053" y="1023.3522"/><rect fill="#FFFFFF" height="244.7096" style="stroke: #000000; stroke-width: 0.8286252354048964;" width="8.2863" x="240.3013" y="56.9431"/><rect fill="#FFFFFF" height="24.8588" style="stroke: #000000; stroke-width: 0.8286252354048964;" width="8.2863" x="240.3013" y="402.1484"/><rect fill="#FFFFFF" height="505.7928" style="stroke: #000000; stroke-width: 0.8286252354048964;" width="8.2863" x="240.3013" y="517.5593"/><rect fill="#FFFFFF" height="57.606" style="stroke: #000000; stroke-width: 0.8286252354048964;" width="8.2863" x="527.0056" y="146.8655"/><rect fill="#FFFFFF" height="409.6392" style="stroke: #000000; stroke-width: 0.8286252354048964;" width="8.2863" x="717.1751" y="276.794"/><rect fill="#FFFFFF" height="42.8896" style="stroke: #000000; stroke-width: 0.8286252354048964;" width="8.2863" x="717.1751" y="836.8783"/><rect fill="#FFFFFF" height="42.8896" style="stroke: #000000; stroke-width: 0.8286252354048964;" width="8.2863" x="717.1751" y="1110.391"/><rect fill="#FFFFFF" height="24.8588" style="stroke: #000000; stroke-width: 0.8286252354048964;" width="8.2863" x="838.1544" y="922.6576"/><rect fill="#FFFFFF" height="13.258" style="stroke: #000000; stroke-width: 0.8286252354048964;" width="8.2863" x="838.1544" y="1196.1703"/><line style="stroke: #000000; stroke-width: 0.8286252354048964;" x1="248.5876" x2="283.3898" y1="93.2038" y2="93.2038"/><line style="stroke: #000000; stroke-width: 0.8286252354048964;" x1="283.3898" x2="283.3898" y1="93.2038" y2="103.9759"/><line style="stroke: #000000; stroke-width: 0.8286252354048964;" x1="249.4162" x2="283.3898" y1="103.9759" y2="103.9759"/><polygon fill="#000000" points="257.7024,100.6614,249.4162,103.9759,257.7024,107.2904,254.3879,103.9759" style="stroke: #000000; stroke-width: 0.8286252354048964;"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="9.9435" lengthAdjust="spacingAndGlyphs" textLength="56.3465" x="262.6742" y="80.0783">NAVER login</text><line style="stroke: #000000; stroke-width: 0.8286252354048964;" x1="525.3484" x2="517.0621" y1="146.8655" y2="143.551"/><line style="stroke: #000000; stroke-width: 0.8286252354048964;" x1="525.3484" x2="517.0621" y1="146.8655" y2="150.18"/><line style="stroke: #000000; stroke-width: 0.8286252354048964;" x1="248.5876" x2="526.177" y1="146.8655" y2="146.8655"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="9.9435" lengthAdjust="spacingAndGlyphs" textLength="159.096" x="308.2486" y="133.7401">Sends NAVER account information</text><line style="stroke: #000000; stroke-width: 0.8286252354048964;" x1="248.5876" x2="256.8738" y1="204.4716" y2="201.1571"/><line style="stroke: #000000; stroke-width: 0.8286252354048964;" x1="248.5876" x2="256.8738" y1="204.4716" y2="207.7861"/><line style="stroke: #000000; stroke-width: 0.8286252354048964; stroke-dasharray: 2.0,2.0;" x1="248.5876" x2="530.3202" y1="204.4716" y2="204.4716"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="9.9435" lengthAdjust="spacingAndGlyphs" textLength="101.9209" x="338.9077" y="176.6298">Sends NAVER account</text><text fill="#000000" font-family="Noto Sans CJK KR" font-size="9.9435" lengthAdjust="spacingAndGlyphs" textLength="61.3183" x="359.209" y="191.3461">access token</text><line style="stroke: #000000; stroke-width: 0.8286252354048964;" x1="715.5179" x2="707.2316" y1="276.794" y2="273.4795"/><line style="stroke: #000000; stroke-width: 0.8286252354048964;" x1="715.5179" x2="707.2316" y1="276.794" y2="280.1085"/><line style="stroke: #000000; stroke-width: 0.8286252354048964;" x1="248.5876" x2="716.3465" y1="276.794" y2="276.794"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="9.9435" lengthAdjust="spacingAndGlyphs" textLength="246.1017" x="359.8305" y="234.2358">Requests authorization code (send next information)</text><text fill="#000000" font-family="Noto Sans CJK KR" font-size="9.9435" lengthAdjust="spacingAndGlyphs" textLength="140.8663" x="359.8305" y="248.9522">- NAVER account access token</text><text fill="#000000" font-family="Noto Sans CJK KR" font-size="9.9435" lengthAdjust="spacingAndGlyphs" textLength="224.5574" x="359.8305" y="263.6686">- Client credentials (CLOVA_OAUTH_CLIENT_ID)</text><path d="M183.9548,314.0821 L246.9303,314.0821 L246.9303,338.1122 L238.6441,346.3985 L179.8117,346.3985 L179.8117,318.2252 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 0.8286252354048964;"/><rect fill="none" height="378.98" rx="4.1431" ry="4.1431" style="stroke: #000000; stroke-width: 1.6572504708097928;" width="638.8701" x="179.8117" y="314.0821"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="9.9435" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="13.258" x="200.5273" y="334.7315">alt</text><text fill="#000000" font-family="Noto Sans CJK KR" font-size="9.9435" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="296.6478" x="267.646" y="335.5601">["Status of Terms and Conditions agreement" == "Agreed"]</text><line style="stroke: #000000; stroke-width: 0.8286252354048964;" x1="248.5876" x2="256.8738" y1="402.1484" y2="398.8339"/><line style="stroke: #000000; stroke-width: 0.8286252354048964;" x1="248.5876" x2="256.8738" y1="402.1484" y2="405.4629"/><line style="stroke: #000000; stroke-width: 0.8286252354048964; stroke-dasharray: 2.0,2.0;" x1="248.5876" x2="716.3465" y1="402.1484" y2="402.1484"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="9.9435" lengthAdjust="spacingAndGlyphs" textLength="161.5819" x="402.0904" y="389.023">Sends authorization code (200 OK)</text><line style="stroke: #000000; stroke-width: 0.8286252354048964; stroke-dasharray: 2.0,2.0;" x1="179.8117" x2="818.6817" y1="434.4648" y2="434.4648"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="9.9435" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="304.9341" x="192.2411" y="454.2855">[Status of Terms and Conditions agreement == "Not agreed"]</text><line style="stroke: #000000; stroke-width: 0.8286252354048964;" x1="248.5876" x2="256.8738" y1="517.5593" y2="514.2448"/><line style="stroke: #000000; stroke-width: 0.8286252354048964;" x1="248.5876" x2="256.8738" y1="517.5593" y2="520.8738"/><line style="stroke: #000000; stroke-width: 0.8286252354048964; stroke-dasharray: 2.0,2.0;" x1="248.5876" x2="716.3465" y1="517.5593" y2="517.5593"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="9.9435" lengthAdjust="spacingAndGlyphs" textLength="154.1243" x="397.9473" y="489.7175">Sends authorization, redirect_uri</text><text fill="#000000" font-family="Noto Sans CJK KR" font-size="9.9435" lengthAdjust="spacingAndGlyphs" textLength="169.8682" x="397.9473" y="504.4339">(451 Unavailable For Legal Reasons)</text><line style="stroke: #000000; stroke-width: 0.8286252354048964;" x1="248.5876" x2="283.3898" y1="560.449" y2="560.449"/><line style="stroke: #000000; stroke-width: 0.8286252354048964;" x1="283.3898" x2="283.3898" y1="560.449" y2="571.2211"/><line style="stroke: #000000; stroke-width: 0.8286252354048964;" x1="249.4162" x2="283.3898" y1="571.2211" y2="571.2211"/><polygon fill="#000000" points="257.7024,567.9066,249.4162,571.2211,257.7024,574.5356,254.3879,571.2211" style="stroke: #000000; stroke-width: 0.8286252354048964;"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="9.9435" lengthAdjust="spacingAndGlyphs" textLength="250.2448" x="262.6742" y="547.3235">Move to the Terms and Conditions page (redirect_uri)</text><line style="stroke: #000000; stroke-width: 0.8286252354048964;" x1="715.5179" x2="707.2316" y1="614.1107" y2="610.7962"/><line style="stroke: #000000; stroke-width: 0.8286252354048964;" x1="715.5179" x2="707.2316" y1="614.1107" y2="617.4252"/><line style="stroke: #000000; stroke-width: 0.8286252354048964;" x1="248.5876" x2="716.3465" y1="614.1107" y2="614.1107"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="9.9435" lengthAdjust="spacingAndGlyphs" textLength="323.9925" x="320.8851" y="600.9853">Sends result of user agreement to the Terms and Conditions (submit)</text><line style="stroke: #000000; stroke-width: 0.8286252354048964;" x1="248.5876" x2="256.8738" y1="686.4331" y2="683.1186"/><line style="stroke: #000000; stroke-width: 0.8286252354048964;" x1="248.5876" x2="256.8738" y1="686.4331" y2="689.7476"/><line style="stroke: #000000; stroke-width: 0.8286252354048964; stroke-dasharray: 2.0,2.0;" x1="248.5876" x2="720.4896" y1="686.4331" y2="686.4331"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="9.9435" lengthAdjust="spacingAndGlyphs" textLength="116.0075" x="397.533" y="643.875">Sends result (302 Found)</text><text fill="#000000" font-family="Noto Sans CJK KR" font-size="9.9435" lengthAdjust="spacingAndGlyphs" textLength="174.8399" x="397.533" y="658.5913">- Success: clova://agreement-success</text><text fill="#000000" font-family="Noto Sans CJK KR" font-size="9.9435" lengthAdjust="spacingAndGlyphs" textLength="163.2392" x="397.533" y="673.3077">- Failure: clova://agreement-failure</text><path d="M14.9153,704.6629 L77.8908,704.6629 L77.8908,728.693 L69.6045,736.9793 L10.7721,736.9793 L10.7721,708.806 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 0.8286252354048964;"/><rect fill="none" height="498.1363" rx="4.1431" ry="4.1431" style="stroke: #000000; stroke-width: 1.6572504708097928;" width="863.4275" x="10.7721" y="704.6629"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="9.9435" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="13.258" x="31.4878" y="725.3122">alt</text><text fill="#000000" font-family="Noto Sans CJK KR" font-size="9.9435" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="178.1544" x="98.6064" y="726.1409">["Client type" == "Client with GUI"]</text><line style="stroke: #000000; stroke-width: 0.8286252354048964;" x1="715.5179" x2="707.2316" y1="836.8783" y2="833.5638"/><line style="stroke: #000000; stroke-width: 0.8286252354048964;" x1="715.5179" x2="707.2316" y1="836.8783" y2="840.1928"/><line style="stroke: #000000; stroke-width: 0.8286252354048964;" x1="248.5876" x2="716.3465" y1="836.8783" y2="836.8783"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="9.9435" lengthAdjust="spacingAndGlyphs" textLength="247.7589" x="333.7288" y="779.6038">Requests Clova access token (send next information)</text><text fill="#000000" font-family="Noto Sans CJK KR" font-size="9.9435" lengthAdjust="spacingAndGlyphs" textLength="140.8663" x="333.7288" y="794.3202">- NAVER account access token</text><text fill="#000000" font-family="Noto Sans CJK KR" font-size="9.9435" lengthAdjust="spacingAndGlyphs" textLength="87.8343" x="333.7288" y="809.0365">- Client credentials</text><text fill="#000000" font-family="Noto Sans CJK KR" font-size="9.9435" lengthAdjust="spacingAndGlyphs" textLength="293.3333" x="338.7006" y="823.7529">(CLOVA_OAUTH_CLIENT_ID, CLOVA_OAUTH_CLIENT_SECRET)</text><line style="stroke: #000000; stroke-width: 0.8286252354048964;" x1="248.5876" x2="256.8738" y1="879.768" y2="876.4535"/><line style="stroke: #000000; stroke-width: 0.8286252354048964;" x1="248.5876" x2="256.8738" y1="879.768" y2="883.0825"/><line style="stroke: #000000; stroke-width: 0.8286252354048964; stroke-dasharray: 2.0,2.0;" x1="248.5876" x2="720.4896" y1="879.768" y2="879.768"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="9.9435" lengthAdjust="spacingAndGlyphs" textLength="120.1507" x="424.8776" y="866.6426">Sends Clova access token</text><line style="stroke: #000000; stroke-width: 0.8286252354048964;" x1="836.4972" x2="828.2109" y1="922.6576" y2="919.3431"/><line style="stroke: #000000; stroke-width: 0.8286252354048964;" x1="836.4972" x2="828.2109" y1="922.6576" y2="925.9721"/><line style="stroke: #000000; stroke-width: 0.8286252354048964;" x1="248.5876" x2="837.3258" y1="922.6576" y2="922.6576"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="9.9435" lengthAdjust="spacingAndGlyphs" textLength="233.6723" x="426.5348" y="909.5322">Starts connection to CIC using Clova access token</text><line style="stroke: #000000; stroke-width: 0.8286252354048964; stroke-dasharray: 2.0,2.0;" x1="10.7721" x2="874.1996" y1="954.974" y2="954.974"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="9.9435" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="195.5556" x="23.2015" y="974.7947">["Client type" == "Client without GUI"]</text><line style="stroke: #000000; stroke-width: 0.8286252354048964;" x1="89.4915" x2="97.7778" y1="1023.3522" y2="1020.0377"/><line style="stroke: #000000; stroke-width: 0.8286252354048964;" x1="89.4915" x2="97.7778" y1="1023.3522" y2="1026.6667"/><line style="stroke: #000000; stroke-width: 0.8286252354048964;" x1="89.4915" x2="243.6158" y1="1023.3522" y2="1023.3522"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="9.9435" lengthAdjust="spacingAndGlyphs" textLength="118.4934" x="107.7213" y="1010.2267">Sends authorization code</text><line style="stroke: #000000; stroke-width: 0.8286252354048964;" x1="715.5179" x2="707.2316" y1="1110.391" y2="1107.0765"/><line style="stroke: #000000; stroke-width: 0.8286252354048964;" x1="715.5179" x2="707.2316" y1="1110.391" y2="1113.7055"/><line style="stroke: #000000; stroke-width: 0.8286252354048964;" x1="89.4915" x2="716.3465" y1="1110.391" y2="1110.391"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="9.9435" lengthAdjust="spacingAndGlyphs" textLength="247.7589" x="254.1808" y="1053.1164">Requests Clova access token (send next information)</text><text fill="#000000" font-family="Noto Sans CJK KR" font-size="9.9435" lengthAdjust="spacingAndGlyphs" textLength="140.8663" x="254.1808" y="1067.8328">- NAVER account access token</text><text fill="#000000" font-family="Noto Sans CJK KR" font-size="9.9435" lengthAdjust="spacingAndGlyphs" textLength="87.8343" x="254.1808" y="1082.5492">- Client credentials</text><text fill="#000000" font-family="Noto Sans CJK KR" font-size="9.9435" lengthAdjust="spacingAndGlyphs" textLength="293.3333" x="259.1525" y="1097.2655">(CLOVA_OAUTH_CLIENT_ID, CLOVA_OAUTH_CLIENT_SECRET)</text><line style="stroke: #000000; stroke-width: 0.8286252354048964;" x1="89.4915" x2="97.7778" y1="1153.2806" y2="1149.9661"/><line style="stroke: #000000; stroke-width: 0.8286252354048964;" x1="89.4915" x2="97.7778" y1="1153.2806" y2="1156.5951"/><line style="stroke: #000000; stroke-width: 0.8286252354048964; stroke-dasharray: 2.0,2.0;" x1="89.4915" x2="720.4896" y1="1153.2806" y2="1153.2806"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="9.9435" lengthAdjust="spacingAndGlyphs" textLength="120.1507" x="345.3296" y="1140.1552">Sends Clova access token</text><line style="stroke: #000000; stroke-width: 0.8286252354048964;" x1="836.4972" x2="828.2109" y1="1196.1703" y2="1192.8557"/><line style="stroke: #000000; stroke-width: 0.8286252354048964;" x1="836.4972" x2="828.2109" y1="1196.1703" y2="1199.4848"/><line style="stroke: #000000; stroke-width: 0.8286252354048964;" x1="89.4915" x2="837.3258" y1="1196.1703" y2="1196.1703"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="9.9435" lengthAdjust="spacingAndGlyphs" textLength="233.6723" x="346.9868" y="1183.0448">Starts connection to CIC using Clova access token</text><!--
@startuml
scale max 880 width
skinparam sequenceMessageAlign center
skinparam shadowing false
skinparam roundcorner 10
skinparam padding 10
skinparam defaultFontSize 12
skinparam defaultFontName "Noto Sans CJK KR"

skinparam note {
  BackgroundColor #9EA0CA
  BorderColor #ffffff
  FontColor #ffffff
  FontSize 14
  FontStyle bold
}

skinparam sequence {
  ArrowColor #000000
  ActorBorderColor #000000
  ActorFontStyle Bolder


  LifeLineBorderColor #000000
  LifeLineBackgroundColor transparent
  ParticipantBorderColor transparent
  ParticipantFontSize 14
  ParticipantFontColor #ffffff
  ParticipantFontStyle bold

  BoxBorderColor #000000
  BoxFontColor #ffffff
    BoxFontSize 14
    BoxFontStyle bold
}
hide footbox

skinparam activity {
  BackgroundColor #9EA0CA
  BarColor #ffffff
  BorderColor #ffffff
  DiamondBackgroundColor #05D686
  DiamondBorderColor #ffffff
  DiamondFontColor #ffffff
  DiamondFontSize 14
  DiamondFontStyle bold
  FontColor #ffffff 
  FontSize 14
  FontStyle bold
}

participant "Client without GUI" as device #9EA0CA
participant "Client with GUI" as app #9EA0CA
participant "NAVER authorization server" as nauth #05D686
participant "Clova authorization server" as cauth #05D686
participant CIC as cic #05D686

activate app
  app -> app: NAVER login

  app ->> nauth: Sends NAVER account information

  activate nauth
    nauth - ->> app: Sends NAVER account\naccess token
  deactivate nauth

  app ->> cauth: Requests authorization code (send next information)\l- NAVER account access token\l- Client credentials (CLOVA_OAUTH_CLIENT_ID)

activate cauth

deactivate app

alt "Status of Terms and Conditions agreement" == "Agreed"
    cauth - ->> app: Sends authorization code (200 OK)
    activate app
    deactivate app
else Status of Terms and Conditions agreement == "Not agreed"
  cauth - ->> app: Sends authorization, redirect_uri\l(451 Unavailable For Legal Reasons)
  activate app
    app -> app: Move to the Terms and Conditions page (redirect_uri)
    app ->> cauth: Sends result of user agreement to the Terms and Conditions (submit)
    cauth - ->> app: Sends result (302 Found)\l- Success: clova://agreement-success\l- Failure: clova://agreement-failure
  deactivate cauth
end

alt "Client type" == "Client with GUI"
  app ->> cauth: Requests Clova access token (send next information)\l- NAVER account access token\l- Client credentials\l  (CLOVA_OAUTH_CLIENT_ID, CLOVA_OAUTH_CLIENT_SECRET)

  activate cauth
    cauth - ->> app: Sends Clova access token
  deactivate cauth

  app ->> cic: Starts connection to CIC using Clova access token
  activate cic
  deactivate cic

else "Client type" == "Client without GUI"
  app ->> device: Sends authorization code
  deactivate app

  activate device
    device ->> cauth: Requests Clova access token (send next information)\l- NAVER account access token\l- Client credentials\l  (CLOVA_OAUTH_CLIENT_ID, CLOVA_OAUTH_CLIENT_SECRET)

    activate cauth
        cauth - ->> device: Sends Clova access token
    deactivate cauth

    device ->> cic: Starts connection to CIC using Clova access token

    activate cic
  end

@enduml

PlantUML version 1.2019.09(Tue Aug 27 01:19:51 KST 2019)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11+28
Operating System: Mac OS X
OS Version: 10.14.6
Default Encoding: UTF-8
Language: en
Country: KR
--></g></svg>