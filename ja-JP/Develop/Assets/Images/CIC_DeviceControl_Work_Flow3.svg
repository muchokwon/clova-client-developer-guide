<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1402.334px" preserveAspectRatio="none" style="width:883px;height:1402px;" version="1.1" viewBox="0 0 883 1402" width="883.5412px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="43.4633" style="stroke: #FFFFFF; stroke-width: 0.8853118712273642;" width="8.8531" x="88.0885" y="98.3526"/><line style="stroke: #000000; stroke-width: 0.8853118712273642;" x1="88.0885" x2="88.0885" y1="98.3526" y2="141.8159"/><line style="stroke: #000000; stroke-width: 0.8853118712273642;" x1="96.9416" x2="96.9416" y1="98.3526" y2="141.8159"/><line style="stroke: #000000; stroke-width: 0.8853118712273642;" x1="88.0885" x2="96.9416" y1="98.3526" y2="98.3526"/><rect fill="#FFFFFF" height="1148.0143" style="stroke: #FFFFFF; stroke-width: 0.8853118712273642;" width="8.8531" x="88.0885" y="184.3109"/><line style="stroke: #000000; stroke-width: 0.8853118712273642;" x1="88.0885" x2="88.0885" y1="184.3109" y2="1332.3252"/><line style="stroke: #000000; stroke-width: 0.8853118712273642;" x1="96.9416" x2="96.9416" y1="184.3109" y2="1332.3252"/><line style="stroke: #000000; stroke-width: 0.8853118712273642;" x1="88.0885" x2="96.9416" y1="1332.3252" y2="1332.3252"/><rect fill="#FFFFFF" height="111.7983" style="stroke: #000000; stroke-width: 0.8853118712273642;" width="8.8531" x="266.0362" y="277.5176"/><rect fill="#FFFFFF" height="196.1519" style="stroke: #000000; stroke-width: 0.8853118712273642;" width="8.8531" x="266.0362" y="552.1994"/><rect fill="#FFFFFF" height="440.2213" style="stroke: #000000; stroke-width: 0.8853118712273642;" width="8.8531" x="266.0362" y="848.6406"/><rect fill="#FFFFFF" height="1155.0968" style="stroke: #000000; stroke-width: 0.8853118712273642;" width="8.8531" x="565.2716" y="220.6916"/><rect fill="#FFFFFF" height="197.1202" rx="4.4266" ry="4.4266" style="stroke: #000000; stroke-width: 1.7706237424547284;" width="404.5875" x="206.7203" y="451.8272"/><rect fill="#FFFFFF" height="89.6655" style="stroke: none; stroke-width: 0.8853118712273642;" width="404.5875" x="206.7203" y="559.2819"/><rect fill="#FFFFFF" height="427.827" rx="4.4266" ry="4.4266" style="stroke: #000000; stroke-width: 1.7706237424547284;" width="862.2938" x="11.5091" y="761.631"/><rect fill="#FFFFFF" height="215.2829" rx="4.4266" ry="4.4266" style="stroke: #000000; stroke-width: 1.7706237424547284;" width="658.2294" x="206.7203" y="967.9779"/><rect fill="#FFFFFF" height="58.5966" style="stroke: none; stroke-width: 0.8853118712273642;" width="658.2294" x="206.7203" y="1124.6642"/><line style="stroke: #000000; stroke-width: 0.8853118712273642;" x1="92.0724" x2="92.0724" y1="89.4995" y2="141.8159"/><line style="stroke: #000000; stroke-width: 0.8853118712273642; stroke-dasharray: 1.0,4.0;" x1="92.0724" x2="92.0724" y1="141.8159" y2="184.3109"/><line style="stroke: #000000; stroke-width: 0.8853118712273642;" x1="92.0724" x2="92.0724" y1="184.3109" y2="1391.7241"/><line style="stroke: #000000; stroke-width: 0.8853118712273642;" x1="270.4628" x2="270.4628" y1="89.4995" y2="141.8159"/><line style="stroke: #000000; stroke-width: 0.8853118712273642; stroke-dasharray: 1.0,4.0;" x1="270.4628" x2="270.4628" y1="141.8159" y2="184.3109"/><line style="stroke: #000000; stroke-width: 0.8853118712273642;" x1="270.4628" x2="270.4628" y1="184.3109" y2="1391.7241"/><line style="stroke: #000000; stroke-width: 0.8853118712273642;" x1="569.6982" x2="569.6982" y1="89.4995" y2="141.8159"/><line style="stroke: #000000; stroke-width: 0.8853118712273642; stroke-dasharray: 1.0,4.0;" x1="569.6982" x2="569.6982" y1="141.8159" y2="184.3109"/><line style="stroke: #000000; stroke-width: 0.8853118712273642;" x1="569.6982" x2="569.6982" y1="184.3109" y2="1391.7241"/><line style="stroke: #000000; stroke-width: 0.8853118712273642;" x1="824.668" x2="824.668" y1="89.4995" y2="141.8159"/><line style="stroke: #000000; stroke-width: 0.8853118712273642; stroke-dasharray: 1.0,4.0;" x1="824.668" x2="824.668" y1="141.8159" y2="184.3109"/><line style="stroke: #000000; stroke-width: 0.8853118712273642;" x1="824.668" x2="824.668" y1="184.3109" y2="1391.7241"/><rect fill="#9EA0CA" height="45.6904" rx="4.4266" ry="4.4266" style="stroke: #FFFFFF; stroke-width: 1.3279678068410463;" width="144.3058" x="20.3622" y="42.9238"/><text fill="#FFFFFF" font-family="Noto Sans CJK KR" font-size="12.3944" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="114.2052" x="35.4125" y="70.8405">Bluetoothデバイス</text><rect fill="#9EA0CA" height="45.6904" rx="4.4266" ry="4.4266" style="stroke: #FFFFFF; stroke-width: 1.3279678068410463;" width="109.7787" x="215.5734" y="42.9238"/><text fill="#FFFFFF" font-family="Noto Sans CJK KR" font-size="12.3944" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="79.6781" x="230.6237" y="70.8405">クライアント</text><rect fill="#05D686" height="45.6904" rx="4.4266" ry="4.4266" style="stroke: #FFFFFF; stroke-width: 1.3279678068410463;" width="65.5131" x="536.9416" y="42.9238"/><text fill="#FFFFFF" font-family="Noto Sans CJK KR" font-size="12.3944" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="35.4125" x="551.992" y="70.8405">Clova</text><text fill="#000000" font-family="Noto Sans CJK KR" font-size="10.6237" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="46.0362" x="798.994" y="78.3121">ユーザー</text><ellipse cx="824.668" cy="11.5091" fill="#FFFFFF" rx="7.0825" ry="7.0825" style="stroke: #000000; stroke-width: 1.7706237424547284;"/><path d="M824.668,18.5915 L824.668,42.495 M813.159,25.674 L836.1771,25.674 M824.668,42.495 L813.159,55.7746 M824.668,42.495 L836.1771,55.7746 " fill="none" style="stroke: #000000; stroke-width: 1.7706237424547284;"/><rect fill="#FFFFFF" height="43.4633" style="stroke: #FFFFFF; stroke-width: 0.8853118712273642;" width="8.8531" x="88.0885" y="98.3526"/><line style="stroke: #000000; stroke-width: 0.8853118712273642;" x1="88.0885" x2="88.0885" y1="98.3526" y2="141.8159"/><line style="stroke: #000000; stroke-width: 0.8853118712273642;" x1="96.9416" x2="96.9416" y1="98.3526" y2="141.8159"/><line style="stroke: #000000; stroke-width: 0.8853118712273642;" x1="88.0885" x2="96.9416" y1="98.3526" y2="98.3526"/><rect fill="#FFFFFF" height="1148.0143" style="stroke: #FFFFFF; stroke-width: 0.8853118712273642;" width="8.8531" x="88.0885" y="184.3109"/><line style="stroke: #000000; stroke-width: 0.8853118712273642;" x1="88.0885" x2="88.0885" y1="184.3109" y2="1332.3252"/><line style="stroke: #000000; stroke-width: 0.8853118712273642;" x1="96.9416" x2="96.9416" y1="184.3109" y2="1332.3252"/><line style="stroke: #000000; stroke-width: 0.8853118712273642;" x1="88.0885" x2="96.9416" y1="1332.3252" y2="1332.3252"/><rect fill="#FFFFFF" height="111.7983" style="stroke: #000000; stroke-width: 0.8853118712273642;" width="8.8531" x="266.0362" y="277.5176"/><rect fill="#FFFFFF" height="196.1519" style="stroke: #000000; stroke-width: 0.8853118712273642;" width="8.8531" x="266.0362" y="552.1994"/><rect fill="#FFFFFF" height="440.2213" style="stroke: #000000; stroke-width: 0.8853118712273642;" width="8.8531" x="266.0362" y="848.6406"/><rect fill="#FFFFFF" height="1155.0968" style="stroke: #000000; stroke-width: 0.8853118712273642;" width="8.8531" x="565.2716" y="220.6916"/><polygon fill="#000000" points="259.839,131.1922,268.6922,134.7334,259.839,138.2746,263.3803,134.7334" style="stroke: #000000; stroke-width: 0.8853118712273642;"/><line style="stroke: #000000; stroke-width: 0.8853118712273642;" x1="96.9416" x2="265.1509" y1="134.7334" y2="134.7334"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="10.6237" lengthAdjust="spacingAndGlyphs" textLength="53.1187" x="157.1429" y="121.7753">Advertising</text><line style="stroke: #000000; stroke-width: 0.8853118712273642;" x1="574.1247" x2="582.9779" y1="220.6916" y2="217.1504"/><line style="stroke: #000000; stroke-width: 0.8853118712273642;" x1="574.1247" x2="582.9779" y1="220.6916" y2="224.2329"/><line style="stroke: #000000; stroke-width: 0.8853118712273642;" x1="574.1247" x2="823.7827" y1="220.6916" y2="220.6916"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="10.6237" lengthAdjust="spacingAndGlyphs" textLength="216.0161" x="591.3883" y="207.7336">Bluetoothデバイスとの接続をリクエストする</text><polygon fill="#000000" points="284.6278,273.9764,275.7746,277.5176,284.6278,281.0589,281.0865,277.5176" style="stroke: #000000; stroke-width: 0.8853118712273642;"/><line style="stroke: #000000; stroke-width: 0.8853118712273642;" x1="279.3159" x2="564.3863" y1="277.5176" y2="277.5176"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="10.6237" lengthAdjust="spacingAndGlyphs" textLength="137.2233" x="351.4688" y="251.1969">DeviceControl.BtStartPairing</text><text fill="#000000" font-family="Noto Sans CJK KR" font-size="10.6237" lengthAdjust="spacingAndGlyphs" textLength="127.4849" x="356.338" y="264.5595">ディレクティブを送信する</text><line style="stroke: #000000; stroke-width: 0.8853118712273642;" x1="274.8893" x2="312.0724" y1="320.9809" y2="320.9809"/><line style="stroke: #000000; stroke-width: 0.8853118712273642;" x1="312.0724" x2="312.0724" y1="320.9809" y2="332.4899"/><line style="stroke: #000000; stroke-width: 0.8853118712273642;" x1="275.7746" x2="312.0724" y1="332.4899" y2="332.4899"/><polygon fill="#000000" points="284.6278,328.9487,275.7746,332.4899,284.6278,336.0312,281.0865,332.4899" style="stroke: #000000; stroke-width: 0.8853118712273642;"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="10.6237" lengthAdjust="spacingAndGlyphs" textLength="63.7425" x="289.9396" y="308.0228">スキャンする</text><polygon fill="#000000" points="554.6479,385.7746,563.501,389.3159,554.6479,392.8571,558.1891,389.3159" style="stroke: #000000; stroke-width: 0.8853118712273642;"/><line style="stroke: #000000; stroke-width: 0.8853118712273642; stroke-dasharray: 2.0,2.0;" x1="270.4628" x2="559.9598" y1="389.3159" y2="389.3159"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="10.6237" lengthAdjust="spacingAndGlyphs" textLength="251.4286" x="292.1529" y="362.9952">DeviceControl.ActionExecuted(DeviceStateを含める)</text><text fill="#000000" font-family="Noto Sans CJK KR" font-size="10.6237" lengthAdjust="spacingAndGlyphs" textLength="95.6137" x="370.0604" y="376.3578">イベントを送信する</text><polygon fill="#9EA0CA" points="39.839,400.8249,322.2535,400.8249,331.1066,420.3018,322.2535,440.664,39.839,440.664,30.9859,420.3018,39.839,400.8249" style="stroke: #FFFFFF; stroke-width: 0.8853118712273642;"/><text fill="#FFFFFF" font-family="Noto Sans CJK KR" font-size="12.3944" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="193.8833" x="84.326" y="426.0857">Bluetoothデバイスが検出される</text><path d="M211.1469,451.8272 L276.66,451.8272 L276.66,475.7306 L267.8068,484.5838 L206.7203,484.5838 L206.7203,456.2538 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 0.8853118712273642;"/><rect fill="none" height="197.1202" rx="4.4266" ry="4.4266" style="stroke: #000000; stroke-width: 1.7706237424547284;" width="404.5875" x="206.7203" y="451.8272"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="10.6237" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="12.3944" x="228.8531" y="472.594">alt</text><text fill="#000000" font-family="Noto Sans CJK KR" font-size="10.6237" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="208.9336" x="298.7928" y="473.4793">[特定のデバイスが指定されたか == はい]</text><polygon fill="#000000" points="284.6278,548.6582,275.7746,552.1994,284.6278,555.7407,281.0865,552.1994" style="stroke: #000000; stroke-width: 0.8853118712273642;"/><line style="stroke: #000000; stroke-width: 0.8853118712273642;" x1="279.3159" x2="564.3863" y1="552.1994" y2="552.1994"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="10.6237" lengthAdjust="spacingAndGlyphs" textLength="223.9839" x="308.0885" y="525.8787">DeviceControl.BtConnect(ペイロードを含める)</text><text fill="#000000" font-family="Noto Sans CJK KR" font-size="10.6237" lengthAdjust="spacingAndGlyphs" textLength="127.4849" x="356.338" y="539.2414">ディレクティブを送信する</text><line style="stroke: #000000; stroke-width: 0.8853118712273642; stroke-dasharray: 2.0,2.0;" x1="206.7203" x2="611.3078" y1="560.1673" y2="560.1673"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="10.6237" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="220.4427" x="220" y="580.0487">[特定のデバイスが指定されたか == いいえ]</text><polygon fill="#000000" points="284.6278,638.3237,275.7746,641.8649,284.6278,645.4062,281.0865,641.8649" style="stroke: #000000; stroke-width: 0.8853118712273642;"/><line style="stroke: #000000; stroke-width: 0.8853118712273642;" x1="279.3159" x2="564.3863" y1="641.8649" y2="641.8649"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="10.6237" lengthAdjust="spacingAndGlyphs" textLength="234.6076" x="302.7767" y="615.5442">DeviceControl.BtConnect(ペイロードを含めない)</text><text fill="#000000" font-family="Noto Sans CJK KR" font-size="10.6237" lengthAdjust="spacingAndGlyphs" textLength="127.4849" x="356.338" y="628.9069">ディレクティブを送信する</text><polygon fill="#000000" points="106.6801,687.9842,97.827,691.5254,106.6801,695.0666,103.1388,691.5254" style="stroke: #000000; stroke-width: 0.8853118712273642;"/><line style="stroke: #000000; stroke-width: 0.8853118712273642;" x1="101.3682" x2="265.1509" y1="691.5254" y2="691.5254"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="10.6237" lengthAdjust="spacingAndGlyphs" textLength="106.2374" x="128.3702" y="678.5673">接続をリクエストする</text><polygon fill="#000000" points="554.6479,744.8101,563.501,748.3514,554.6479,751.8926,558.1891,748.3514" style="stroke: #000000; stroke-width: 0.8853118712273642;"/><line style="stroke: #000000; stroke-width: 0.8853118712273642; stroke-dasharray: 2.0,2.0;" x1="270.4628" x2="559.9598" y1="748.3514" y2="748.3514"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="10.6237" lengthAdjust="spacingAndGlyphs" textLength="251.4286" x="292.1529" y="722.0306">DeviceControl.ActionExecuted(DeviceStateを含める)</text><text fill="#000000" font-family="Noto Sans CJK KR" font-size="10.6237" lengthAdjust="spacingAndGlyphs" textLength="95.6137" x="370.0604" y="735.3933">イベントを送信する</text><path d="M15.9356,761.631 L81.4487,761.631 L81.4487,785.5345 L72.5956,794.3876 L11.5091,794.3876 L11.5091,766.0576 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 0.8853118712273642;"/><rect fill="none" height="427.827" rx="4.4266" ry="4.4266" style="stroke: #000000; stroke-width: 1.7706237424547284;" width="862.2938" x="11.5091" y="761.631"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="10.6237" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="12.3944" x="33.6419" y="782.3978">alt</text><text fill="#000000" font-family="Noto Sans CJK KR" font-size="10.6237" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="202.7364" x="103.5815" y="783.2831">[PINコードを必要としているか == はい]</text><line style="stroke: #000000; stroke-width: 0.8853118712273642;" x1="264.2656" x2="255.4125" y1="848.6406" y2="845.0993"/><line style="stroke: #000000; stroke-width: 0.8853118712273642;" x1="264.2656" x2="255.4125" y1="848.6406" y2="852.1818"/><line style="stroke: #000000; stroke-width: 0.8853118712273642;" x1="96.9416" x2="265.1509" y1="848.6406" y2="848.6406"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="10.6237" lengthAdjust="spacingAndGlyphs" textLength="134.5674" x="114.2052" y="835.6825">PINコードをリクエストする</text><polygon fill="#000000" points="554.6479,901.9253,563.501,905.4665,554.6479,909.0078,558.1891,905.4665" style="stroke: #000000; stroke-width: 0.8853118712273642;"/><line style="stroke: #000000; stroke-width: 0.8853118712273642;" x1="274.8893" x2="559.9598" y1="905.4665" y2="905.4665"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="10.6237" lengthAdjust="spacingAndGlyphs" textLength="182.3742" x="328.8934" y="879.1458">DeviceControl.BtRequestForPINCode</text><text fill="#000000" font-family="Noto Sans CJK KR" font-size="10.6237" lengthAdjust="spacingAndGlyphs" textLength="95.6137" x="372.2736" y="892.5085">イベントを送信する</text><polygon fill="#05D686" points="547.1227,916.9756,847.2435,916.9756,856.0966,936.4525,847.2435,956.8146,547.1227,956.8146,538.2696,936.4525,547.1227,916.9756" style="stroke: #FFFFFF; stroke-width: 0.8853118712273642;"/><text fill="#FFFFFF" font-family="Noto Sans CJK KR" font-size="12.3944" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="219.5573" x="587.4044" y="942.2364">PINコードをリクエストし、入力する</text><path d="M211.1469,967.9779 L276.66,967.9779 L276.66,991.8813 L267.8068,1000.7344 L206.7203,1000.7344 L206.7203,972.4044 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 0.8853118712273642;"/><rect fill="none" height="215.2829" rx="4.4266" ry="4.4266" style="stroke: #000000; stroke-width: 1.7706237424547284;" width="658.2294" x="206.7203" y="967.9779"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="10.6237" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="12.3944" x="228.8531" y="988.7447">alt</text><text fill="#000000" font-family="Noto Sans CJK KR" font-size="10.6237" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="289.497" x="298.7928" y="989.63">[コードの入力をキャンセルしたと判断されるか == はい]</text><polygon fill="#000000" points="554.6479,1064.8089,563.501,1068.3501,554.6479,1071.8913,558.1891,1068.3501" style="stroke: #000000; stroke-width: 0.8853118712273642;"/><line style="stroke: #000000; stroke-width: 0.8853118712273642;" x1="274.8893" x2="559.9598" y1="1068.3501" y2="1068.3501"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="10.6237" lengthAdjust="spacingAndGlyphs" textLength="213.3602" x="313.4004" y="1042.0294">DeviceControl.BtRequestToCancelPINCode</text><text fill="#000000" font-family="Noto Sans CJK KR" font-size="10.6237" lengthAdjust="spacingAndGlyphs" textLength="95.6137" x="372.2736" y="1055.392">イベントを送信する</text><polygon fill="#05D686" points="547.1227,1079.8592,847.2435,1079.8592,856.0966,1099.336,847.2435,1119.6982,547.1227,1119.6982,538.2696,1099.336,547.1227,1079.8592" style="stroke: #FFFFFF; stroke-width: 0.8853118712273642;"/><text fill="#FFFFFF" font-family="Noto Sans CJK KR" font-size="12.3944" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="246.1167" x="574.1247" y="1105.1199">PINコードのリクエストをキャンセルする</text><line style="stroke: #000000; stroke-width: 0.8853118712273642; stroke-dasharray: 2.0,2.0;" x1="206.7203" x2="864.9497" y1="1125.5495" y2="1125.5495"/><polygon fill="#000000" points="284.6278,1172.6371,275.7746,1176.1783,284.6278,1179.7196,281.0865,1176.1783" style="stroke: #000000; stroke-width: 0.8853118712273642;"/><line style="stroke: #000000; stroke-width: 0.8853118712273642;" x1="279.3159" x2="564.3863" y1="1176.1783" y2="1176.1783"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="10.6237" lengthAdjust="spacingAndGlyphs" textLength="177.0624" x="331.5493" y="1149.8576">DeviceControl.BtConnectByPINCode</text><text fill="#000000" font-family="Noto Sans CJK KR" font-size="10.6237" lengthAdjust="spacingAndGlyphs" textLength="127.4849" x="356.338" y="1163.2203">ディレクティブを送信する</text><polygon fill="#000000" points="106.6801,1228.4947,97.827,1232.036,106.6801,1235.5772,103.1388,1232.036" style="stroke: #000000; stroke-width: 0.8853118712273642;"/><line style="stroke: #000000; stroke-width: 0.8853118712273642;" x1="101.3682" x2="265.1509" y1="1232.036" y2="1232.036"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="10.6237" lengthAdjust="spacingAndGlyphs" textLength="102.6962" x="130.1408" y="1219.0779">PINコードで接続する</text><polygon fill="#000000" points="554.6479,1285.3207,563.501,1288.8619,554.6479,1292.4032,558.1891,1288.8619" style="stroke: #000000; stroke-width: 0.8853118712273642;"/><line style="stroke: #000000; stroke-width: 0.8853118712273642;" x1="270.4628" x2="559.9598" y1="1288.8619" y2="1288.8619"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="10.6237" lengthAdjust="spacingAndGlyphs" textLength="144.3058" x="345.7143" y="1262.5412">DeviceControl.ActionExecuted</text><text fill="#000000" font-family="Noto Sans CJK KR" font-size="10.6237" lengthAdjust="spacingAndGlyphs" textLength="95.6137" x="370.0604" y="1275.9039">イベントを送信する</text><line style="stroke: #000000; stroke-width: 0.8853118712273642;" x1="268.6922" x2="259.839" y1="1332.3252" y2="1328.784"/><line style="stroke: #000000; stroke-width: 0.8853118712273642;" x1="268.6922" x2="259.839" y1="1332.3252" y2="1335.8664"/><line style="stroke: #000000; stroke-width: 0.8853118712273642; stroke-dasharray: 2.0,2.0;" x1="92.5151" x2="269.5775" y1="1332.3252" y2="1332.3252"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="10.6237" lengthAdjust="spacingAndGlyphs" textLength="42.495" x="160.2414" y="1319.3671">接続結果</text><polygon fill="#000000" points="814.0443,1372.2472,822.8974,1375.7885,814.0443,1379.3297,817.5855,1375.7885" style="stroke: #000000; stroke-width: 0.8853118712273642;"/><line style="stroke: #000000; stroke-width: 0.8853118712273642;" x1="569.6982" x2="819.3561" y1="1375.7885" y2="1375.7885"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="10.6237" lengthAdjust="spacingAndGlyphs" textLength="95.6137" x="649.3763" y="1362.8304">接続結果を通知する</text><!--
@startuml
scale max 880 width
skinparam sequenceMessageAlign center
skinparam shadowing false
skinparam roundcorner 10
skinparam padding 10
skinparam defaultFontSize 12
skinparam defaultFontName "Noto Sans CJK KR"

skinparam note {
  BackgroundColor #9EA0CA
  BorderColor #ffffff
  FontColor #ffffff
  FontSize 14
  FontStyle bold
}

skinparam sequence {
  ArrowColor #000000
  ActorBorderColor #000000
  ActorFontStyle Bolder


  LifeLineBorderColor #000000
  LifeLineBackgroundColor transparent
  ParticipantBorderColor transparent
  ParticipantFontSize 14
  ParticipantFontColor #ffffff
  ParticipantFontStyle bold

  BoxBorderColor #000000
  BoxFontColor #ffffff
    BoxFontSize 14
    BoxFontStyle bold
}
hide footbox

skinparam activity {
  BackgroundColor #9EA0CA
  BarColor #ffffff
  BorderColor #ffffff
  DiamondBackgroundColor #05D686
  DiamondBorderColor #ffffff
  DiamondFontColor #ffffff
  DiamondFontSize 14
  DiamondFontStyle bold
  FontColor #ffffff 
  FontSize 14
  FontStyle bold
}

participant "Bluetoothデバイス" as device #9EA0CA
participant クライアント as client #9EA0CA
participant "Clova" as clova #05D686
actor ユーザー as user #9EA0
activate device
device -> client: Advertising
...
user ->> clova : Bluetoothデバイスとの接続をリクエストする
activate clova
  clova -> client : DeviceControl.BtStartPairing\nディレクティブを送信する

activate client
  client -> client : スキャンする
  client - -> clova : DeviceControl.ActionExecuted(DeviceStateを含める)\nイベントを送信する
  hnote over client, device : Bluetoothデバイスが検出される
deactivate client

 alt 特定のデバイスが指定されたか == はい
	clova -> client : DeviceControl.BtConnect(ペイロードを含める)\nディレクティブを送信する

	activate client
 else 特定のデバイスが指定されたか == いいえ
    clova -> client : DeviceControl.BtConnect(ペイロードを含めない)\nディレクティブを送信する
end

  client -> device : 接続をリクエストする
  client - -> clova : DeviceControl.ActionExecuted(DeviceStateを含める)\nイベントを送信する

	deactivate client
  alt PINコードを必要としているか == はい
	device ->> client : PINコードをリクエストする

	activate client
	client -> clova : DeviceControl.BtRequestForPINCode\nイベントを送信する
    hnote over clova, user #05D686 : PINコードをリクエストし、入力する

    alt コードの入力をキャンセルしたと判断されるか == はい
		client -> clova : DeviceControl.BtRequestToCancelPINCode\nイベントを送信する
		hnote over clova, user #05D686 : PINコードのリクエストをキャンセルする
    else
 		clova -> client : DeviceControl.BtConnectByPINCode\nディレクティブを送信する
	end
  end
    client -> device : PINコードで接続する
    client -> clova : DeviceControl.ActionExecuted\nイベントを送信する

	deactivate client
	device - ->> client : 接続結果
 deactivate device

  clova -> user : 接続結果を通知する

deactivate clova

@enduml

PlantUML version 1.2019.09(Tue Aug 27 01:19:51 JST 2019)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_202-b08
Operating System: Windows 10
OS Version: 10.0
Default Encoding: MS932
Language: ja
Country: JP
--></g></svg>