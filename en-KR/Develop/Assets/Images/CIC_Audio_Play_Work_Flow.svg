<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="866px" preserveAspectRatio="none" style="width:816px;height:866px;" version="1.1" viewBox="0 0 816 866" width="816px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="69.52" style="stroke: #000000; stroke-width: 1.0;" width="10" x="225.5" y="175.28"/><rect fill="#FFFFFF" height="142.28" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="225.5" y="361.32"/><line style="stroke: #000000; stroke-width: 1.0;" x1="225.5" x2="225.5" y1="361.32" y2="503.6"/><line style="stroke: #000000; stroke-width: 1.0;" x1="235.5" x2="235.5" y1="361.32" y2="503.6"/><line style="stroke: #000000; stroke-width: 1.0;" x1="225.5" x2="235.5" y1="361.32" y2="361.32"/><rect fill="#FFFFFF" height="61.52" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="225.5" y="569.36"/><line style="stroke: #000000; stroke-width: 1.0;" x1="225.5" x2="225.5" y1="569.36" y2="630.88"/><line style="stroke: #000000; stroke-width: 1.0;" x1="235.5" x2="235.5" y1="569.36" y2="630.88"/><line style="stroke: #000000; stroke-width: 1.0;" x1="225.5" x2="235.5" y1="630.88" y2="630.88"/><rect fill="#FFFFFF" height="145.52" style="stroke: #000000; stroke-width: 1.0;" width="10" x="225.5" y="700.4"/><rect fill="#FFFFFF" height="116.52" style="stroke: #000000; stroke-width: 1.0;" width="10" x="641.5" y="244.8"/><rect fill="#FFFFFF" height="69.52" style="stroke: #000000; stroke-width: 1.0;" width="10" x="641.5" y="630.88"/><rect fill="#FFFFFF" height="332.08" rx="5" ry="5" style="stroke: #000000; stroke-width: 2.0;" width="501.5" x="183.5" y="441.08"/><line style="stroke: #000000; stroke-width: 1.0;" x1="34" x2="34" y1="103.76" y2="503.6"/><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="34" x2="34" y1="503.6" y2="569.36"/><line style="stroke: #000000; stroke-width: 1.0;" x1="34" x2="34" y1="569.36" y2="854.92"/><line style="stroke: #000000; stroke-width: 1.0;" x1="230.5" x2="230.5" y1="103.76" y2="503.6"/><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="230.5" x2="230.5" y1="503.6" y2="569.36"/><line style="stroke: #000000; stroke-width: 1.0;" x1="230.5" x2="230.5" y1="569.36" y2="854.92"/><line style="stroke: #000000; stroke-width: 1.0;" x1="646" x2="646" y1="103.76" y2="503.6"/><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="646" x2="646" y1="503.6" y2="569.36"/><line style="stroke: #000000; stroke-width: 1.0;" x1="646" x2="646" y1="569.36" y2="854.92"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="27" x="18" y="89.92">User</text><ellipse cx="34.5" cy="13" fill="#9EA0CA" rx="8" ry="8" style="stroke: #000000; stroke-width: 2.0;"/><path d="M34.5,21 L34.5,48 M21.5,29 L47.5,29 M34.5,48 L21.5,63 M34.5,48 L47.5,63 " fill="none" style="stroke: #000000; stroke-width: 2.0;"/><rect fill="#9EA0CA" height="54.72" rx="5" ry="5" style="stroke: #FFFFFF; stroke-width: 1.5;" width="74" x="193.5" y="48.04"/><text fill="#FFFFFF" font-family="Noto Sans CJK KR" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="40" x="210.5" y="81.28">Client</text><rect fill="#05D686" height="54.72" rx="5" ry="5" style="stroke: #FFFFFF; stroke-width: 1.5;" width="57" x="618" y="48.04"/><text fill="#FFFFFF" font-family="Noto Sans CJK KR" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="635" y="81.28">CIC</text><rect fill="#FFFFFF" height="69.52" style="stroke: #000000; stroke-width: 1.0;" width="10" x="225.5" y="175.28"/><rect fill="#FFFFFF" height="142.28" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="225.5" y="361.32"/><line style="stroke: #000000; stroke-width: 1.0;" x1="225.5" x2="225.5" y1="361.32" y2="503.6"/><line style="stroke: #000000; stroke-width: 1.0;" x1="235.5" x2="235.5" y1="361.32" y2="503.6"/><line style="stroke: #000000; stroke-width: 1.0;" x1="225.5" x2="235.5" y1="361.32" y2="361.32"/><rect fill="#FFFFFF" height="61.52" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="225.5" y="569.36"/><line style="stroke: #000000; stroke-width: 1.0;" x1="225.5" x2="225.5" y1="569.36" y2="630.88"/><line style="stroke: #000000; stroke-width: 1.0;" x1="235.5" x2="235.5" y1="569.36" y2="630.88"/><line style="stroke: #000000; stroke-width: 1.0;" x1="225.5" x2="235.5" y1="630.88" y2="630.88"/><rect fill="#FFFFFF" height="145.52" style="stroke: #000000; stroke-width: 1.0;" width="10" x="225.5" y="700.4"/><rect fill="#FFFFFF" height="116.52" style="stroke: #000000; stroke-width: 1.0;" width="10" x="641.5" y="244.8"/><rect fill="#FFFFFF" height="69.52" style="stroke: #000000; stroke-width: 1.0;" width="10" x="641.5" y="630.88"/><line style="stroke: #000000; stroke-width: 1.0;" x1="223.5" x2="213.5" y1="175.28" y2="171.28"/><line style="stroke: #000000; stroke-width: 1.0;" x1="223.5" x2="213.5" y1="175.28" y2="179.28"/><line style="stroke: #000000; stroke-width: 1.0;" x1="34.5" x2="224.5" y1="175.28" y2="175.28"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="145" x="57.5" y="141.68">Requests music playback:</text><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="152" x="54" y="159.44">"Play some upbeat music."</text><line style="stroke: #000000; stroke-width: 1.0;" x1="639.5" x2="629.5" y1="244.8" y2="240.8"/><line style="stroke: #000000; stroke-width: 1.0;" x1="639.5" x2="629.5" y1="244.8" y2="248.8"/><line style="stroke: #000000; stroke-width: 1.0;" x1="230.5" x2="640.5" y1="244.8" y2="244.8"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="109" x="381.5" y="211.2">Sends user request</text><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="208" x="332" y="228.96">(SpeechRecognizer.Recognize event)</text><line style="stroke: #000000; stroke-width: 1.0;" x1="651.5" x2="693.5" y1="296.56" y2="296.56"/><line style="stroke: #000000; stroke-width: 1.0;" x1="693.5" x2="693.5" y1="296.56" y2="309.56"/><line style="stroke: #000000; stroke-width: 1.0;" x1="652.5" x2="693.5" y1="309.56" y2="309.56"/><polygon fill="#000000" points="662.5,305.56,652.5,309.56,662.5,313.56,658.5,309.56" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="136" x="668.5" y="280.72">Analyzes user utterance</text><line style="stroke: #000000; stroke-width: 1.0;" x1="235.5" x2="245.5" y1="361.32" y2="357.32"/><line style="stroke: #000000; stroke-width: 1.0;" x1="235.5" x2="245.5" y1="361.32" y2="365.32"/><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="235.5" x2="645.5" y1="361.32" y2="361.32"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="284" x="299" y="345.48">Directs audio playback (AudioPlayer.Play directive)</text><line style="stroke: #000000; stroke-width: 1.0;" x1="235.5" x2="277.5" y1="413.08" y2="413.08"/><line style="stroke: #000000; stroke-width: 1.0;" x1="277.5" x2="277.5" y1="413.08" y2="426.08"/><line style="stroke: #000000; stroke-width: 1.0;" x1="236.5" x2="277.5" y1="426.08" y2="426.08"/><polygon fill="#000000" points="246.5,422.08,236.5,426.08,246.5,430.08,242.5,426.08" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="344" x="252.5" y="397.24">Analyzes audioItem.stream field of AudioPlayer.Play directive</text><path d="M188.5,441.08 L269.5,441.08 L269.5,470.08 L259.5,480.08 L183.5,480.08 L183.5,446.08 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="332.08" rx="5" ry="5" style="stroke: #000000; stroke-width: 2.0;" width="501.5" x="183.5" y="441.08"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="21" x="208.5" y="466">opt</text><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="240" x="294.5" y="467">[audioItem.stream.urlPlayable == false]</text><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="310" x="185.5" y="541.52">Time elapses until right before starting audio playback,</text><line style="stroke: #000000; stroke-width: 1.0;" x1="639.5" x2="629.5" y1="630.88" y2="626.88"/><line style="stroke: #000000; stroke-width: 1.0;" x1="639.5" x2="629.5" y1="630.88" y2="634.88"/><line style="stroke: #000000; stroke-width: 1.0;" x1="230.5" x2="640.5" y1="630.88" y2="630.88"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="363" x="254.5" y="597.28">Requests actual audio information to the audioItem.stream field</text><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="216" x="328" y="615.04">(AudioPlayer.StreamRequested event)</text><line style="stroke: #000000; stroke-width: 1.0;" x1="235.5" x2="245.5" y1="700.4" y2="696.4"/><line style="stroke: #000000; stroke-width: 1.0;" x1="235.5" x2="245.5" y1="700.4" y2="704.4"/><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="235.5" x2="645.5" y1="700.4" y2="700.4"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="187" x="347.5" y="666.8">Sends playable audio information</text><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="211" x="335.5" y="684.56">(AudioPlayer.StreamDeliver directive)</text><line style="stroke: #000000; stroke-width: 1.0;" x1="235.5" x2="277.5" y1="752.16" y2="752.16"/><line style="stroke: #000000; stroke-width: 1.0;" x1="277.5" x2="277.5" y1="752.16" y2="765.16"/><line style="stroke: #000000; stroke-width: 1.0;" x1="236.5" x2="277.5" y1="765.16" y2="765.16"/><polygon fill="#000000" points="246.5,761.16,236.5,765.16,246.5,769.16,242.5,765.16" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="372" x="252.5" y="736.32">Analyzes audioStream field of AudioPlayer.StreamDeliver directive</text><line style="stroke: #000000; stroke-width: 1.0;" x1="235.5" x2="277.5" y1="823.92" y2="823.92"/><line style="stroke: #000000; stroke-width: 1.0;" x1="277.5" x2="277.5" y1="823.92" y2="836.92"/><line style="stroke: #000000; stroke-width: 1.0;" x1="236.5" x2="277.5" y1="836.92" y2="836.92"/><polygon fill="#000000" points="246.5,832.92,236.5,836.92,246.5,840.92,242.5,836.92" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="122" x="252.5" y="808.08">Starts audio playback</text><!--
@startuml
scale max 880 width
skinparam sequenceMessageAlign center
skinparam shadowing false
skinparam roundcorner 10
skinparam padding 10
skinparam defaultFontSize 12
skinparam defaultFontName "Noto Sans CJK KR"

skinparam note {
  BackgroundColor #9EA0CA
  BorderColor #ffffff
  FontColor #ffffff
  FontSize 14
  FontStyle bold
}

skinparam sequence {
  ArrowColor #000000
  ActorBorderColor #000000
  ActorFontStyle Bolder


  LifeLineBorderColor #000000
  LifeLineBackgroundColor transparent
  ParticipantBorderColor transparent
  ParticipantFontSize 14
  ParticipantFontColor #ffffff
  ParticipantFontStyle bold

  BoxBorderColor #000000
  BoxFontColor #ffffff
    BoxFontSize 14
    BoxFontStyle bold
}
hide footbox

skinparam activity {
  BackgroundColor #9EA0CA
  BarColor #ffffff
  BorderColor #ffffff
  DiamondBackgroundColor #05D686
  DiamondBorderColor #ffffff
  DiamondFontColor #ffffff
  DiamondFontSize 14
  DiamondFontStyle bold
  FontColor #ffffff 
  FontSize 14
  FontStyle bold
}

actor User as user #9EA0CA
participant Client as client #9EA0CA
participant CIC as cic #05D686


user ->> client : Requests music playback:\n"Play some upbeat music."

activate client
  client ->> cic : Sends user request\n(SpeechRecognizer.Recognize event)
deactivate client

activate cic
  cic -> cic : Analyzes user utterance
  cic - ->> client : Directs audio playback (AudioPlayer.Play directive)
deactivate cic

activate client
  client -> client : Analyzes audioItem.stream field of AudioPlayer.Play directive

opt audioItem.stream.urlPlayable == false

... Time elapses until right before starting audio playback, ...

  client ->> cic : Requests actual audio information to the audioItem.stream field\n(AudioPlayer.StreamRequested event)
  deactivate client
  activate cic

    cic - ->> client : Sends playable audio information\n(AudioPlayer.StreamDeliver directive)
  deactivate cic
  activate client
    client -> client : Analyzes audioStream field of AudioPlayer.StreamDeliver directive
end

client -> client : Starts audio playback

@enduml

PlantUML version 1.2019.09(Tue Aug 27 01:19:51 KST 2019)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11+28
Operating System: Mac OS X
OS Version: 10.14.6
Default Encoding: UTF-8
Language: en
Country: KR
--></g></svg>