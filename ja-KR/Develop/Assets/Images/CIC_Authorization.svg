<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1281.6362px" preserveAspectRatio="none" style="width:884px;height:1281px;" version="1.1" viewBox="0 0 884 1281" width="884.7363px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="192.1004" style="stroke: #000000; stroke-width: 0.9472551130247578;" width="9.4726" x="113.197" y="1069.6471"/><rect fill="#FFFFFF" height="255.6923" style="stroke: #000000; stroke-width: 0.9472551130247578;" width="9.4726" x="309.2788" y="61.0869"/><rect fill="#FFFFFF" height="28.4177" style="stroke: #000000; stroke-width: 0.9472551130247578;" width="9.4726" x="309.2788" y="421.3546"/><rect fill="#FFFFFF" height="526.6664" style="stroke: #000000; stroke-width: 0.9472551130247578;" width="9.4726" x="309.2788" y="542.9807"/><rect fill="#FFFFFF" height="58.9814" style="stroke: #000000; stroke-width: 0.9472551130247578;" width="9.4726" x="572.6157" y="157.0112"/><rect fill="#FFFFFF" height="430.4904" style="stroke: #000000; stroke-width: 0.9472551130247578;" width="9.4726" x="724.6502" y="288.3615"/><rect fill="#FFFFFF" height="45.5941" style="stroke: #000000; stroke-width: 0.9472551130247578;" width="9.4726" x="724.6502" y="870.2203"/><rect fill="#FFFFFF" height="45.5941" style="stroke: #000000; stroke-width: 0.9472551130247578;" width="9.4726" x="724.6502" y="1155.4033"/><rect fill="#FFFFFF" height="28.4177" style="stroke: #000000; stroke-width: 0.9472551130247578;" width="9.4726" x="831.2164" y="961.4084"/><rect fill="#FFFFFF" height="15.1561" style="stroke: #000000; stroke-width: 0.9472551130247578;" width="9.4726" x="831.2164" y="1246.5914"/><rect fill="#FFFFFF" height="395.442" rx="4.7363" ry="4.7363" style="stroke: #000000; stroke-width: 1.8945102260495157;" width="593.929" x="214.0797" y="330.988"/><rect fill="#FFFFFF" height="269.0797" style="stroke: none; stroke-width: 0.9472551130247578;" width="593.929" x="214.0797" y="457.3503"/><rect fill="#FFFFFF" height="514.4779" rx="4.7363" ry="4.7363" style="stroke: #000000; stroke-width: 1.8945102260495157;" width="861.0549" x="12.3143" y="739.6915"/><rect fill="#FFFFFF" height="256.7653" style="stroke: none; stroke-width: 0.9472551130247578;" width="861.0549" x="12.3143" y="997.4041"/><line style="stroke: #000000; stroke-width: 0.9472551130247578; stroke-dasharray: 5.0,5.0;" x1="117.4596" x2="117.4596" y1="51.6143" y2="1270.2728"/><line style="stroke: #000000; stroke-width: 0.9472551130247578; stroke-dasharray: 5.0,5.0;" x1="313.5414" x2="313.5414" y1="51.6143" y2="1270.2728"/><line style="stroke: #000000; stroke-width: 0.9472551130247578; stroke-dasharray: 5.0,5.0;" x1="576.8784" x2="576.8784" y1="51.6143" y2="1270.2728"/><line style="stroke: #000000; stroke-width: 0.9472551130247578; stroke-dasharray: 5.0,5.0;" x1="729.3864" x2="729.3864" y1="51.6143" y2="1270.2728"/><line style="stroke: #000000; stroke-width: 0.9472551130247578; stroke-dasharray: 5.0,5.0;" x1="835.479" x2="835.479" y1="51.6143" y2="1270.2728"/><rect fill="#9EA0CA" height="47.8253" rx="4.7363" ry="4.7363" style="stroke: #FFFFFF; stroke-width: 1.4208826695371368;" width="192.2928" x="21.7869" y="2.8418"/><text fill="#FFFFFF" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="13.2616" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="160.0861" x="37.8902" y="31.7663">GUIを提供しないクライアント</text><rect fill="#9EA0CA" height="47.8253" rx="4.7363" ry="4.7363" style="stroke: #FFFFFF; stroke-width: 1.4208826695371368;" width="180.9257" x="223.5522" y="2.8418"/><text fill="#FFFFFF" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="13.2616" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="148.7191" x="239.6555" y="31.7663">GUIを提供するクライアント</text><rect fill="#05D686" height="47.8253" rx="4.7363" ry="4.7363" style="stroke: #FFFFFF; stroke-width: 1.4208826695371368;" width="146.8245" x="503.9397" y="2.8418"/><text fill="#FFFFFF" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="13.2616" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="114.6179" x="520.0431" y="31.7663">NAVER認可サーバー</text><rect fill="#05D686" height="47.8253" rx="4.7363" ry="4.7363" style="stroke: #FFFFFF; stroke-width: 1.4208826695371368;" width="138.2992" x="660.2368" y="2.8418"/><text fill="#FFFFFF" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="13.2616" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="106.0926" x="676.3402" y="31.7663">Clova認可サーバー</text><rect fill="#05D686" height="47.8253" rx="4.7363" ry="4.7363" style="stroke: #FFFFFF; stroke-width: 1.4208826695371368;" width="55.8881" x="808.0086" y="2.8418"/><text fill="#FFFFFF" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="13.2616" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23.6814" x="824.1119" y="31.7663">CIC</text><rect fill="#FFFFFF" height="192.1004" style="stroke: #000000; stroke-width: 0.9472551130247578;" width="9.4726" x="113.197" y="1069.6471"/><rect fill="#FFFFFF" height="255.6923" style="stroke: #000000; stroke-width: 0.9472551130247578;" width="9.4726" x="309.2788" y="61.0869"/><rect fill="#FFFFFF" height="28.4177" style="stroke: #000000; stroke-width: 0.9472551130247578;" width="9.4726" x="309.2788" y="421.3546"/><rect fill="#FFFFFF" height="526.6664" style="stroke: #000000; stroke-width: 0.9472551130247578;" width="9.4726" x="309.2788" y="542.9807"/><rect fill="#FFFFFF" height="58.9814" style="stroke: #000000; stroke-width: 0.9472551130247578;" width="9.4726" x="572.6157" y="157.0112"/><rect fill="#FFFFFF" height="430.4904" style="stroke: #000000; stroke-width: 0.9472551130247578;" width="9.4726" x="724.6502" y="288.3615"/><rect fill="#FFFFFF" height="45.5941" style="stroke: #000000; stroke-width: 0.9472551130247578;" width="9.4726" x="724.6502" y="870.2203"/><rect fill="#FFFFFF" height="45.5941" style="stroke: #000000; stroke-width: 0.9472551130247578;" width="9.4726" x="724.6502" y="1155.4033"/><rect fill="#FFFFFF" height="28.4177" style="stroke: #000000; stroke-width: 0.9472551130247578;" width="9.4726" x="831.2164" y="961.4084"/><rect fill="#FFFFFF" height="15.1561" style="stroke: #000000; stroke-width: 0.9472551130247578;" width="9.4726" x="831.2164" y="1246.5914"/><line style="stroke: #000000; stroke-width: 0.9472551130247578;" x1="318.7513" x2="358.5361" y1="99.1029" y2="99.1029"/><line style="stroke: #000000; stroke-width: 0.9472551130247578;" x1="358.5361" x2="358.5361" y1="99.1029" y2="111.4172"/><line style="stroke: #000000; stroke-width: 0.9472551130247578;" x1="319.6986" x2="358.5361" y1="111.4172" y2="111.4172"/><polygon fill="#000000" points="329.1712,107.6282,319.6986,111.4172,329.1712,115.2062,325.3821,111.4172" style="stroke: #000000; stroke-width: 0.9472551130247578;"/><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="11.3671" lengthAdjust="spacingAndGlyphs" textLength="75.7804" x="334.8547" y="85.3381">NAVERログイン</text><line style="stroke: #000000; stroke-width: 0.9472551130247578;" x1="570.7212" x2="561.2487" y1="157.0112" y2="153.2222"/><line style="stroke: #000000; stroke-width: 0.9472551130247578;" x1="570.7212" x2="561.2487" y1="157.0112" y2="160.8003"/><line style="stroke: #000000; stroke-width: 0.9472551130247578;" x1="318.7513" x2="571.6685" y1="157.0112" y2="157.0112"/><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="11.3671" lengthAdjust="spacingAndGlyphs" textLength="151.5608" x="369.9031" y="143.2464">NAVERアカウント情報を送信する</text><line style="stroke: #000000; stroke-width: 0.9472551130247578;" x1="318.7513" x2="328.2239" y1="215.9927" y2="212.2036"/><line style="stroke: #000000; stroke-width: 0.9472551130247578;" x1="318.7513" x2="328.2239" y1="215.9927" y2="219.7817"/><line style="stroke: #000000; stroke-width: 0.9472551130247578; stroke-dasharray: 2.0,2.0;" x1="318.7513" x2="576.4047" y1="215.9927" y2="215.9927"/><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="11.3671" lengthAdjust="spacingAndGlyphs" textLength="94.7255" x="400.6889" y="188.8405">NAVERアカウントの</text><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="11.3671" lengthAdjust="spacingAndGlyphs" textLength="123.1432" x="386.4801" y="202.2279">アクセストークンを送信する</text><line style="stroke: #000000; stroke-width: 0.9472551130247578;" x1="722.7557" x2="713.2831" y1="288.3615" y2="284.5725"/><line style="stroke: #000000; stroke-width: 0.9472551130247578;" x1="722.7557" x2="713.2831" y1="288.3615" y2="292.1505"/><line style="stroke: #000000; stroke-width: 0.9472551130247578;" x1="318.7513" x2="723.7029" y1="288.3615" y2="288.3615"/><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="11.3671" lengthAdjust="spacingAndGlyphs" textLength="215.9742" x="392.4004" y="247.8219">認可コードをリクエストする(次の情報を送信する)</text><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="11.3671" lengthAdjust="spacingAndGlyphs" textLength="180.9257" x="392.4004" y="261.2093">- NAVERアカウントのアクセストークン</text><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="11.3671" lengthAdjust="spacingAndGlyphs" textLength="258.6006" x="392.4004" y="274.5967">- クライアント認証情報(CLOVA_OAUTH_CLIENT_ID)</text><path d="M218.8159,330.988 L290.8073,330.988 L290.8073,355.6166 L281.3348,365.0891 L214.0797,365.0891 L214.0797,335.7242 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 0.9472551130247578;"/><rect fill="none" height="395.442" rx="4.7363" ry="4.7363" style="stroke: #000000; stroke-width: 1.8945102260495157;" width="593.929" x="214.0797" y="330.988"/><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="11.3671" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="15.1561" x="237.761" y="352.3974">alt</text><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="11.3671" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="223.5522" x="314.4887" y="353.3447">["利用規約に同意しているか" == "同意している"]</text><line style="stroke: #000000; stroke-width: 0.9472551130247578;" x1="318.7513" x2="328.2239" y1="421.3546" y2="417.5656"/><line style="stroke: #000000; stroke-width: 0.9472551130247578;" x1="318.7513" x2="328.2239" y1="421.3546" y2="425.1436"/><line style="stroke: #000000; stroke-width: 0.9472551130247578; stroke-dasharray: 2.0,2.0;" x1="318.7513" x2="723.7029" y1="421.3546" y2="421.3546"/><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="11.3671" lengthAdjust="spacingAndGlyphs" textLength="144.93" x="449.2357" y="407.5898">認可コードを送信する(200 OK)</text><line style="stroke: #000000; stroke-width: 0.9472551130247578; stroke-dasharray: 2.0,2.0;" x1="214.0797" x2="808.0086" y1="458.2976" y2="458.2976"/><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="11.3671" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="223.5522" x="228.2885" y="478.7598">[利用規約に同意しているか == "同意していない"]</text><line style="stroke: #000000; stroke-width: 0.9472551130247578;" x1="318.7513" x2="328.2239" y1="542.9807" y2="539.1917"/><line style="stroke: #000000; stroke-width: 0.9472551130247578;" x1="318.7513" x2="328.2239" y1="542.9807" y2="546.7697"/><line style="stroke: #000000; stroke-width: 0.9472551130247578; stroke-dasharray: 2.0,2.0;" x1="318.7513" x2="723.7029" y1="542.9807" y2="542.9807"/><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="11.3671" lengthAdjust="spacingAndGlyphs" textLength="188.5038" x="422.239" y="515.8285">authorization、redirect_uriを送信する</text><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="11.3671" lengthAdjust="spacingAndGlyphs" textLength="198.9236" x="422.239" y="529.2159">(451 Unavailable For Legal Reasons)</text><line style="stroke: #000000; stroke-width: 0.9472551130247578;" x1="318.7513" x2="358.5361" y1="588.5747" y2="588.5747"/><line style="stroke: #000000; stroke-width: 0.9472551130247578;" x1="358.5361" x2="358.5361" y1="588.5747" y2="600.8891"/><line style="stroke: #000000; stroke-width: 0.9472551130247578;" x1="319.6986" x2="358.5361" y1="600.8891" y2="600.8891"/><polygon fill="#000000" points="329.1712,597.1,319.6986,600.8891,329.1712,604.6781,325.3821,600.8891" style="stroke: #000000; stroke-width: 0.9472551130247578;"/><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="11.3671" lengthAdjust="spacingAndGlyphs" textLength="221.6577" x="334.8547" y="574.8099">利用規約ページ(redirect_uri)にリダイレクトする</text><line style="stroke: #000000; stroke-width: 0.9472551130247578;" x1="722.7557" x2="713.2831" y1="646.4831" y2="642.6941"/><line style="stroke: #000000; stroke-width: 0.9472551130247578;" x1="722.7557" x2="713.2831" y1="646.4831" y2="650.2721"/><line style="stroke: #000000; stroke-width: 0.9472551130247578;" x1="318.7513" x2="723.7029" y1="646.4831" y2="646.4831"/><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="11.3671" lengthAdjust="spacingAndGlyphs" textLength="186.6093" x="428.3961" y="632.7183">利用規約への同意結果を送信する(submit)</text><line style="stroke: #000000; stroke-width: 0.9472551130247578;" x1="318.7513" x2="328.2239" y1="718.8519" y2="715.0629"/><line style="stroke: #000000; stroke-width: 0.9472551130247578;" x1="318.7513" x2="328.2239" y1="718.8519" y2="722.6409"/><line style="stroke: #000000; stroke-width: 0.9472551130247578; stroke-dasharray: 2.0,2.0;" x1="318.7513" x2="728.4392" y1="718.8519" y2="718.8519"/><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="11.3671" lengthAdjust="spacingAndGlyphs" textLength="133.563" x="429.817" y="678.3124">結果を送信する(302 Found)</text><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="11.3671" lengthAdjust="spacingAndGlyphs" textLength="188.5038" x="429.817" y="691.6997">- 成功：clova://agreement-success</text><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="11.3671" lengthAdjust="spacingAndGlyphs" textLength="180.9257" x="429.817" y="705.0871">- 失敗：clova://agreement-failure</text><path d="M17.0506,739.6915 L89.042,739.6915 L89.042,764.3202 L79.5694,773.7927 L12.3143,773.7927 L12.3143,744.4278 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 0.9472551130247578;"/><rect fill="none" height="514.4779" rx="4.7363" ry="4.7363" style="stroke: #000000; stroke-width: 1.8945102260495157;" width="861.0549" x="12.3143" y="739.6915"/><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="11.3671" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="15.1561" x="35.9957" y="761.101">alt</text><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="11.3671" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="263.3369" x="112.7234" y="762.0482">["クライアントタイプ" == "GUIを提供するクライアント"]</text><line style="stroke: #000000; stroke-width: 0.9472551130247578;" x1="722.7557" x2="713.2831" y1="870.2203" y2="866.4313"/><line style="stroke: #000000; stroke-width: 0.9472551130247578;" x1="722.7557" x2="713.2831" y1="870.2203" y2="874.0094"/><line style="stroke: #000000; stroke-width: 0.9472551130247578;" x1="318.7513" x2="723.7029" y1="870.2203" y2="870.2203"/><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="11.3671" lengthAdjust="spacingAndGlyphs" textLength="264.2842" x="351.1948" y="816.2934">Clovaアクセストークンをリクエストし、次の情報を送信する</text><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="11.3671" lengthAdjust="spacingAndGlyphs" textLength="180.9257" x="351.1948" y="829.6808">- NAVERアカウントのアクセストークン</text><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="11.3671" lengthAdjust="spacingAndGlyphs" textLength="107.0398" x="351.1948" y="843.0682">- クライアント認証情報</text><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="11.3671" lengthAdjust="spacingAndGlyphs" textLength="333.4338" x="358.7729" y="856.4555">(CLOVA_OAUTH_CLIENT_ID、CLOVA_OAUTH_CLIENT_SECRET)</text><line style="stroke: #000000; stroke-width: 0.9472551130247578;" x1="318.7513" x2="328.2239" y1="915.8144" y2="912.0254"/><line style="stroke: #000000; stroke-width: 0.9472551130247578;" x1="318.7513" x2="328.2239" y1="915.8144" y2="919.6034"/><line style="stroke: #000000; stroke-width: 0.9472551130247578; stroke-dasharray: 2.0,2.0;" x1="318.7513" x2="728.4392" y1="915.8144" y2="915.8144"/><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="11.3671" lengthAdjust="spacingAndGlyphs" textLength="152.5081" x="447.8149" y="902.0496">Clovaアクセストークンを送信する</text><line style="stroke: #000000; stroke-width: 0.9472551130247578;" x1="829.3219" x2="819.8493" y1="961.4084" y2="957.6194"/><line style="stroke: #000000; stroke-width: 0.9472551130247578;" x1="829.3219" x2="819.8493" y1="961.4084" y2="965.1975"/><line style="stroke: #000000; stroke-width: 0.9472551130247578;" x1="318.7513" x2="830.2691" y1="961.4084" y2="961.4084"/><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="11.3671" lengthAdjust="spacingAndGlyphs" textLength="248.1808" x="450.8934" y="947.6436">Clovaアクセストークンを使ってCICとの接続を開始する</text><line style="stroke: #000000; stroke-width: 0.9472551130247578; stroke-dasharray: 2.0,2.0;" x1="12.3143" x2="873.3692" y1="998.3514" y2="998.3514"/><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="11.3671" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="272.8095" x="26.5231" y="1018.8136">["クライアントタイプ" == "GUIを提供しないクライアント"]</text><line style="stroke: #000000; stroke-width: 0.9472551130247578;" x1="122.6695" x2="132.1421" y1="1069.6471" y2="1065.8581"/><line style="stroke: #000000; stroke-width: 0.9472551130247578;" x1="122.6695" x2="132.1421" y1="1069.6471" y2="1073.4362"/><line style="stroke: #000000; stroke-width: 0.9472551130247578;" x1="122.6695" x2="313.0678" y1="1069.6471" y2="1069.6471"/><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="11.3671" lengthAdjust="spacingAndGlyphs" textLength="94.7255" x="170.9795" y="1055.8823">認可コードを送信する</text><line style="stroke: #000000; stroke-width: 0.9472551130247578;" x1="722.7557" x2="713.2831" y1="1155.4033" y2="1151.6143"/><line style="stroke: #000000; stroke-width: 0.9472551130247578;" x1="722.7557" x2="713.2831" y1="1155.4033" y2="1159.1923"/><line style="stroke: #000000; stroke-width: 0.9472551130247578;" x1="122.6695" x2="723.7029" y1="1155.4033" y2="1155.4033"/><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="11.3671" lengthAdjust="spacingAndGlyphs" textLength="264.2842" x="253.1539" y="1101.4764">Clovaアクセストークンをリクエストし、次の情報を送信する</text><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="11.3671" lengthAdjust="spacingAndGlyphs" textLength="180.9257" x="253.1539" y="1114.8638">- NAVERアカウントのアクセストークン</text><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="11.3671" lengthAdjust="spacingAndGlyphs" textLength="107.0398" x="253.1539" y="1128.2511">- クライアント認証情報</text><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="11.3671" lengthAdjust="spacingAndGlyphs" textLength="333.4338" x="260.732" y="1141.6385">(CLOVA_OAUTH_CLIENT_ID、CLOVA_OAUTH_CLIENT_SECRET)</text><line style="stroke: #000000; stroke-width: 0.9472551130247578;" x1="122.6695" x2="132.1421" y1="1200.9974" y2="1197.2084"/><line style="stroke: #000000; stroke-width: 0.9472551130247578;" x1="122.6695" x2="132.1421" y1="1200.9974" y2="1204.7864"/><line style="stroke: #000000; stroke-width: 0.9472551130247578; stroke-dasharray: 2.0,2.0;" x1="122.6695" x2="728.4392" y1="1200.9974" y2="1200.9974"/><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="11.3671" lengthAdjust="spacingAndGlyphs" textLength="152.5081" x="349.774" y="1187.2326">Clovaアクセストークンを送信する</text><line style="stroke: #000000; stroke-width: 0.9472551130247578;" x1="829.3219" x2="819.8493" y1="1246.5914" y2="1242.8024"/><line style="stroke: #000000; stroke-width: 0.9472551130247578;" x1="829.3219" x2="819.8493" y1="1246.5914" y2="1250.3804"/><line style="stroke: #000000; stroke-width: 0.9472551130247578;" x1="122.6695" x2="830.2691" y1="1246.5914" y2="1246.5914"/><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="11.3671" lengthAdjust="spacingAndGlyphs" textLength="248.1808" x="352.8525" y="1232.8266">Clovaアクセストークンを使ってCICとの接続を開始する</text><!--
@startuml
scale max 880 width
skinparam sequenceMessageAlign center
skinparam shadowing false
skinparam roundcorner 10
skinparam padding 10
skinparam defaultFontSize 12
skinparam defaultFontName "Malgun Gothic", sans-serif

skinparam note {
  BackgroundColor #9EA0CA
  BorderColor #ffffff
  FontColor #ffffff
  FontSize 14
  FontStyle bold
}

skinparam sequence {
  ArrowColor #000000
  ActorBorderColor #000000
  ActorFontStyle Bolder


  LifeLineBorderColor #000000
  LifeLineBackgroundColor transparent
  ParticipantBorderColor transparent
  ParticipantFontSize 14
  ParticipantFontColor #ffffff
  ParticipantFontStyle bold

  BoxBorderColor #000000
  BoxFontColor #ffffff
    BoxFontSize 14
    BoxFontStyle bold
}
hide footbox

skinparam activity {
  BackgroundColor #9EA0CA
  BarColor #ffffff
  BorderColor #ffffff
  DiamondBackgroundColor #05D686
  DiamondBorderColor #ffffff
  DiamondFontColor #ffffff
  DiamondFontSize 14
  DiamondFontStyle bold
  FontColor #ffffff 
  FontSize 14
  FontStyle bold
}

participant "GUIを提供しないクライアント" as device #9EA0CA
participant "GUIを提供するクライアント" as app #9EA0CA
participant "NAVER認可サーバー" as nauth #05D686
participant "Clova認可サーバー" as cauth #05D686
participant CIC as cic #05D686

activate app
  app -> app: NAVERログイン

  app ->> nauth: NAVERアカウント情報を送信する

  activate nauth
    nauth - ->> app: NAVERアカウントの\nアクセストークンを送信する
  deactivate nauth

  app ->> cauth: 認可コードをリクエストする(次の情報を送信する)\l- NAVERアカウントのアクセストークン\l- クライアント認証情報(CLOVA_OAUTH_CLIENT_ID)

activate cauth

deactivate app

alt "利用規約に同意しているか" == "同意している"
    cauth - ->> app: 認可コードを送信する(200 OK)
    activate app
    deactivate app
else 利用規約に同意しているか == "同意していない"
  cauth - ->> app: authorization、redirect_uriを送信する\l(451 Unavailable For Legal Reasons)
  activate app
    app -> app: 利用規約ページ(redirect_uri)にリダイレクトする
    app ->> cauth: 利用規約への同意結果を送信する(submit)
    cauth - ->> app: 結果を送信する(302 Found)\l- 成功：clova://agreement-success\l- 失敗：clova://agreement-failure
  deactivate cauth
end

alt "クライアントタイプ" == "GUIを提供するクライアント"
  app ->> cauth: Clovaアクセストークンをリクエストし、次の情報を送信する\l- NAVERアカウントのアクセストークン\l- クライアント認証情報\l  (CLOVA_OAUTH_CLIENT_ID、CLOVA_OAUTH_CLIENT_SECRET)

  activate cauth
    cauth - ->> app: Clovaアクセストークンを送信する
  deactivate cauth

  app ->> cic: Clovaアクセストークンを使ってCICとの接続を開始する
  activate cic
  deactivate cic

else "クライアントタイプ" == "GUIを提供しないクライアント"
  app ->> device: 認可コードを送信する
  deactivate app

  activate device
    device ->> cauth: Clovaアクセストークンをリクエストし、次の情報を送信する\l- NAVERアカウントのアクセストークン\l- クライアント認証情報\l  (CLOVA_OAUTH_CLIENT_ID、CLOVA_OAUTH_CLIENT_SECRET)

    activate cauth
        cauth - ->> device: Clovaアクセストークンを送信する
    deactivate cauth

    device ->> cic: Clovaアクセストークンを使ってCICとの接続を開始する

    activate cic
  end

@enduml

PlantUML version 1.2018.12(Sun Oct 21 19:15:15 KST 2018)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11+28
Operating System: Mac OS X
OS Version: 10.14.2
Default Encoding: US-ASCII
Language: en
Country: KR
--></g></svg>