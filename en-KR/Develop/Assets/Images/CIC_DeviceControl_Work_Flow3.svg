<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1328.998px" preserveAspectRatio="none" style="width:883px;height:1328px;" version="1.1" viewBox="0 0 883 1328" width="883.5992px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="43.3097" style="stroke: #FFFFFF; stroke-width: 0.8997955010224948;" width="8.998" x="85.4806" y="99.097"/><line style="stroke: #000000; stroke-width: 0.8997955010224948;" x1="85.4806" x2="85.4806" y1="99.097" y2="142.4067"/><line style="stroke: #000000; stroke-width: 0.8997955010224948;" x1="94.4785" x2="94.4785" y1="99.097" y2="142.4067"/><line style="stroke: #000000; stroke-width: 0.8997955010224948;" x1="85.4806" x2="94.4785" y1="99.097" y2="99.097"/><rect fill="#FFFFFF" height="1073.3822" style="stroke: #FFFFFF; stroke-width: 0.8997955010224948;" width="8.998" x="85.4806" y="185.5969"/><line style="stroke: #000000; stroke-width: 0.8997955010224948;" x1="85.4806" x2="85.4806" y1="185.5969" y2="1258.9791"/><line style="stroke: #000000; stroke-width: 0.8997955010224948;" x1="94.4785" x2="94.4785" y1="185.5969" y2="1258.9791"/><line style="stroke: #000000; stroke-width: 0.8997955010224948;" x1="85.4806" x2="94.4785" y1="1258.9791" y2="1258.9791"/><rect fill="#FFFFFF" height="111.0334" style="stroke: #000000; stroke-width: 0.8997955010224948;" width="8.998" x="255.5419" y="265.0179"/><rect fill="#FFFFFF" height="194.1731" style="stroke: #000000; stroke-width: 0.8997955010224948;" width="8.998" x="255.5419" y="537.1322"/><rect fill="#FFFFFF" height="385.0281" style="stroke: #000000; stroke-width: 0.8997955010224948;" width="8.998" x="255.5419" y="830.6413"/><rect fill="#FFFFFF" height="1080.5806" style="stroke: #000000; stroke-width: 0.8997955010224948;" width="8.998" x="583.0675" y="221.7082"/><rect fill="#FFFFFF" height="194.2926" rx="4.499" ry="4.499" style="stroke: #000000; stroke-width: 1.7995910020449897;" width="413.456" x="216.4008" y="438.5765"/><rect fill="#FFFFFF" height="88.5385" style="stroke: none; stroke-width: 0.8997955010224948;" width="413.456" x="216.4008" y="544.3306"/><rect fill="#FFFFFF" height="385.1476" rx="4.499" ry="4.499" style="stroke: #000000; stroke-width: 1.7995910020449897;" width="862.0041" x="11.6973" y="744.8022"/><rect fill="#FFFFFF" height="187.175" rx="4.499" ry="4.499" style="stroke: #000000; stroke-width: 1.7995910020449897;" width="648.3027" x="216.4008" y="936.4762"/><rect fill="#FFFFFF" height="45.1093" style="stroke: none; stroke-width: 0.8997955010224948;" width="648.3027" x="216.4008" y="1078.542"/><line style="stroke: #000000; stroke-width: 0.8997955010224948;" x1="89.9796" x2="89.9796" y1="90.0991" y2="142.4067"/><line style="stroke: #000000; stroke-width: 0.8997955010224948; stroke-dasharray: 1.0,4.0;" x1="89.9796" x2="89.9796" y1="142.4067" y2="185.5969"/><line style="stroke: #000000; stroke-width: 0.8997955010224948;" x1="89.9796" x2="89.9796" y1="185.5969" y2="1318.4851"/><line style="stroke: #000000; stroke-width: 0.8997955010224948;" x1="259.591" x2="259.591" y1="90.0991" y2="142.4067"/><line style="stroke: #000000; stroke-width: 0.8997955010224948; stroke-dasharray: 1.0,4.0;" x1="259.591" x2="259.591" y1="142.4067" y2="185.5969"/><line style="stroke: #000000; stroke-width: 0.8997955010224948;" x1="259.591" x2="259.591" y1="185.5969" y2="1318.4851"/><line style="stroke: #000000; stroke-width: 0.8997955010224948;" x1="587.5665" x2="587.5665" y1="90.0991" y2="142.4067"/><line style="stroke: #000000; stroke-width: 0.8997955010224948; stroke-dasharray: 1.0,4.0;" x1="587.5665" x2="587.5665" y1="142.4067" y2="185.5969"/><line style="stroke: #000000; stroke-width: 0.8997955010224948;" x1="587.5665" x2="587.5665" y1="185.5969" y2="1318.4851"/><line style="stroke: #000000; stroke-width: 0.8997955010224948;" x1="826.0123" x2="826.0123" y1="90.0991" y2="142.4067"/><line style="stroke: #000000; stroke-width: 0.8997955010224948; stroke-dasharray: 1.0,4.0;" x1="826.0123" x2="826.0123" y1="142.4067" y2="185.5969"/><line style="stroke: #000000; stroke-width: 0.8997955010224948;" x1="826.0123" x2="826.0123" y1="185.5969" y2="1318.4851"/><rect fill="#9EA0CA" height="45.4291" rx="4.499" ry="4.499" style="stroke: #FFFFFF; stroke-width: 1.3496932515337423;" width="138.5685" x="20.6953" y="43.7701"/><text fill="#FFFFFF" font-family="sans-serif" font-size="12.5971" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="107.9755" x="35.9918" y="71.2455">Bluetooth device</text><rect fill="#9EA0CA" height="45.4291" rx="4.499" ry="4.499" style="stroke: #FFFFFF; stroke-width: 1.3496932515337423;" width="69.2843" x="225.3988" y="43.7701"/><text fill="#FFFFFF" font-family="sans-serif" font-size="12.5971" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="38.6912" x="240.6953" y="71.2455">Client</text><rect fill="#05D686" height="45.4291" rx="4.499" ry="4.499" style="stroke: #FFFFFF; stroke-width: 1.3496932515337423;" width="66.5849" x="554.274" y="43.7701"/><text fill="#FFFFFF" font-family="sans-serif" font-size="12.5971" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="35.9918" x="569.5706" y="71.2455">Clova</text><text fill="#000000" font-family="sans-serif" font-size="10.7975" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="25.1943" x="810.7157" y="78.8235">User</text><ellipse cx="826.0123" cy="11.6973" fill="#FFFFFF" rx="7.1984" ry="7.1984" style="stroke: #000000; stroke-width: 1.7995910020449897;"/><path d="M826.0123,18.8957 L826.0123,43.1902 M814.3149,26.0941 L837.7096,26.0941 M826.0123,43.1902 L814.3149,56.6871 M826.0123,43.1902 L837.7096,56.6871 " fill="none" style="stroke: #000000; stroke-width: 1.7995910020449897;"/><rect fill="#FFFFFF" height="43.3097" style="stroke: #FFFFFF; stroke-width: 0.8997955010224948;" width="8.998" x="85.4806" y="99.097"/><line style="stroke: #000000; stroke-width: 0.8997955010224948;" x1="85.4806" x2="85.4806" y1="99.097" y2="142.4067"/><line style="stroke: #000000; stroke-width: 0.8997955010224948;" x1="94.4785" x2="94.4785" y1="99.097" y2="142.4067"/><line style="stroke: #000000; stroke-width: 0.8997955010224948;" x1="85.4806" x2="94.4785" y1="99.097" y2="99.097"/><rect fill="#FFFFFF" height="1073.3822" style="stroke: #FFFFFF; stroke-width: 0.8997955010224948;" width="8.998" x="85.4806" y="185.5969"/><line style="stroke: #000000; stroke-width: 0.8997955010224948;" x1="85.4806" x2="85.4806" y1="185.5969" y2="1258.9791"/><line style="stroke: #000000; stroke-width: 0.8997955010224948;" x1="94.4785" x2="94.4785" y1="185.5969" y2="1258.9791"/><line style="stroke: #000000; stroke-width: 0.8997955010224948;" x1="85.4806" x2="94.4785" y1="1258.9791" y2="1258.9791"/><rect fill="#FFFFFF" height="111.0334" style="stroke: #000000; stroke-width: 0.8997955010224948;" width="8.998" x="255.5419" y="265.0179"/><rect fill="#FFFFFF" height="194.1731" style="stroke: #000000; stroke-width: 0.8997955010224948;" width="8.998" x="255.5419" y="537.1322"/><rect fill="#FFFFFF" height="385.0281" style="stroke: #000000; stroke-width: 0.8997955010224948;" width="8.998" x="255.5419" y="830.6413"/><rect fill="#FFFFFF" height="1080.5806" style="stroke: #000000; stroke-width: 0.8997955010224948;" width="8.998" x="583.0675" y="221.7082"/><polygon fill="#000000" points="249.2434,131.6092,258.2413,135.2083,249.2434,138.8075,252.8425,135.2083" style="stroke: #000000; stroke-width: 0.8997955010224948;"/><line style="stroke: #000000; stroke-width: 0.8997955010224948;" x1="94.4785" x2="254.6421" y1="135.2083" y2="135.2083"/><text fill="#000000" font-family="sans-serif" font-size="10.7975" lengthAdjust="spacingAndGlyphs" textLength="57.5869" x="148.4663" y="122.1332">Advertising</text><line style="stroke: #000000; stroke-width: 0.8997955010224948;" x1="592.0654" x2="601.0634" y1="221.7082" y2="218.109"/><line style="stroke: #000000; stroke-width: 0.8997955010224948;" x1="592.0654" x2="601.0634" y1="221.7082" y2="225.3074"/><line style="stroke: #000000; stroke-width: 0.8997955010224948;" x1="592.0654" x2="825.1125" y1="221.7082" y2="221.7082"/><text fill="#000000" font-family="sans-serif" font-size="10.7975" lengthAdjust="spacingAndGlyphs" textLength="198.8548" x="609.6115" y="208.6331">Request a Bluetooth device connection</text><polygon fill="#000000" points="274.4376,261.4187,265.4397,265.0179,274.4376,268.6171,270.8384,265.0179" style="stroke: #000000; stroke-width: 0.8997955010224948;"/><line style="stroke: #000000; stroke-width: 0.8997955010224948;" x1="269.0389" x2="582.1677" y1="265.0179" y2="265.0179"/><text fill="#000000" font-family="sans-serif" font-size="10.7975" lengthAdjust="spacingAndGlyphs" textLength="219.5501" x="314.0286" y="251.9427">Send DeviceControl.BtStartPairing directive</text><line style="stroke: #000000; stroke-width: 0.8997955010224948;" x1="264.5399" x2="302.3313" y1="308.3276" y2="308.3276"/><line style="stroke: #000000; stroke-width: 0.8997955010224948;" x1="302.3313" x2="302.3313" y1="308.3276" y2="320.0249"/><line style="stroke: #000000; stroke-width: 0.8997955010224948;" x1="265.4397" x2="302.3313" y1="320.0249" y2="320.0249"/><polygon fill="#000000" points="274.4376,316.4257,265.4397,320.0249,274.4376,323.6241,270.8384,320.0249" style="stroke: #000000; stroke-width: 0.8997955010224948;"/><text fill="#000000" font-family="sans-serif" font-size="10.7975" lengthAdjust="spacingAndGlyphs" textLength="44.9898" x="279.8364" y="295.2524">Scanning</text><polygon fill="#000000" points="572.2699,372.4521,581.2679,376.0513,572.2699,379.6504,575.8691,376.0513" style="stroke: #000000; stroke-width: 0.8997955010224948;"/><line style="stroke: #000000; stroke-width: 0.8997955010224948; stroke-dasharray: 2.0,2.0;" x1="260.0409" x2="577.6687" y1="376.0513" y2="376.0513"/><text fill="#000000" font-family="sans-serif" font-size="10.7975" lengthAdjust="spacingAndGlyphs" textLength="214.1513" x="314.4785" y="350.2595">Send DeviceControl.ActionExecuted event</text><text fill="#000000" font-family="sans-serif" font-size="10.7975" lengthAdjust="spacingAndGlyphs" textLength="90.8793" x="376.1145" y="362.9761">(with DeviceState)</text><polygon fill="#9EA0CA" points="48.589,387.7486,299.6319,387.7486,308.6299,407.5441,299.6319,427.3396,48.589,427.3396,39.591,407.5441,48.589,387.7486" style="stroke: #FFFFFF; stroke-width: 0.8997955010224948;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="12.5971" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="163.7628" x="92.454" y="412.5246">Found a Bluetooth device</text><path d="M220.8998,438.5765 L289.2843,438.5765 L289.2843,461.9712 L280.2863,470.9691 L216.4008,470.9691 L216.4008,443.0755 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 0.8997955010224948;"/><rect fill="none" height="194.2926" rx="4.499" ry="4.499" style="stroke: #000000; stroke-width: 1.7995910020449897;" width="413.456" x="216.4008" y="438.5765"/><text fill="#000000" font-family="sans-serif" font-size="10.7975" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14.3967" x="238.8957" y="458.9133">alt</text><text fill="#000000" font-family="sans-serif" font-size="10.7975" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="187.1575" x="311.7791" y="459.8131">[Specific device assigned == Yes]</text><polygon fill="#000000" points="274.4376,533.533,265.4397,537.1322,274.4376,540.7314,270.8384,537.1322" style="stroke: #000000; stroke-width: 0.8997955010224948;"/><line style="stroke: #000000; stroke-width: 0.8997955010224948;" x1="269.0389" x2="582.1677" y1="537.1322" y2="537.1322"/><text fill="#000000" font-family="sans-serif" font-size="10.7975" lengthAdjust="spacingAndGlyphs" textLength="202.454" x="322.5767" y="511.3404">Send DeviceControl.BtConnect directive</text><text fill="#000000" font-family="sans-serif" font-size="10.7975" lengthAdjust="spacingAndGlyphs" textLength="72.8834" x="387.362" y="524.0571">(with payload)</text><line style="stroke: #000000; stroke-width: 0.8997955010224948; stroke-dasharray: 2.0,2.0;" x1="216.4008" x2="629.8569" y1="545.2304" y2="545.2304"/><text fill="#000000" font-family="sans-serif" font-size="10.7975" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="182.6585" x="229.8978" y="564.6674">[Specific device assigned == No]</text><polygon fill="#000000" points="274.4376,622.0715,265.4397,625.6707,274.4376,629.2699,270.8384,625.6707" style="stroke: #000000; stroke-width: 0.8997955010224948;"/><line style="stroke: #000000; stroke-width: 0.8997955010224948;" x1="269.0389" x2="582.1677" y1="625.6707" y2="625.6707"/><text fill="#000000" font-family="sans-serif" font-size="10.7975" lengthAdjust="spacingAndGlyphs" textLength="202.454" x="322.5767" y="599.8789">Send DeviceControl.BtConnect directive</text><text fill="#000000" font-family="sans-serif" font-size="10.7975" lengthAdjust="spacingAndGlyphs" textLength="89.0798" x="379.2638" y="612.5955">(without payload)</text><polygon fill="#000000" points="104.3763,671.6798,95.3783,675.2789,104.3763,678.8781,100.7771,675.2789" style="stroke: #000000; stroke-width: 0.8997955010224948;"/><line style="stroke: #000000; stroke-width: 0.8997955010224948;" x1="98.9775" x2="254.6421" y1="675.2789" y2="675.2789"/><text fill="#000000" font-family="sans-serif" font-size="10.7975" lengthAdjust="spacingAndGlyphs" textLength="100.7771" x="124.6217" y="662.2038">Request connection</text><polygon fill="#000000" points="572.2699,727.7061,581.2679,731.3053,572.2699,734.9045,575.8691,731.3053" style="stroke: #000000; stroke-width: 0.8997955010224948;"/><line style="stroke: #000000; stroke-width: 0.8997955010224948; stroke-dasharray: 2.0,2.0;" x1="260.0409" x2="577.6687" y1="731.3053" y2="731.3053"/><text fill="#000000" font-family="sans-serif" font-size="10.7975" lengthAdjust="spacingAndGlyphs" textLength="214.1513" x="314.4785" y="705.5135">Send DeviceControl.ActionExecuted event</text><text fill="#000000" font-family="sans-serif" font-size="10.7975" lengthAdjust="spacingAndGlyphs" textLength="90.8793" x="376.1145" y="718.2301">(with DeviceState)</text><path d="M16.1963,744.8022 L84.5808,744.8022 L84.5808,768.1969 L75.5828,777.1948 L11.6973,777.1948 L11.6973,749.3012 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 0.8997955010224948;"/><rect fill="none" height="385.1476" rx="4.499" ry="4.499" style="stroke: #000000; stroke-width: 1.7995910020449897;" width="862.0041" x="11.6973" y="744.8022"/><text fill="#000000" font-family="sans-serif" font-size="10.7975" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14.3967" x="34.1922" y="765.139">alt</text><text fill="#000000" font-family="sans-serif" font-size="10.7975" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="150.2658" x="107.0757" y="766.0388">[PIN code required == Yes]</text><line style="stroke: #000000; stroke-width: 0.8997955010224948;" x1="253.7423" x2="244.7444" y1="830.6413" y2="827.0421"/><line style="stroke: #000000; stroke-width: 0.8997955010224948;" x1="253.7423" x2="244.7444" y1="830.6413" y2="834.2405"/><line style="stroke: #000000; stroke-width: 0.8997955010224948;" x1="94.4785" x2="254.6421" y1="830.6413" y2="830.6413"/><text fill="#000000" font-family="sans-serif" font-size="10.7975" lengthAdjust="spacingAndGlyphs" textLength="91.7791" x="129.1207" y="817.5661">Request PIN code</text><polygon fill="#000000" points="572.2699,870.3518,581.2679,873.951,572.2699,877.5502,575.8691,873.951" style="stroke: #000000; stroke-width: 0.8997955010224948;"/><line style="stroke: #000000; stroke-width: 0.8997955010224948;" x1="264.5399" x2="577.6687" y1="873.951" y2="873.951"/><text fill="#000000" font-family="sans-serif" font-size="10.7975" lengthAdjust="spacingAndGlyphs" textLength="247.4438" x="300.0818" y="860.8758">Send DeviceControl.BtRequestForPINCode event</text><polygon fill="#05D686" points="569.5706,885.6483,843.1084,885.6483,852.1063,905.4438,843.1084,925.2393,569.5706,925.2393,560.5726,905.4438,569.5706,885.6483" style="stroke: #FFFFFF; stroke-width: 0.8997955010224948;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="12.5971" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="227.6483" x="592.5153" y="910.4243">Request PIN code and handle input</text><path d="M220.8998,936.4762 L289.2843,936.4762 L289.2843,959.8709 L280.2863,968.8689 L216.4008,968.8689 L216.4008,940.9752 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 0.8997955010224948;"/><rect fill="none" height="187.175" rx="4.499" ry="4.499" style="stroke: #000000; stroke-width: 1.7995910020449897;" width="648.3027" x="216.4008" y="936.4762"/><text fill="#000000" font-family="sans-serif" font-size="10.7975" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14.3967" x="238.8957" y="956.813">alt</text><text fill="#000000" font-family="sans-serif" font-size="10.7975" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="206.0532" x="311.7791" y="957.7128">[Decide to cancel code input == Yes]</text><polygon fill="#000000" points="572.2699,1018.7161,581.2679,1022.3153,572.2699,1025.9145,575.8691,1022.3153" style="stroke: #000000; stroke-width: 0.8997955010224948;"/><line style="stroke: #000000; stroke-width: 0.8997955010224948;" x1="264.5399" x2="577.6687" y1="1022.3153" y2="1022.3153"/><text fill="#000000" font-family="sans-serif" font-size="10.7975" lengthAdjust="spacingAndGlyphs" textLength="278.9366" x="284.3354" y="1009.2402">Send DeviceControl.BtRequestToCancelPINCode event</text><polygon fill="#05D686" points="565.9714,1034.0127,846.7076,1034.0127,855.7055,1053.8082,846.7076,1073.6037,565.9714,1073.6037,556.9734,1053.8082,565.9714,1034.0127" style="stroke: #FFFFFF; stroke-width: 0.8997955010224948;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="12.5971" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="259.1411" x="576.7689" y="1058.7887">Handle cancellation of PIN code request</text><line style="stroke: #000000; stroke-width: 0.8997955010224948; stroke-dasharray: 2.0,2.0;" x1="216.4008" x2="864.7035" y1="1079.4418" y2="1079.4418"/><polygon fill="#000000" points="274.4376,1112.8537,265.4397,1116.4529,274.4376,1120.0521,270.8384,1116.4529" style="stroke: #000000; stroke-width: 0.8997955010224948;"/><line style="stroke: #000000; stroke-width: 0.8997955010224948;" x1="269.0389" x2="582.1677" y1="1116.4529" y2="1116.4529"/><text fill="#000000" font-family="sans-serif" font-size="10.7975" lengthAdjust="spacingAndGlyphs" textLength="258.2413" x="294.683" y="1103.3777">Send DeviceControl.BtConnectByPINCode directive</text><polygon fill="#000000" points="104.3763,1168.7605,95.3783,1172.3597,104.3763,1175.9589,100.7771,1172.3597" style="stroke: #000000; stroke-width: 0.8997955010224948;"/><line style="stroke: #000000; stroke-width: 0.8997955010224948;" x1="98.9775" x2="254.6421" y1="1172.3597" y2="1172.3597"/><text fill="#000000" font-family="sans-serif" font-size="10.7975" lengthAdjust="spacingAndGlyphs" textLength="121.4724" x="114.274" y="1159.2846">Connect using PIN code</text><polygon fill="#000000" points="572.2699,1212.0702,581.2679,1215.6694,572.2699,1219.2686,575.8691,1215.6694" style="stroke: #000000; stroke-width: 0.8997955010224948;"/><line style="stroke: #000000; stroke-width: 0.8997955010224948;" x1="260.0409" x2="577.6687" y1="1215.6694" y2="1215.6694"/><text fill="#000000" font-family="sans-serif" font-size="10.7975" lengthAdjust="spacingAndGlyphs" textLength="214.1513" x="314.4785" y="1202.5943">Send DeviceControl.ActionExecuted event</text><line style="stroke: #000000; stroke-width: 0.8997955010224948;" x1="258.2413" x2="249.2434" y1="1258.9791" y2="1255.3799"/><line style="stroke: #000000; stroke-width: 0.8997955010224948;" x1="258.2413" x2="249.2434" y1="1258.9791" y2="1262.5783"/><line style="stroke: #000000; stroke-width: 0.8997955010224948; stroke-dasharray: 2.0,2.0;" x1="89.9796" x2="259.1411" y1="1258.9791" y2="1258.9791"/><text fill="#000000" font-family="sans-serif" font-size="10.7975" lengthAdjust="spacingAndGlyphs" textLength="89.0798" x="130.4703" y="1245.9039">Connection result</text><polygon fill="#000000" points="815.2147,1298.6896,824.2127,1302.2888,815.2147,1305.888,818.8139,1302.2888" style="stroke: #000000; stroke-width: 0.8997955010224948;"/><line style="stroke: #000000; stroke-width: 0.8997955010224948;" x1="587.5665" x2="820.6135" y1="1302.2888" y2="1302.2888"/><text fill="#000000" font-family="sans-serif" font-size="10.7975" lengthAdjust="spacingAndGlyphs" textLength="134.0695" x="639.7546" y="1289.2136">Notify of connection result</text><!--
@startuml
scale max 880 width
skinparam sequenceMessageAlign center
skinparam shadowing false
skinparam roundcorner 10
skinparam padding 10
skinparam defaultFontSize 12
skinparam sequence {
	ArrowColor #000000
	ActorBorderColor #000000
	ActorFontStyle Bolder

	LifeLineBorderColor #000000
	LifeLineBackgroundColor transparent
	ParticipantBorderColor transparent
	ParticipantFontSize 14
	ParticipantFontColor #ffffff
	ParticipantFontStyle bold

	BoxBorderColor #000000
	BoxFontColor #ffffff
    BoxFontSize 14
    BoxFontStyle bold
}
skinparam note {
	BackgroundColor #9EA0CA
	BorderColor #ffffff
	FontColor #ffffff
	FontSize 14
	FontStyle bold
}
hide footbox

participant "Bluetooth device" as device #9EA0CA
participant Client as client #9EA0CA
participant "Clova" as clova #05D686
actor User as user #9EA0
activate device
device -> client: Advertising
...
user ->> clova : Request a Bluetooth device connection
activate clova
  clova -> client : Send DeviceControl.BtStartPairing directive

activate client
  client -> client : Scanning
  client - -> clova : Send DeviceControl.ActionExecuted event\n(with DeviceState)
  hnote over client, device : Found a Bluetooth device
deactivate client

 alt Specific device assigned == Yes
	clova -> client : Send DeviceControl.BtConnect directive\n(with payload)

	activate client
 else Specific device assigned == No
    clova -> client : Send DeviceControl.BtConnect directive\n(without payload)
end

  client -> device : Request connection
  client - -> clova : Send DeviceControl.ActionExecuted event\n(with DeviceState)

	deactivate client
  alt PIN code required == Yes
	device ->> client : Request PIN code

	activate client
	client -> clova : Send DeviceControl.BtRequestForPINCode event
    hnote over clova, user #05D686 : Request PIN code and handle input

    alt Decide to cancel code input == Yes
		client -> clova : Send DeviceControl.BtRequestToCancelPINCode event
		hnote over clova, user #05D686 : Handle cancellation of PIN code request
    else
 		clova -> client : Send DeviceControl.BtConnectByPINCode directive
	end
  end
    client -> device : Connect using PIN code
    client -> clova : Send DeviceControl.ActionExecuted event

	deactivate client
	device - ->> client : Connection result
 deactivate device

  clova -> user : Notify of connection result

deactivate clova

@enduml

PlantUML version 1.2018.12(Sun Oct 21 19:15:15 KST 2018)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11+28
Operating System: Mac OS X
OS Version: 10.14.2
Default Encoding: US-ASCII
Language: en
Country: KR
--></g></svg>