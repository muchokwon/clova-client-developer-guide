<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="699.4309px" preserveAspectRatio="none" style="width:873px;height:699px;" version="1.1" viewBox="0 0 873 699" width="873.4099px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="35.264" style="stroke: #000000; stroke-width: 0.8786819770344483;" width="8.7868" x="61.9471" y="56.6647"/><rect fill="#FFFFFF" height="67.7752" style="stroke: #000000; stroke-width: 0.8786819770344483;" width="8.7868" x="61.9471" y="613.7422"/><rect fill="#FFFFFF" height="94.2524" style="stroke: #FFFFFF; stroke-width: 0.8786819770344483;" width="8.7868" x="263.1653" y="184.5404"/><line style="stroke: #000000; stroke-width: 0.8786819770344483;" x1="263.1653" x2="263.1653" y1="184.5404" y2="278.7927"/><line style="stroke: #000000; stroke-width: 0.8786819770344483;" x1="271.9521" x2="271.9521" y1="184.5404" y2="278.7927"/><line style="stroke: #000000; stroke-width: 0.8786819770344483;" x1="263.1653" x2="271.9521" y1="184.5404" y2="184.5404"/><rect fill="#FFFFFF" height="140.2939" style="stroke: #FFFFFF; stroke-width: 0.8786819770344483;" width="8.7868" x="263.1653" y="333.3877"/><line style="stroke: #000000; stroke-width: 0.8786819770344483;" x1="263.1653" x2="263.1653" y1="333.3877" y2="473.6817"/><line style="stroke: #000000; stroke-width: 0.8786819770344483;" x1="271.9521" x2="271.9521" y1="333.3877" y2="473.6817"/><line style="stroke: #000000; stroke-width: 0.8786819770344483;" x1="263.1653" x2="271.9521" y1="473.6817" y2="473.6817"/><rect fill="#FFFFFF" height="39.5407" style="stroke: #FFFFFF; stroke-width: 0.8786819770344483;" width="8.7868" x="395.8462" y="239.2521"/><line style="stroke: #000000; stroke-width: 0.8786819770344483;" x1="395.8462" x2="395.8462" y1="239.2521" y2="278.7927"/><line style="stroke: #000000; stroke-width: 0.8786819770344483;" x1="404.6331" x2="404.6331" y1="239.2521" y2="278.7927"/><line style="stroke: #000000; stroke-width: 0.8786819770344483;" x1="395.8462" x2="404.6331" y1="239.2521" y2="239.2521"/><rect fill="#FFFFFF" height="85.5823" style="stroke: #FFFFFF; stroke-width: 0.8786819770344483;" width="8.7868" x="395.8462" y="333.3877"/><line style="stroke: #000000; stroke-width: 0.8786819770344483;" x1="395.8462" x2="395.8462" y1="333.3877" y2="418.97"/><line style="stroke: #000000; stroke-width: 0.8786819770344483;" x1="404.6331" x2="404.6331" y1="333.3877" y2="418.97"/><line style="stroke: #000000; stroke-width: 0.8786819770344483;" x1="395.8462" x2="404.6331" y1="418.97" y2="418.97"/><rect fill="#FFFFFF" height="173.6838" style="stroke: #000000; stroke-width: 0.8786819770344483;" width="8.7868" x="731.5027" y="91.9287"/><rect fill="#FFFFFF" height="242.221" style="stroke: #000000; stroke-width: 0.8786819770344483;" width="8.7868" x="731.5027" y="418.97"/><rect fill="#FFFFFF" height="167.5331" rx="4.3934" ry="4.3934" style="stroke: #000000; stroke-width: 1.7573639540688966;" width="573.7793" x="196.8248" y="105.1089"/><rect fill="#FFFFFF" height="141.1726" rx="4.3934" ry="4.3934" style="stroke: #000000; stroke-width: 1.7573639540688966;" width="573.7793" x="196.8248" y="339.5385"/><rect fill="#FFFFFF" height="127.759" rx="4.3934" ry="4.3934" style="stroke: #000000; stroke-width: 1.7573639540688966;" width="759.1812" x="11.4229" y="546.729"/><line style="stroke: #000000; stroke-width: 0.8786819770344483;" x1="65.9011" x2="65.9011" y1="47.8779" y2="278.7927"/><line style="stroke: #000000; stroke-width: 0.8786819770344483; stroke-dasharray: 1.0,4.0;" x1="65.9011" x2="65.9011" y1="278.7927" y2="333.3877"/><line style="stroke: #000000; stroke-width: 0.8786819770344483;" x1="65.9011" x2="65.9011" y1="333.3877" y2="689.4255"/><line style="stroke: #000000; stroke-width: 0.8786819770344483;" x1="267.1193" x2="267.1193" y1="47.8779" y2="278.7927"/><line style="stroke: #000000; stroke-width: 0.8786819770344483; stroke-dasharray: 1.0,4.0;" x1="267.1193" x2="267.1193" y1="278.7927" y2="333.3877"/><line style="stroke: #000000; stroke-width: 0.8786819770344483;" x1="267.1193" x2="267.1193" y1="333.3877" y2="689.4255"/><line style="stroke: #000000; stroke-width: 0.8786819770344483;" x1="399.8003" x2="399.8003" y1="47.8779" y2="278.7927"/><line style="stroke: #000000; stroke-width: 0.8786819770344483; stroke-dasharray: 1.0,4.0;" x1="399.8003" x2="399.8003" y1="278.7927" y2="333.3877"/><line style="stroke: #000000; stroke-width: 0.8786819770344483;" x1="399.8003" x2="399.8003" y1="333.3877" y2="689.4255"/><line style="stroke: #000000; stroke-width: 0.8786819770344483;" x1="735.4568" x2="735.4568" y1="47.8779" y2="278.7927"/><line style="stroke: #000000; stroke-width: 0.8786819770344483; stroke-dasharray: 1.0,4.0;" x1="735.4568" x2="735.4568" y1="278.7927" y2="333.3877"/><line style="stroke: #000000; stroke-width: 0.8786819770344483;" x1="735.4568" x2="735.4568" y1="333.3877" y2="689.4255"/><rect fill="#9EA0CA" height="44.3631" rx="4.3934" ry="4.3934" style="stroke: #FFFFFF; stroke-width: 1.3180229655516724;" width="92.2616" x="20.2097" y="2.636"/><text fill="#FFFFFF" font-family="sans-serif" font-size="12.3015" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="62.3864" x="35.1473" y="29.4667">Clova app</text><rect fill="#9EA0CA" height="44.3631" rx="4.3934" ry="4.3934" style="stroke: #FFFFFF; stroke-width: 1.3180229655516724;" width="123.8942" x="205.6116" y="2.636"/><text fill="#FFFFFF" font-family="sans-serif" font-size="12.3015" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="94.019" x="220.5492" y="29.4667">Client device 1</text><rect fill="#9EA0CA" height="44.3631" rx="4.3934" ry="4.3934" style="stroke: #FFFFFF; stroke-width: 1.3180229655516724;" width="123.8942" x="338.2926" y="2.636"/><text fill="#FFFFFF" font-family="sans-serif" font-size="12.3015" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="94.019" x="353.2302" y="29.4667">Client device 2</text><rect fill="#05D686" height="44.3631" rx="4.3934" ry="4.3934" style="stroke: #FFFFFF; stroke-width: 1.3180229655516724;" width="51.8422" x="709.975" y="2.636"/><text fill="#FFFFFF" font-family="sans-serif" font-size="12.3015" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="21.967" x="724.9126" y="29.4667">CIC</text><rect fill="#FFFFFF" height="35.264" style="stroke: #000000; stroke-width: 0.8786819770344483;" width="8.7868" x="61.9471" y="56.6647"/><rect fill="#FFFFFF" height="67.7752" style="stroke: #000000; stroke-width: 0.8786819770344483;" width="8.7868" x="61.9471" y="613.7422"/><rect fill="#FFFFFF" height="94.2524" style="stroke: #FFFFFF; stroke-width: 0.8786819770344483;" width="8.7868" x="263.1653" y="184.5404"/><line style="stroke: #000000; stroke-width: 0.8786819770344483;" x1="263.1653" x2="263.1653" y1="184.5404" y2="278.7927"/><line style="stroke: #000000; stroke-width: 0.8786819770344483;" x1="271.9521" x2="271.9521" y1="184.5404" y2="278.7927"/><line style="stroke: #000000; stroke-width: 0.8786819770344483;" x1="263.1653" x2="271.9521" y1="184.5404" y2="184.5404"/><rect fill="#FFFFFF" height="140.2939" style="stroke: #FFFFFF; stroke-width: 0.8786819770344483;" width="8.7868" x="263.1653" y="333.3877"/><line style="stroke: #000000; stroke-width: 0.8786819770344483;" x1="263.1653" x2="263.1653" y1="333.3877" y2="473.6817"/><line style="stroke: #000000; stroke-width: 0.8786819770344483;" x1="271.9521" x2="271.9521" y1="333.3877" y2="473.6817"/><line style="stroke: #000000; stroke-width: 0.8786819770344483;" x1="263.1653" x2="271.9521" y1="473.6817" y2="473.6817"/><rect fill="#FFFFFF" height="39.5407" style="stroke: #FFFFFF; stroke-width: 0.8786819770344483;" width="8.7868" x="395.8462" y="239.2521"/><line style="stroke: #000000; stroke-width: 0.8786819770344483;" x1="395.8462" x2="395.8462" y1="239.2521" y2="278.7927"/><line style="stroke: #000000; stroke-width: 0.8786819770344483;" x1="404.6331" x2="404.6331" y1="239.2521" y2="278.7927"/><line style="stroke: #000000; stroke-width: 0.8786819770344483;" x1="395.8462" x2="404.6331" y1="239.2521" y2="239.2521"/><rect fill="#FFFFFF" height="85.5823" style="stroke: #FFFFFF; stroke-width: 0.8786819770344483;" width="8.7868" x="395.8462" y="333.3877"/><line style="stroke: #000000; stroke-width: 0.8786819770344483;" x1="395.8462" x2="395.8462" y1="333.3877" y2="418.97"/><line style="stroke: #000000; stroke-width: 0.8786819770344483;" x1="404.6331" x2="404.6331" y1="333.3877" y2="418.97"/><line style="stroke: #000000; stroke-width: 0.8786819770344483;" x1="395.8462" x2="404.6331" y1="418.97" y2="418.97"/><rect fill="#FFFFFF" height="173.6838" style="stroke: #000000; stroke-width: 0.8786819770344483;" width="8.7868" x="731.5027" y="91.9287"/><rect fill="#FFFFFF" height="242.221" style="stroke: #000000; stroke-width: 0.8786819770344483;" width="8.7868" x="731.5027" y="418.97"/><line style="stroke: #000000; stroke-width: 0.8786819770344483;" x1="729.7454" x2="720.9586" y1="91.9287" y2="88.4139"/><line style="stroke: #000000; stroke-width: 0.8786819770344483;" x1="729.7454" x2="720.9586" y1="91.9287" y2="95.4434"/><line style="stroke: #000000; stroke-width: 0.8786819770344483;" x1="66.3405" x2="730.6241" y1="91.9287" y2="91.9287"/><text fill="#000000" font-family="sans-serif" font-size="10.5442" lengthAdjust="spacingAndGlyphs" textLength="166.9496" x="315.4468" y="79.1603">Request playback state of clients</text><path d="M201.2182,105.1089 L365.5317,105.1089 L365.5317,127.9546 L356.7449,136.7415 L196.8248,136.7415 L196.8248,109.5023 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 0.8786819770344483;"/><rect fill="none" height="167.5331" rx="4.3934" ry="4.3934" style="stroke: #000000; stroke-width: 1.7573639540688966;" width="573.7793" x="196.8248" y="105.1089"/><text fill="#000000" font-family="sans-serif" font-size="10.5442" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="111.5926" x="218.7918" y="124.9685">Request state report</text><line style="stroke: #000000; stroke-width: 0.8786819770344483;" x1="271.9521" x2="280.7389" y1="184.5404" y2="181.0256"/><line style="stroke: #000000; stroke-width: 0.8786819770344483;" x1="271.9521" x2="280.7389" y1="184.5404" y2="188.0551"/><line style="stroke: #000000; stroke-width: 0.8786819770344483;" x1="271.9521" x2="730.6241" y1="184.5404" y2="184.5404"/><text fill="#000000" font-family="sans-serif" font-size="10.5442" lengthAdjust="spacingAndGlyphs" textLength="292.6011" x="355.4269" y="159.3538">Forward AudioPlayer.ExpectReportPlaybackState directive</text><text fill="#000000" font-family="sans-serif" font-size="10.5442" lengthAdjust="spacingAndGlyphs" textLength="90.5042" x="456.4753" y="171.772">(via downchannel)</text><line style="stroke: #000000; stroke-width: 0.8786819770344483;" x1="404.6331" x2="413.4199" y1="239.2521" y2="235.7373"/><line style="stroke: #000000; stroke-width: 0.8786819770344483;" x1="404.6331" x2="413.4199" y1="239.2521" y2="242.7668"/><line style="stroke: #000000; stroke-width: 0.8786819770344483;" x1="404.6331" x2="730.6241" y1="239.2521" y2="239.2521"/><text fill="#000000" font-family="sans-serif" font-size="10.5442" lengthAdjust="spacingAndGlyphs" textLength="292.6011" x="421.7673" y="214.0655">Forward AudioPlayer.ExpectReportPlaybackState directive</text><text fill="#000000" font-family="sans-serif" font-size="10.5442" lengthAdjust="spacingAndGlyphs" textLength="90.5042" x="522.8158" y="226.4837">(via downchannel)</text><text fill="#000000" font-family="sans-serif" font-size="10.5442" lengthAdjust="spacingAndGlyphs" textLength="214.3984" x="293.9191" y="310.0752">After collecting playback state from clients</text><path d="M201.2182,339.5385 L320.7189,339.5385 L320.7189,362.3842 L311.9321,371.1711 L196.8248,371.1711 L196.8248,343.9319 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 0.8786819770344483;"/><rect fill="none" height="141.1726" rx="4.3934" ry="4.3934" style="stroke: #000000; stroke-width: 1.7573639540688966;" width="573.7793" x="196.8248" y="339.5385"/><text fill="#000000" font-family="sans-serif" font-size="10.5442" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="66.7798" x="218.7918" y="359.3981">Report state</text><line style="stroke: #000000; stroke-width: 0.8786819770344483;" x1="729.7454" x2="720.9586" y1="418.97" y2="415.4553"/><line style="stroke: #000000; stroke-width: 0.8786819770344483;" x1="729.7454" x2="720.9586" y1="418.97" y2="422.4847"/><line style="stroke: #000000; stroke-width: 0.8786819770344483;" x1="400.2396" x2="730.6241" y1="418.97" y2="418.97"/><text fill="#000000" font-family="sans-serif" font-size="10.5442" lengthAdjust="spacingAndGlyphs" textLength="225.8213" x="452.9606" y="393.7834">Send AudioPlayer.ReportPlaybackState event</text><text fill="#000000" font-family="sans-serif" font-size="10.5442" lengthAdjust="spacingAndGlyphs" textLength="133.5597" x="499.0914" y="406.2016">(Reporting playback state)</text><line style="stroke: #000000; stroke-width: 0.8786819770344483;" x1="729.7454" x2="720.9586" y1="473.6817" y2="470.1669"/><line style="stroke: #000000; stroke-width: 0.8786819770344483;" x1="729.7454" x2="720.9586" y1="473.6817" y2="477.1964"/><line style="stroke: #000000; stroke-width: 0.8786819770344483;" x1="267.5587" x2="730.6241" y1="473.6817" y2="473.6817"/><text fill="#000000" font-family="sans-serif" font-size="10.5442" lengthAdjust="spacingAndGlyphs" textLength="225.8213" x="386.6201" y="448.4951">Send AudioPlayer.ReportPlaybackState event</text><text fill="#000000" font-family="sans-serif" font-size="10.5442" lengthAdjust="spacingAndGlyphs" textLength="133.5597" x="432.7509" y="460.9133">(Reporting playback state)</text><line style="stroke: #000000; stroke-width: 0.8786819770344483;" x1="740.2896" x2="777.1942" y1="522.1259" y2="522.1259"/><line style="stroke: #000000; stroke-width: 0.8786819770344483;" x1="777.1942" x2="777.1942" y1="522.1259" y2="533.5487"/><line style="stroke: #000000; stroke-width: 0.8786819770344483;" x1="741.1682" x2="777.1942" y1="533.5487" y2="533.5487"/><polygon fill="#000000" points="749.9551,530.034,741.1682,533.5487,749.9551,537.0635,746.4403,533.5487" style="stroke: #000000; stroke-width: 0.8786819770344483;"/><text fill="#000000" font-family="sans-serif" font-size="10.5442" lengthAdjust="spacingAndGlyphs" textLength="108.0779" x="755.2272" y="509.3575">Refine collected state</text><path d="M15.8163,546.729 L165.1922,546.729 L165.1922,569.5747 L156.4054,578.3615 L11.4229,578.3615 L11.4229,551.1224 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 0.8786819770344483;"/><rect fill="none" height="127.759" rx="4.3934" ry="4.3934" style="stroke: #000000; stroke-width: 1.7573639540688966;" width="759.1812" x="11.4229" y="546.729"/><text fill="#000000" font-family="sans-serif" font-size="10.5442" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="96.655" x="33.3899" y="566.5886">Synchronize state</text><line style="stroke: #000000; stroke-width: 0.8786819770344483;" x1="70.7339" x2="79.5207" y1="613.7422" y2="610.2275"/><line style="stroke: #000000; stroke-width: 0.8786819770344483;" x1="70.7339" x2="79.5207" y1="613.7422" y2="617.2569"/><line style="stroke: #000000; stroke-width: 0.8786819770344483;" x1="70.7339" x2="730.6241" y1="613.7422" y2="613.7422"/><text fill="#000000" font-family="sans-serif" font-size="10.5442" lengthAdjust="spacingAndGlyphs" textLength="105.4418" x="348.3974" y="600.9739">Share playback state</text><line style="stroke: #000000; stroke-width: 0.8786819770344483;" x1="70.7339" x2="107.6385" y1="660.429" y2="660.429"/><line style="stroke: #000000; stroke-width: 0.8786819770344483;" x1="107.6385" x2="107.6385" y1="660.429" y2="671.8519"/><line style="stroke: #000000; stroke-width: 0.8786819770344483;" x1="66.3405" x2="107.6385" y1="671.8519" y2="671.8519"/><polygon fill="#000000" points="75.1273,668.3372,66.3405,671.8519,75.1273,675.3666,71.6126,671.8519" style="stroke: #000000; stroke-width: 0.8786819770344483;"/><text fill="#000000" font-family="sans-serif" font-size="10.5442" lengthAdjust="spacingAndGlyphs" textLength="162.5562" x="85.6715" y="647.6607">Update playback state of clients</text><!--
@startuml
scale max 880 width
skinparam sequenceMessageAlign center
skinparam shadowing false
skinparam roundcorner 10
skinparam padding 10
skinparam defaultFontSize 12
skinparam sequence {
	ArrowColor #000000
	ActorBorderColor #000000
	ActorFontStyle Bolder

	LifeLineBorderColor #000000
	LifeLineBackgroundColor transparent
	ParticipantBorderColor transparent
	ParticipantFontSize 14
	ParticipantFontColor #ffffff
	ParticipantFontStyle bold

	BoxBorderColor #000000
	BoxFontColor #ffffff
    BoxFontSize 14
    BoxFontStyle bold
}
skinparam note {
	BackgroundColor #9EA0CA
	BorderColor #ffffff
	FontColor #ffffff
	FontSize 14
	FontStyle bold
}
hide footbox

participant "Clova app" as ca #9EA0CA
participant "Client device 1" as cli1 #9EA0CA
participant "Client device 2" as cli2 #9EA0CA
participant CIC as cic #05D686

activate ca
  ca ->> cic : Request playback state of clients
deactivate ca

group Request state report

  activate cic

    cic ->> cli1 : Forward AudioPlayer.ExpectReportPlaybackState directive\n(via downchannel)
    activate cli1

    cic ->> cli2 : Forward AudioPlayer.ExpectReportPlaybackState directive\n(via downchannel)
    activate cli2

  deactivate cic

end

...After collecting playback state from clients...

group Report state

    cli2 ->> cic : Send AudioPlayer.ReportPlaybackState event\n(Reporting playback state)
    deactivate cli2
  activate cic

    cli1 ->> cic : Send AudioPlayer.ReportPlaybackState event\n(Reporting playback state)
    deactivate cli1

end

    cic -> cic : Refine collected state

group Synchronize state

    cic ->> ca : Share playback state
    activate ca

    ca -> ca : Update playback state of clients

  deactivate cic

end

@enduml

PlantUML version 1.2018.12(Sun Oct 21 19:15:15 KST 2018)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11+28
Operating System: Mac OS X
OS Version: 10.14.2
Default Encoding: US-ASCII
Language: en
Country: KR
--></g></svg>