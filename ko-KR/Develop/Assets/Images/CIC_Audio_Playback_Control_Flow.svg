<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="968.704px" preserveAspectRatio="none" style="width:884px;height:968px;" version="1.1" viewBox="0 0 884 968" width="884.224px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="47.3862" style="stroke: #000000; stroke-width: 0.9386666666666666;" width="9.3867" x="283.008" y="576.1103"/><rect fill="#FFFFFF" height="62.8577" style="stroke: #000000; stroke-width: 0.9386666666666666;" width="9.3867" x="387.2" y="223.7895"/><rect fill="#FFFFFF" height="62.8577" style="stroke: #000000; stroke-width: 0.9386666666666666;" width="9.3867" x="387.2" y="429.7443"/><rect fill="#FFFFFF" height="62.8577" style="stroke: #000000; stroke-width: 0.9386666666666666;" width="9.3867" x="387.2" y="686.3542"/><rect fill="#FFFFFF" height="122.4465" style="stroke: #000000; stroke-width: 0.9386666666666666;" width="9.3867" x="387.2" y="818.6402"/><rect fill="#FFFFFF" height="531.993" style="stroke: #000000; stroke-width: 0.9386666666666666;" width="9.3867" x="742.9547" y="286.6472"/><rect fill="#FFFFFF" height="8.448" style="stroke: #000000; stroke-width: 0.9386666666666666;" width="9.3867" x="742.9547" y="941.0867"/><rect fill="#FFFFFF" height="644.567" rx="4.6933" ry="4.6933" style="stroke: #000000; stroke-width: 1.8773333333333333;" width="861.2267" x="12.2027" y="112.1542"/><rect fill="#FFFFFF" height="146.366" style="stroke: none; stroke-width: 0.9386666666666666;" width="861.2267" x="12.2027" y="353.7453"/><rect fill="#FFFFFF" height="256.6098" style="stroke: none; stroke-width: 0.9386666666666666;" width="861.2267" x="12.2027" y="500.1113"/><line style="stroke: #000000; stroke-width: 0.9386666666666666; stroke-dasharray: 5.0,5.0;" x1="51.6267" x2="51.6267" y1="96.1968" y2="957.9827"/><line style="stroke: #000000; stroke-width: 0.9386666666666666; stroke-dasharray: 5.0,5.0;" x1="287.232" x2="287.232" y1="96.1968" y2="957.9827"/><line style="stroke: #000000; stroke-width: 0.9386666666666666; stroke-dasharray: 5.0,5.0;" x1="391.424" x2="391.424" y1="96.1968" y2="957.9827"/><line style="stroke: #000000; stroke-width: 0.9386666666666666; stroke-dasharray: 5.0,5.0;" x1="747.648" x2="747.648" y1="96.1968" y2="957.9827"/><text fill="#000000" font-family="&quot;Noto Sans CJK KR&quot;, sans-serif" font-size="11.264" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="36.608" x="30.976" y="84.3352">사용자</text><ellipse cx="52.096" cy="12.2027" fill="#9EA0CA" rx="7.5093" ry="7.5093" style="stroke: #000000; stroke-width: 1.8773333333333333;"/><path d="M52.096,19.712 L52.096,45.056 M39.8933,27.2213 L64.2987,27.2213 M52.096,45.056 L39.8933,59.136 M52.096,45.056 L64.2987,59.136 " fill="none" style="stroke: #000000; stroke-width: 1.8773333333333333;"/><rect fill="#9EA0CA" height="49.9648" rx="4.6933" ry="4.6933" style="stroke: #FFFFFF; stroke-width: 1.408;" width="87.296" x="244.0533" y="45.2934"/><text fill="#FFFFFF" font-family="&quot;Noto Sans CJK KR&quot;, sans-serif" font-size="13.1413" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="55.3813" x="260.0107" y="76.4133">Clova 앱</text><rect fill="#9EA0CA" height="49.9648" rx="4.6933" ry="4.6933" style="stroke: #FFFFFF; stroke-width: 1.408;" width="102.3147" x="340.736" y="45.2934"/><text fill="#FFFFFF" font-family="&quot;Noto Sans CJK KR&quot;, sans-serif" font-size="13.1413" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="70.4" x="356.6933" y="76.4133">클라이언트</text><rect fill="#05D686" height="49.9648" rx="4.6933" ry="4.6933" style="stroke: #FFFFFF; stroke-width: 1.408;" width="54.4427" x="720.4267" y="45.2934"/><text fill="#FFFFFF" font-family="&quot;Noto Sans CJK KR&quot;, sans-serif" font-size="13.1413" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="22.528" x="736.384" y="76.4133">CIC</text><rect fill="#FFFFFF" height="47.3862" style="stroke: #000000; stroke-width: 0.9386666666666666;" width="9.3867" x="283.008" y="576.1103"/><rect fill="#FFFFFF" height="62.8577" style="stroke: #000000; stroke-width: 0.9386666666666666;" width="9.3867" x="387.2" y="223.7895"/><rect fill="#FFFFFF" height="62.8577" style="stroke: #000000; stroke-width: 0.9386666666666666;" width="9.3867" x="387.2" y="429.7443"/><rect fill="#FFFFFF" height="62.8577" style="stroke: #000000; stroke-width: 0.9386666666666666;" width="9.3867" x="387.2" y="686.3542"/><rect fill="#FFFFFF" height="122.4465" style="stroke: #000000; stroke-width: 0.9386666666666666;" width="9.3867" x="387.2" y="818.6402"/><rect fill="#FFFFFF" height="531.993" style="stroke: #000000; stroke-width: 0.9386666666666666;" width="9.3867" x="742.9547" y="286.6472"/><rect fill="#FFFFFF" height="8.448" style="stroke: #000000; stroke-width: 0.9386666666666666;" width="9.3867" x="742.9547" y="941.0867"/><path d="M16.896,112.1542 L86.3573,112.1542 L86.3573,138.4368 L76.9707,147.8235 L12.2027,147.8235 L12.2027,116.8475 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 0.9386666666666666;"/><rect fill="none" height="644.567" rx="4.6933" ry="4.6933" style="stroke: #000000; stroke-width: 1.8773333333333333;" width="861.2267" x="12.2027" y="112.1542"/><text fill="#000000" font-family="&quot;Noto Sans CJK KR&quot;, sans-serif" font-size="11.264" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="13.1413" x="35.6693" y="135.476">alt</text><text fill="#000000" font-family="&quot;Noto Sans CJK KR&quot;, sans-serif" font-size="11.264" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="153.0027" x="109.824" y="136.4147">[발화를 통한 음원 재생 제어]</text><line style="stroke: #000000; stroke-width: 0.9386666666666666;" x1="385.3227" x2="375.936" y1="223.7895" y2="220.0348"/><line style="stroke: #000000; stroke-width: 0.9386666666666666;" x1="385.3227" x2="375.936" y1="223.7895" y2="227.5442"/><line style="stroke: #000000; stroke-width: 0.9386666666666666;" x1="52.096" x2="386.2613" y1="223.7895" y2="223.7895"/><text fill="#000000" font-family="&quot;Noto Sans CJK KR&quot;, sans-serif" font-size="11.264" lengthAdjust="spacingAndGlyphs" textLength="101.376" x="168.96" y="194.579">음악 재생 제어 요청:</text><text fill="#000000" font-family="&quot;Noto Sans CJK KR&quot;, sans-serif" font-size="11.264" lengthAdjust="spacingAndGlyphs" textLength="106.0693" x="166.6133" y="210.0505">"음악 일지 정지해줘."</text><line style="stroke: #000000; stroke-width: 0.9386666666666666;" x1="741.0773" x2="731.6907" y1="286.6472" y2="282.8925"/><line style="stroke: #000000; stroke-width: 0.9386666666666666;" x1="741.0773" x2="731.6907" y1="286.6472" y2="290.4018"/><line style="stroke: #000000; stroke-width: 0.9386666666666666;" x1="391.8933" x2="742.016" y1="286.6472" y2="286.6472"/><text fill="#000000" font-family="&quot;Noto Sans CJK KR&quot;, sans-serif" font-size="11.264" lengthAdjust="spacingAndGlyphs" textLength="84.48" x="525.184" y="257.4367">사용자 요청 전달</text><text fill="#000000" font-family="&quot;Noto Sans CJK KR&quot;, sans-serif" font-size="11.264" lengthAdjust="spacingAndGlyphs" textLength="235.6053" x="449.6213" y="272.9082">(SpeechRecognizer.Recognize 이벤트 메시지)</text><line style="stroke: #000000; stroke-width: 0.9386666666666666;" x1="752.3413" x2="791.7653" y1="334.0333" y2="334.0333"/><line style="stroke: #000000; stroke-width: 0.9386666666666666;" x1="791.7653" x2="791.7653" y1="334.0333" y2="346.236"/><line style="stroke: #000000; stroke-width: 0.9386666666666666;" x1="753.28" x2="791.7653" y1="346.236" y2="346.236"/><polygon fill="#000000" points="762.6667,342.4813,753.28,346.236,762.6667,349.9907,758.912,346.236" style="stroke: #000000; stroke-width: 0.9386666666666666;"/><text fill="#000000" font-family="&quot;Noto Sans CJK KR&quot;, sans-serif" font-size="11.264" lengthAdjust="spacingAndGlyphs" textLength="84.48" x="768.2987" y="320.2943">사용자 발화 분석</text><line style="stroke: #000000; stroke-width: 0.9386666666666666; stroke-dasharray: 2.0,2.0;" x1="12.2027" x2="873.4293" y1="354.684" y2="354.684"/><text fill="#000000" font-family="&quot;Noto Sans CJK KR&quot;, sans-serif" font-size="11.264" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="268.4587" x="26.2827" y="377.0672">[클라이언트 기기의 버튼을 이용한 음원 재생 제어]</text><line style="stroke: #000000; stroke-width: 0.9386666666666666;" x1="385.3227" x2="375.936" y1="429.7443" y2="425.9897"/><line style="stroke: #000000; stroke-width: 0.9386666666666666;" x1="385.3227" x2="375.936" y1="429.7443" y2="433.499"/><line style="stroke: #000000; stroke-width: 0.9386666666666666;" x1="52.096" x2="386.2613" y1="429.7443" y2="429.7443"/><text fill="#000000" font-family="&quot;Noto Sans CJK KR&quot;, sans-serif" font-size="11.264" lengthAdjust="spacingAndGlyphs" textLength="98.56" x="170.368" y="416.0053">일시 정지 버튼 누름</text><line style="stroke: #000000; stroke-width: 0.9386666666666666;" x1="741.0773" x2="731.6907" y1="492.602" y2="488.8473"/><line style="stroke: #000000; stroke-width: 0.9386666666666666;" x1="741.0773" x2="731.6907" y1="492.602" y2="496.3567"/><line style="stroke: #000000; stroke-width: 0.9386666666666666;" x1="391.8933" x2="742.016" y1="492.602" y2="492.602"/><text fill="#000000" font-family="&quot;Noto Sans CJK KR&quot;, sans-serif" font-size="11.264" lengthAdjust="spacingAndGlyphs" textLength="123.904" x="505.472" y="463.3915">일시 정지 명령 발생 보고</text><text fill="#000000" font-family="&quot;Noto Sans CJK KR&quot;, sans-serif" font-size="11.264" lengthAdjust="spacingAndGlyphs" textLength="305.0667" x="414.8907" y="478.863">(PlaybackController.PauseCommandIssued 이벤트 메시지)</text><line style="stroke: #000000; stroke-width: 0.9386666666666666; stroke-dasharray: 2.0,2.0;" x1="12.2027" x2="873.4293" y1="501.05" y2="501.05"/><text fill="#000000" font-family="&quot;Noto Sans CJK KR&quot;, sans-serif" font-size="11.264" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="224.3413" x="26.2827" y="523.4332">[Clova 앱을 통해 원격으로 음원 재생 제어]</text><line style="stroke: #000000; stroke-width: 0.9386666666666666;" x1="281.1307" x2="271.744" y1="576.1103" y2="572.3557"/><line style="stroke: #000000; stroke-width: 0.9386666666666666;" x1="281.1307" x2="271.744" y1="576.1103" y2="579.865"/><line style="stroke: #000000; stroke-width: 0.9386666666666666;" x1="52.096" x2="282.0693" y1="576.1103" y2="576.1103"/><text fill="#000000" font-family="&quot;Noto Sans CJK KR&quot;, sans-serif" font-size="11.264" lengthAdjust="spacingAndGlyphs" textLength="194.304" x="70.4" y="562.3713">클라이언트의 음원 재생 일시 정지 요청</text><line style="stroke: #000000; stroke-width: 0.9386666666666666;" x1="741.0773" x2="731.6907" y1="623.4965" y2="619.7418"/><line style="stroke: #000000; stroke-width: 0.9386666666666666;" x1="741.0773" x2="731.6907" y1="623.4965" y2="627.2512"/><line style="stroke: #000000; stroke-width: 0.9386666666666666;" x1="287.7013" x2="742.016" y1="623.4965" y2="623.4965"/><text fill="#000000" font-family="&quot;Noto Sans CJK KR&quot;, sans-serif" font-size="11.264" lengthAdjust="spacingAndGlyphs" textLength="219.648" x="405.504" y="609.7575">클라이언트의 음원 재생 일시 정지 요청 전달</text><line style="stroke: #000000; stroke-width: 0.9386666666666666;" x1="396.5867" x2="405.9733" y1="686.3542" y2="682.5995"/><line style="stroke: #000000; stroke-width: 0.9386666666666666;" x1="396.5867" x2="405.9733" y1="686.3542" y2="690.1088"/><line style="stroke: #000000; stroke-width: 0.9386666666666666;" x1="396.5867" x2="742.016" y1="686.3542" y2="686.3542"/><text fill="#000000" font-family="&quot;Noto Sans CJK KR&quot;, sans-serif" font-size="11.264" lengthAdjust="spacingAndGlyphs" textLength="278.784" x="430.3787" y="657.1437">사용자가 일시 정지 버튼을 누른 것처럼 동작하도록 요청</text><text fill="#000000" font-family="&quot;Noto Sans CJK KR&quot;, sans-serif" font-size="11.264" lengthAdjust="spacingAndGlyphs" textLength="291.9253" x="423.808" y="672.6152">(PlaybackController.ExpectPauseCommand 지시 메시지)</text><line style="stroke: #000000; stroke-width: 0.9386666666666666;" x1="741.0773" x2="731.6907" y1="749.2118" y2="745.4572"/><line style="stroke: #000000; stroke-width: 0.9386666666666666;" x1="741.0773" x2="731.6907" y1="749.2118" y2="752.9665"/><line style="stroke: #000000; stroke-width: 0.9386666666666666;" x1="391.8933" x2="742.016" y1="749.2118" y2="749.2118"/><text fill="#000000" font-family="&quot;Noto Sans CJK KR&quot;, sans-serif" font-size="11.264" lengthAdjust="spacingAndGlyphs" textLength="123.904" x="505.472" y="720.0013">일시 정지 명령 발생 보고</text><text fill="#000000" font-family="&quot;Noto Sans CJK KR&quot;, sans-serif" font-size="11.264" lengthAdjust="spacingAndGlyphs" textLength="305.0667" x="414.8907" y="735.4728">(PlaybackController.PauseCommandIssued 이벤트 메시지)</text><line style="stroke: #000000; stroke-width: 0.9386666666666666;" x1="396.5867" x2="405.9733" y1="818.6402" y2="814.8855"/><line style="stroke: #000000; stroke-width: 0.9386666666666666;" x1="396.5867" x2="405.9733" y1="818.6402" y2="822.3948"/><line style="stroke: #000000; stroke-width: 0.9386666666666666; stroke-dasharray: 2.0,2.0;" x1="396.5867" x2="746.7093" y1="818.6402" y2="818.6402"/><text fill="#000000" font-family="&quot;Noto Sans CJK KR&quot;, sans-serif" font-size="11.264" lengthAdjust="spacingAndGlyphs" textLength="98.56" x="522.8373" y="789.4297">음원 재생 중지 지시</text><text fill="#000000" font-family="&quot;Noto Sans CJK KR&quot;, sans-serif" font-size="11.264" lengthAdjust="spacingAndGlyphs" textLength="202.752" x="470.7413" y="804.9012">(PlaybackController.Pause 지시 메시지)</text><line style="stroke: #000000; stroke-width: 0.9386666666666666;" x1="396.5867" x2="436.0107" y1="866.0263" y2="866.0263"/><line style="stroke: #000000; stroke-width: 0.9386666666666666;" x1="436.0107" x2="436.0107" y1="866.0263" y2="878.229"/><line style="stroke: #000000; stroke-width: 0.9386666666666666;" x1="397.5253" x2="436.0107" y1="878.229" y2="878.229"/><polygon fill="#000000" points="406.912,874.4743,397.5253,878.229,406.912,881.9837,403.1573,878.229" style="stroke: #000000; stroke-width: 0.9386666666666666;"/><text fill="#000000" font-family="&quot;Noto Sans CJK KR&quot;, sans-serif" font-size="11.264" lengthAdjust="spacingAndGlyphs" textLength="98.56" x="412.544" y="852.2873">음원 재생 일시 정지</text><line style="stroke: #000000; stroke-width: 0.9386666666666666;" x1="741.0773" x2="731.6907" y1="941.0867" y2="937.332"/><line style="stroke: #000000; stroke-width: 0.9386666666666666;" x1="741.0773" x2="731.6907" y1="941.0867" y2="944.8413"/><line style="stroke: #000000; stroke-width: 0.9386666666666666;" x1="391.8933" x2="742.016" y1="941.0867" y2="941.0867"/><text fill="#000000" font-family="&quot;Noto Sans CJK KR&quot;, sans-serif" font-size="11.264" lengthAdjust="spacingAndGlyphs" textLength="123.904" x="505.472" y="911.8762">음원 재생 일시 정지 보고</text><text fill="#000000" font-family="&quot;Noto Sans CJK KR&quot;, sans-serif" font-size="11.264" lengthAdjust="spacingAndGlyphs" textLength="217.7707" x="458.5387" y="927.3477">(AudioPlayer.PlayResumed 이벤트 메시지)</text><!--
@startuml
scale max 880 width
skinparam sequenceMessageAlign center
skinparam shadowing false
skinparam roundcorner 10
skinparam padding 10
skinparam defaultFontSize 12
skinparam defaultFontName "Noto Sans CJK KR", sans-serif

skinparam note {
  BackgroundColor #9EA0CA
  BorderColor #ffffff
  FontColor #ffffff
  FontSize 14
  FontStyle bold
}

skinparam sequence {
  ArrowColor #000000
  ActorBorderColor #000000
  ActorFontStyle Bolder


  LifeLineBorderColor #000000
  LifeLineBackgroundColor transparent
  ParticipantBorderColor transparent
  ParticipantFontSize 14
  ParticipantFontColor #ffffff
  ParticipantFontStyle bold

  BoxBorderColor #000000
  BoxFontColor #ffffff
    BoxFontSize 14
    BoxFontStyle bold
}
hide footbox

skinparam activity {
  BackgroundColor #9EA0CA
  BarColor #ffffff
  BorderColor #ffffff
  DiamondBackgroundColor #05D686
  DiamondBorderColor #ffffff
  DiamondFontColor #ffffff
  DiamondFontSize 14
  DiamondFontStyle bold
  FontColor #ffffff 
  FontSize 14
  FontStyle bold
}

actor 사용자 as user
participant "Clova 앱" as app #9EA0CA
participant 클라이언트 as client #9EA0CA
participant CIC as cic #05D686

alt 발화를 통한 음원 재생 제어

  user ->> client : 음악 재생 제어 요청:\n"음악 일지 정지해줘."

  activate client
    
    client ->> cic : 사용자 요청 전달\n(SpeechRecognizer.Recognize 이벤트 메시지)
  
  deactivate client

  activate cic

    cic -> cic : 사용자 발화 분석  

else 클라이언트 기기의 버튼을 이용한 음원 재생 제어

  user ->> client : 일시 정지 버튼 누름

  activate client
    
    client ->> cic : 일시 정지 명령 발생 보고\n(PlaybackController.PauseCommandIssued 이벤트 메시지)
  
  deactivate client

else Clova 앱을 통해 원격으로 음원 재생 제어

  user ->> app : 클라이언트의 음원 재생 일시 정지 요청

  activate app

    app ->> cic : 클라이언트의 음원 재생 일시 정지 요청 전달
    
  deactivate app

    cic ->> client : 사용자가 일시 정지 버튼을 누른 것처럼 동작하도록 요청\n(PlaybackController.ExpectPauseCommand 지시 메시지)

  activate client

    client ->> cic : 일시 정지 명령 발생 보고\n(PlaybackController.PauseCommandIssued 이벤트 메시지)

  deactivate client

end


activate cic

  cic - ->> client : 음원 재생 중지 지시\n(PlaybackController.Pause 지시 메시지)

deactivate cic

activate client

  client -> client : 음원 재생 일시 정지
  client ->> cic : 음원 재생 일시 정지 보고\n(AudioPlayer.PlayResumed 이벤트 메시지)

deactivate client

activate cic


@enduml

PlantUML version 1.2018.12(Sun Oct 21 19:15:15 KST 2018)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_191-b12
Operating System: Windows 10
OS Version: 10.0
Default Encoding: MS949
Language: ko
Country: KR
--></g></svg>