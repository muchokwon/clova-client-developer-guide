<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1021px" preserveAspectRatio="none" style="width:835px;height:1021px;" version="1.1" viewBox="0 0 835 1021" width="835px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="30" style="stroke: #000000; stroke-width: 1.0;" width="10" x="779" y="244.4688"/><rect fill="#FFFFFF" height="157.375" style="stroke: #000000; stroke-width: 1.0;" width="10" x="779" y="451.9375"/><rect fill="#FFFFFF" height="248.6563" style="stroke: #000000; stroke-width: 1.0;" width="10" x="779" y="673.5"/><rect fill="#FFFFFF" height="222.6563" rx="5" ry="5" style="stroke: #000000; stroke-width: 2.0;" width="496" x="327" y="338.5625"/><rect fill="#FFFFFF" height="101.2813" style="stroke: none; stroke-width: 1.0;" width="496" x="327" y="459.9375"/><rect fill="#FFFFFF" height="121.375" rx="5" ry="5" style="stroke: #000000; stroke-width: 2.0;" width="496" x="327" y="688.5"/><rect fill="#FFFFFF" height="168.375" rx="5" ry="5" style="stroke: #000000; stroke-width: 2.0;" width="496" x="327" y="823.875"/><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="47" x2="47" y1="101.0938" y2="1009.25"/><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="399" x2="399" y1="101.0938" y2="1009.25"/><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="784" x2="784" y1="101.0938" y2="1009.25"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="52" x="18" y="88.457">ユーザー</text><ellipse cx="47" cy="13" fill="#9EA0CA" rx="8" ry="8" style="stroke: #000000; stroke-width: 2.0;"/><path d="M47,21 L47,48 M34,29 L60,29 M47,48 L34,63 M47,48 L60,63 " fill="none" style="stroke: #000000; stroke-width: 2.0;"/><rect fill="#9EA0CA" height="51.6094" rx="5" ry="5" style="stroke: #FFFFFF; stroke-width: 1.5;" width="124" x="337" y="48.4844"/><text fill="#FFFFFF" font-family="Noto Sans CJK KR" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="90" x="354" y="80.0176">クライアント</text><rect fill="#05D686" height="51.6094" rx="5" ry="5" style="stroke: #FFFFFF; stroke-width: 1.5;" width="58" x="755" y="48.4844"/><text fill="#FFFFFF" font-family="Noto Sans CJK KR" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="24" x="772" y="80.0176">CIC</text><rect fill="#FFFFFF" height="30" style="stroke: #000000; stroke-width: 1.0;" width="10" x="779" y="244.4688"/><rect fill="#FFFFFF" height="157.375" style="stroke: #000000; stroke-width: 1.0;" width="10" x="779" y="451.9375"/><rect fill="#FFFFFF" height="248.6563" style="stroke: #000000; stroke-width: 1.0;" width="10" x="779" y="673.5"/><line style="stroke: #000000; stroke-width: 1.0;" x1="399" x2="441" y1="152.1875" y2="152.1875"/><line style="stroke: #000000; stroke-width: 1.0;" x1="441" x2="441" y1="152.1875" y2="165.1875"/><line style="stroke: #000000; stroke-width: 1.0;" x1="400" x2="441" y1="165.1875" y2="165.1875"/><polygon fill="#000000" points="410,161.1875,400,165.1875,410,169.1875,406,165.1875" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="120" x="416" y="137.5508">アラームが開始される</text><line style="stroke: #000000; stroke-width: 1.0;" x1="777" x2="767" y1="244.4688" y2="240.4688"/><line style="stroke: #000000; stroke-width: 1.0;" x1="777" x2="767" y1="244.4688" y2="248.4688"/><line style="stroke: #000000; stroke-width: 1.0;" x1="399" x2="778" y1="244.4688" y2="244.4688"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="144" x="454" y="199.6445">アラームの開始を報告する</text><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="161" x="454" y="214.7383">(Alerts.AlertStartedイベント、</text><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="270" x="454" y="229.832">Alert.AlertsStateのactivateAlertsフィールドは必須)</text><line style="stroke: #000000; stroke-width: 1.0;" x1="397" x2="387" y1="323.5625" y2="319.5625"/><line style="stroke: #000000; stroke-width: 1.0;" x1="397" x2="387" y1="323.5625" y2="327.5625"/><line style="stroke: #000000; stroke-width: 1.0;" x1="47" x2="398" y1="323.5625" y2="323.5625"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="308" x="69" y="308.9258">アラームの停止をリクエストする(発話または物理ボタン)</text><path d="M332,338.5625 L406,338.5625 L406,365.5625 L396,375.5625 L327,375.5625 L327,343.5625 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="222.6563" rx="5" ry="5" style="stroke: #000000; stroke-width: 2.0;" width="496" x="327" y="338.5625"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="352" y="362.0195">alt</text><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="314" x="431" y="363.0195">[アラーム停止リクエストのタイプ == ユーザーの発話]</text><line style="stroke: #000000; stroke-width: 1.0;" x1="777" x2="767" y1="451.9375" y2="447.9375"/><line style="stroke: #000000; stroke-width: 1.0;" x1="777" x2="767" y1="451.9375" y2="455.9375"/><line style="stroke: #000000; stroke-width: 1.0;" x1="399" x2="778" y1="451.9375" y2="451.9375"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="192" x="493" y="422.207">アラーム停止リクエストを送信する</text><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="221" x="478.5" y="437.3008">(SpeechRecognizer.Recognizeイベント)</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="327" x2="823" y1="460.9375" y2="460.9375"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="288" x="342" y="483.3945">[アラーム停止リクエストのタイプ == 物理ボタン]</text><line style="stroke: #000000; stroke-width: 1.0;" x1="777" x2="767" y1="553.2188" y2="549.2188"/><line style="stroke: #000000; stroke-width: 1.0;" x1="777" x2="767" y1="553.2188" y2="557.2188"/><line style="stroke: #000000; stroke-width: 1.0;" x1="399" x2="778" y1="553.2188" y2="553.2188"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="192" x="493" y="523.4883">アラーム停止リクエストを送信する</text><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="186" x="496" y="538.582">(Alerts.RequestAlertStopイベント)</text><line style="stroke: #000000; stroke-width: 1.0;" x1="399" x2="409" y1="609.3125" y2="605.3125"/><line style="stroke: #000000; stroke-width: 1.0;" x1="399" x2="409" y1="609.3125" y2="613.3125"/><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="399" x2="783" y1="609.3125" y2="609.3125"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="227" x="478" y="594.6758">Alerts.StopAlertディレクティブを送信する</text><line style="stroke: #000000; stroke-width: 1.0;" x1="777" x2="767" y1="673.5" y2="669.5"/><line style="stroke: #000000; stroke-width: 1.0;" x1="777" x2="767" y1="673.5" y2="677.5"/><line style="stroke: #000000; stroke-width: 1.0;" x1="399" x2="778" y1="673.5" y2="673.5"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="168" x="505" y="643.7695">アラームの停止結果を報告する</text><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="160" x="509" y="658.8633">(Alerts.AlertStoppedイベント)</text><path d="M332,688.5 L410,688.5 L410,715.5 L400,725.5 L327,725.5 L327,693.5 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="121.375" rx="5" ry="5" style="stroke: #000000; stroke-width: 2.0;" width="496" x="327" y="688.5"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="352" y="711.957">opt</text><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="171" x="435" y="712.957">[アラームの繰り返し == はい]</text><line style="stroke: #000000; stroke-width: 1.0;" x1="399" x2="409" y1="801.875" y2="797.875"/><line style="stroke: #000000; stroke-width: 1.0;" x1="399" x2="409" y1="801.875" y2="805.875"/><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="399" x2="778" y1="801.875" y2="801.875"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="192" x="493" y="772.1445">アラームの次の繰り返しを送信する</text><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="168" x="505" y="787.2383">(Alerts.SetAlertディレクティブ)</text><path d="M332,823.875 L410,823.875 L410,850.875 L400,860.875 L327,860.875 L327,828.875 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="168.375" rx="5" ry="5" style="stroke: #000000; stroke-width: 2.0;" width="496" x="327" y="823.875"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="352" y="847.332">opt</text><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="236" x="435" y="848.332">[アラームタイプ == アクションタイマー]</text><line style="stroke: #000000; stroke-width: 1.0;" x1="399" x2="409" y1="922.1563" y2="918.1563"/><line style="stroke: #000000; stroke-width: 1.0;" x1="399" x2="409" y1="922.1563" y2="926.1563"/><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="399" x2="783" y1="922.1563" y2="922.1563"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="336" x="423.5" y="907.5195">ユーザーが予約した動作を実行するディレクティブを送信する</text><line style="stroke: #000000; stroke-width: 1.0;" x1="399" x2="441" y1="971.25" y2="971.25"/><line style="stroke: #000000; stroke-width: 1.0;" x1="441" x2="441" y1="971.25" y2="984.25"/><line style="stroke: #000000; stroke-width: 1.0;" x1="400" x2="441" y1="984.25" y2="984.25"/><polygon fill="#000000" points="410,980.25,400,984.25,410,988.25,406,984.25" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="144" x="416" y="956.6133">予約された動作を実行する</text><!--
@startuml
scale max 880 width
skinparam sequenceMessageAlign center
skinparam shadowing false
skinparam roundcorner 10
skinparam padding 10
skinparam defaultFontSize 12
skinparam defaultFontName "Noto Sans CJK KR"

skinparam note {
  BackgroundColor #9EA0CA
  BorderColor #ffffff
  FontColor #ffffff
  FontSize 14
  FontStyle bold
}

skinparam sequence {
  ArrowColor #000000
  ActorBorderColor #000000
  ActorFontStyle Bolder


  LifeLineBorderColor #000000
  LifeLineBackgroundColor transparent
  ParticipantBorderColor transparent
  ParticipantFontSize 14
  ParticipantFontColor #ffffff
  ParticipantFontStyle bold

  BoxBorderColor #000000
  BoxFontColor #ffffff
    BoxFontSize 14
    BoxFontStyle bold
}
hide footbox

skinparam activity {
  BackgroundColor #9EA0CA
  BarColor #ffffff
  BorderColor #ffffff
  DiamondBackgroundColor #05D686
  DiamondBorderColor #ffffff
  DiamondFontColor #ffffff
  DiamondFontSize 14
  DiamondFontStyle bold
  FontColor #ffffff 
  FontSize 14
  FontStyle bold
}

actor ユーザー as user #9EA0CA
participant クライアント as client #9EA0CA
participant CIC as cic #05D686


client -> client : アラームが開始される
client ->> cic : アラームの開始を報告する\n(Alerts.AlertStartedイベント、\lAlert.AlertsStateのactivateAlertsフィールドは必須)

activate cic
deactivate cic

user ->> client : アラームの停止をリクエストする(発話または物理ボタン)

alt アラーム停止リクエストのタイプ == ユーザーの発話

  client ->> cic : アラーム停止リクエストを送信する\n(SpeechRecognizer.Recognizeイベント)

activate cic

else アラーム停止リクエストのタイプ == 物理ボタン

  client ->> cic : アラーム停止リクエストを送信する\n(Alerts.RequestAlertStopイベント)

end

cic - ->> client : Alerts.StopAlertディレクティブを送信する

deactivate cic

client ->> cic : アラームの停止結果を報告する\n(Alerts.AlertStoppedイベント)

activate cic

  opt アラームの繰り返し == はい

    cic - ->> client : アラームの次の繰り返しを送信する\n(Alerts.SetAlertディレクティブ)

  end

  opt アラームタイプ == アクションタイマー

    cic - ->> client : ユーザーが予約した動作を実行するディレクティブを送信する

deactivate cic
    client -> client : 予約された動作を実行する

  end

@enduml

PlantUML version 1.2019.09(Tue Aug 27 01:19:51 JST 2019)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_202-b08
Operating System: Windows 10
OS Version: 10.0
Default Encoding: MS932
Language: ja
Country: JP
--></g></svg>