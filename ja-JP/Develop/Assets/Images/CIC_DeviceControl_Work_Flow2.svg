<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="648.3371px" preserveAspectRatio="none" style="width:874px;height:648px;" version="1.1" viewBox="0 0 874 648" width="874.019px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="44.8074" style="stroke: #000000; stroke-width: 0.7974626189397372;" width="7.9746" x="61.8034" y="52.321"/><rect fill="#FFFFFF" height="62.2768" style="stroke: #000000; stroke-width: 0.7974626189397372;" width="7.9746" x="61.8034" y="569.5503"/><rect fill="#FFFFFF" height="63.1491" style="stroke: #FFFFFF; stroke-width: 0.7974626189397372;" width="7.9746" x="269.1436" y="183.4787"/><line style="stroke: #000000; stroke-width: 0.7974626189397372;" x1="269.1436" x2="269.1436" y1="183.4787" y2="246.6278"/><line style="stroke: #000000; stroke-width: 0.7974626189397372;" x1="277.1183" x2="277.1183" y1="183.4787" y2="246.6278"/><line style="stroke: #000000; stroke-width: 0.7974626189397372;" x1="269.1436" x2="277.1183" y1="183.4787" y2="183.4787"/><rect fill="#FFFFFF" height="131.1577" style="stroke: #FFFFFF; stroke-width: 0.7974626189397372;" width="7.9746" x="269.1436" y="296.9427"/><line style="stroke: #000000; stroke-width: 0.7974626189397372;" x1="269.1436" x2="269.1436" y1="296.9427" y2="428.1004"/><line style="stroke: #000000; stroke-width: 0.7974626189397372;" x1="277.1183" x2="277.1183" y1="296.9427" y2="428.1004"/><line style="stroke: #000000; stroke-width: 0.7974626189397372;" x1="269.1436" x2="277.1183" y1="428.1004" y2="428.1004"/><rect fill="#FFFFFF" height="11.9619" style="stroke: #FFFFFF; stroke-width: 0.7974626189397372;" width="7.9746" x="430.2311" y="234.6658"/><line style="stroke: #000000; stroke-width: 0.7974626189397372;" x1="430.2311" x2="430.2311" y1="234.6658" y2="246.6278"/><line style="stroke: #000000; stroke-width: 0.7974626189397372;" x1="438.2057" x2="438.2057" y1="234.6658" y2="246.6278"/><line style="stroke: #000000; stroke-width: 0.7974626189397372;" x1="430.2311" x2="438.2057" y1="234.6658" y2="234.6658"/><rect fill="#FFFFFF" height="79.9705" style="stroke: #FFFFFF; stroke-width: 0.7974626189397372;" width="7.9746" x="430.2311" y="296.9427"/><line style="stroke: #000000; stroke-width: 0.7974626189397372;" x1="430.2311" x2="430.2311" y1="296.9427" y2="376.9132"/><line style="stroke: #000000; stroke-width: 0.7974626189397372;" x1="438.2057" x2="438.2057" y1="296.9427" y2="376.9132"/><line style="stroke: #000000; stroke-width: 0.7974626189397372;" x1="430.2311" x2="438.2057" y1="376.9132" y2="376.9132"/><rect fill="#FFFFFF" height="137.5374" style="stroke: #000000; stroke-width: 0.7974626189397372;" width="7.9746" x="728.4821" y="97.1285"/><rect fill="#FFFFFF" height="192.6371" style="stroke: #000000; stroke-width: 0.7974626189397372;" width="7.9746" x="728.4821" y="376.9132"/><rect fill="#FFFFFF" height="131.9551" rx="3.9873" ry="3.9873" style="stroke: #000000; stroke-width: 1.5949252378794745;" width="574.9705" x="188.5999" y="109.0904"/><rect fill="#FFFFFF" height="131.9551" rx="3.9873" ry="3.9873" style="stroke: #000000; stroke-width: 1.5949252378794745;" width="574.9705" x="188.5999" y="302.5249"/><rect fill="#FFFFFF" height="130.2855" rx="3.9873" ry="3.9873" style="stroke: #000000; stroke-width: 1.5949252378794745;" width="753.2034" x="10.367" y="495.162"/><line style="stroke: #000000; stroke-width: 0.7974626189397372;" x1="65.3919" x2="65.3919" y1="44.3464" y2="246.6278"/><line style="stroke: #000000; stroke-width: 0.7974626189397372; stroke-dasharray: 1.0,4.0;" x1="65.3919" x2="65.3919" y1="246.6278" y2="296.9427"/><line style="stroke: #000000; stroke-width: 0.7974626189397372;" x1="65.3919" x2="65.3919" y1="296.9427" y2="639.0043"/><line style="stroke: #000000; stroke-width: 0.7974626189397372;" x1="273.1309" x2="273.1309" y1="44.3464" y2="246.6278"/><line style="stroke: #000000; stroke-width: 0.7974626189397372; stroke-dasharray: 1.0,4.0;" x1="273.1309" x2="273.1309" y1="246.6278" y2="296.9427"/><line style="stroke: #000000; stroke-width: 0.7974626189397372;" x1="273.1309" x2="273.1309" y1="296.9427" y2="639.0043"/><line style="stroke: #000000; stroke-width: 0.7974626189397372;" x1="434.2184" x2="434.2184" y1="44.3464" y2="246.6278"/><line style="stroke: #000000; stroke-width: 0.7974626189397372; stroke-dasharray: 1.0,4.0;" x1="434.2184" x2="434.2184" y1="246.6278" y2="296.9427"/><line style="stroke: #000000; stroke-width: 0.7974626189397372;" x1="434.2184" x2="434.2184" y1="296.9427" y2="639.0043"/><line style="stroke: #000000; stroke-width: 0.7974626189397372;" x1="732.4694" x2="732.4694" y1="44.3464" y2="246.6278"/><line style="stroke: #000000; stroke-width: 0.7974626189397372; stroke-dasharray: 1.0,4.0;" x1="732.4694" x2="732.4694" y1="246.6278" y2="296.9427"/><line style="stroke: #000000; stroke-width: 0.7974626189397372;" x1="732.4694" x2="732.4694" y1="296.9427" y2="639.0043"/><rect fill="#9EA0CA" height="41.1565" rx="3.9873" ry="3.9873" style="stroke: #FFFFFF; stroke-width: 1.196193928409606;" width="94.8981" x="18.3416" y="2.3924"/><text fill="#FFFFFF" font-family="Noto Sans CJK JP" font-size="11.1645" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="67.7843" x="31.8985" y="27.5389">Clovaアプリ</text><rect fill="#9EA0CA" height="41.1565" rx="3.9873" ry="3.9873" style="stroke: #FFFFFF; stroke-width: 1.196193928409606;" width="153.1128" x="196.5745" y="2.3924"/><text fill="#FFFFFF" font-family="Noto Sans CJK JP" font-size="11.1645" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="125.9991" x="210.1314" y="27.5389">クライアントデバイス1</text><rect fill="#9EA0CA" height="41.1565" rx="3.9873" ry="3.9873" style="stroke: #FFFFFF; stroke-width: 1.196193928409606;" width="153.1128" x="357.662" y="2.3924"/><text fill="#FFFFFF" font-family="Noto Sans CJK JP" font-size="11.1645" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="125.9991" x="371.2188" y="27.5389">クライアントデバイス2</text><rect fill="#05D686" height="41.1565" rx="3.9873" ry="3.9873" style="stroke: #FFFFFF; stroke-width: 1.196193928409606;" width="46.2528" x="709.343" y="2.3924"/><text fill="#FFFFFF" font-family="Noto Sans CJK JP" font-size="11.1645" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19.1391" x="722.8999" y="27.5389">CIC</text><rect fill="#FFFFFF" height="44.8074" style="stroke: #000000; stroke-width: 0.7974626189397372;" width="7.9746" x="61.8034" y="52.321"/><rect fill="#FFFFFF" height="62.2768" style="stroke: #000000; stroke-width: 0.7974626189397372;" width="7.9746" x="61.8034" y="569.5503"/><rect fill="#FFFFFF" height="63.1491" style="stroke: #FFFFFF; stroke-width: 0.7974626189397372;" width="7.9746" x="269.1436" y="183.4787"/><line style="stroke: #000000; stroke-width: 0.7974626189397372;" x1="269.1436" x2="269.1436" y1="183.4787" y2="246.6278"/><line style="stroke: #000000; stroke-width: 0.7974626189397372;" x1="277.1183" x2="277.1183" y1="183.4787" y2="246.6278"/><line style="stroke: #000000; stroke-width: 0.7974626189397372;" x1="269.1436" x2="277.1183" y1="183.4787" y2="183.4787"/><rect fill="#FFFFFF" height="131.1577" style="stroke: #FFFFFF; stroke-width: 0.7974626189397372;" width="7.9746" x="269.1436" y="296.9427"/><line style="stroke: #000000; stroke-width: 0.7974626189397372;" x1="269.1436" x2="269.1436" y1="296.9427" y2="428.1004"/><line style="stroke: #000000; stroke-width: 0.7974626189397372;" x1="277.1183" x2="277.1183" y1="296.9427" y2="428.1004"/><line style="stroke: #000000; stroke-width: 0.7974626189397372;" x1="269.1436" x2="277.1183" y1="428.1004" y2="428.1004"/><rect fill="#FFFFFF" height="11.9619" style="stroke: #FFFFFF; stroke-width: 0.7974626189397372;" width="7.9746" x="430.2311" y="234.6658"/><line style="stroke: #000000; stroke-width: 0.7974626189397372;" x1="430.2311" x2="430.2311" y1="234.6658" y2="246.6278"/><line style="stroke: #000000; stroke-width: 0.7974626189397372;" x1="438.2057" x2="438.2057" y1="234.6658" y2="246.6278"/><line style="stroke: #000000; stroke-width: 0.7974626189397372;" x1="430.2311" x2="438.2057" y1="234.6658" y2="234.6658"/><rect fill="#FFFFFF" height="79.9705" style="stroke: #FFFFFF; stroke-width: 0.7974626189397372;" width="7.9746" x="430.2311" y="296.9427"/><line style="stroke: #000000; stroke-width: 0.7974626189397372;" x1="430.2311" x2="430.2311" y1="296.9427" y2="376.9132"/><line style="stroke: #000000; stroke-width: 0.7974626189397372;" x1="438.2057" x2="438.2057" y1="296.9427" y2="376.9132"/><line style="stroke: #000000; stroke-width: 0.7974626189397372;" x1="430.2311" x2="438.2057" y1="376.9132" y2="376.9132"/><rect fill="#FFFFFF" height="137.5374" style="stroke: #000000; stroke-width: 0.7974626189397372;" width="7.9746" x="728.4821" y="97.1285"/><rect fill="#FFFFFF" height="192.6371" style="stroke: #000000; stroke-width: 0.7974626189397372;" width="7.9746" x="728.4821" y="376.9132"/><line style="stroke: #000000; stroke-width: 0.7974626189397372;" x1="726.8872" x2="718.9126" y1="97.1285" y2="93.9386"/><line style="stroke: #000000; stroke-width: 0.7974626189397372;" x1="726.8872" x2="718.9126" y1="97.1285" y2="100.3183"/><line style="stroke: #000000; stroke-width: 0.7974626189397372;" x1="65.7907" x2="727.6846" y1="97.1285" y2="97.1285"/><text fill="#000000" font-family="Noto Sans CJK JP" font-size="9.5696" lengthAdjust="spacingAndGlyphs" textLength="278.3145" x="257.9792" y="73.4195">DeviceControl.RequestStateSynchronizationイベントを送信する</text><text fill="#000000" font-family="Noto Sans CJK JP" font-size="9.5696" lengthAdjust="spacingAndGlyphs" textLength="236.0489" x="279.1119" y="85.4562">(クライアントデバイスの状態の更新をリクエストする)</text><path d="M192.5872,109.0904 L333.7381,109.0904 L333.7381,130.6219 L325.7635,138.5965 L188.5999,138.5965 L188.5999,113.0777 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 0.7974626189397372;"/><rect fill="none" height="131.9551" rx="3.9873" ry="3.9873" style="stroke: #000000; stroke-width: 1.5949252378794745;" width="574.9705" x="188.5999" y="109.0904"/><text fill="#000000" font-family="Noto Sans CJK JP" font-size="9.5696" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="93.3031" x="208.5365" y="127.7965">Request state report</text><line style="stroke: #000000; stroke-width: 0.7974626189397372;" x1="277.1183" x2="285.0929" y1="183.4787" y2="180.2889"/><line style="stroke: #000000; stroke-width: 0.7974626189397372;" x1="277.1183" x2="285.0929" y1="183.4787" y2="186.6686"/><line style="stroke: #000000; stroke-width: 0.7974626189397372;" x1="277.1183" x2="727.6846" y1="183.4787" y2="183.4787"/><text fill="#000000" font-family="Noto Sans CJK JP" font-size="9.5696" lengthAdjust="spacingAndGlyphs" textLength="259.1754" x="373.2125" y="159.7698">DeviceControl.ExpectReportStateディレクティブを送信する</text><text fill="#000000" font-family="Noto Sans CJK JP" font-size="9.5696" lengthAdjust="spacingAndGlyphs" textLength="121.2143" x="442.193" y="171.8065">(ダウンチャネルを使用する)</text><line style="stroke: #000000; stroke-width: 0.7974626189397372;" x1="438.2057" x2="446.1803" y1="234.6658" y2="231.476"/><line style="stroke: #000000; stroke-width: 0.7974626189397372;" x1="438.2057" x2="446.1803" y1="234.6658" y2="237.8557"/><line style="stroke: #000000; stroke-width: 0.7974626189397372;" x1="438.2057" x2="731.672" y1="234.6658" y2="234.6658"/><text fill="#000000" font-family="Noto Sans CJK JP" font-size="9.5696" lengthAdjust="spacingAndGlyphs" textLength="259.1754" x="455.7499" y="210.9569">DeviceControl.ExpectReportStateディレクティブを送信する</text><text fill="#000000" font-family="Noto Sans CJK JP" font-size="9.5696" lengthAdjust="spacingAndGlyphs" textLength="121.2143" x="524.7304" y="222.9936">(ダウンチャネルを使用する)</text><text fill="#000000" font-family="Noto Sans CJK JP" font-size="9.5696" lengthAdjust="spacingAndGlyphs" textLength="143.5433" x="327.3584" y="275.7009">クライアントの状態を収集した後</text><path d="M192.5872,302.5249 L296.2574,302.5249 L296.2574,324.0564 L288.2827,332.031 L188.5999,332.031 L188.5999,306.5122 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 0.7974626189397372;"/><rect fill="none" height="131.9551" rx="3.9873" ry="3.9873" style="stroke: #000000; stroke-width: 1.5949252378794745;" width="574.9705" x="188.5999" y="302.5249"/><text fill="#000000" font-family="Noto Sans CJK JP" font-size="9.5696" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="55.8224" x="208.5365" y="321.231">Report state</text><line style="stroke: #000000; stroke-width: 0.7974626189397372;" x1="726.8872" x2="718.9126" y1="376.9132" y2="373.7234"/><line style="stroke: #000000; stroke-width: 0.7974626189397372;" x1="726.8872" x2="718.9126" y1="376.9132" y2="380.1031"/><line style="stroke: #000000; stroke-width: 0.7974626189397372;" x1="434.2184" x2="727.6846" y1="376.9132" y2="376.9132"/><text fill="#000000" font-family="Noto Sans CJK JP" font-size="9.5696" lengthAdjust="spacingAndGlyphs" textLength="201.758" x="480.4712" y="353.2043">DeviceControl.ReportStateイベントを送信する</text><text fill="#000000" font-family="Noto Sans CJK JP" font-size="9.5696" lengthAdjust="spacingAndGlyphs" textLength="121.2143" x="520.7431" y="365.241">(デバイスの状態を報告する)</text><line style="stroke: #000000; stroke-width: 0.7974626189397372;" x1="726.8872" x2="718.9126" y1="428.1004" y2="424.9105"/><line style="stroke: #000000; stroke-width: 0.7974626189397372;" x1="726.8872" x2="718.9126" y1="428.1004" y2="431.2902"/><line style="stroke: #000000; stroke-width: 0.7974626189397372;" x1="273.1309" x2="727.6846" y1="428.1004" y2="428.1004"/><text fill="#000000" font-family="Noto Sans CJK JP" font-size="9.5696" lengthAdjust="spacingAndGlyphs" textLength="201.758" x="399.9275" y="404.3914">DeviceControl.ReportStateイベントを送信する</text><text fill="#000000" font-family="Noto Sans CJK JP" font-size="9.5696" lengthAdjust="spacingAndGlyphs" textLength="121.2143" x="440.1994" y="416.4281">(デバイスの状態を報告する)</text><line style="stroke: #000000; stroke-width: 0.7974626189397372;" x1="736.4567" x2="769.9502" y1="472.833" y2="472.833"/><line style="stroke: #000000; stroke-width: 0.7974626189397372;" x1="769.9502" x2="769.9502" y1="472.833" y2="483.2"/><line style="stroke: #000000; stroke-width: 0.7974626189397372;" x1="737.2542" x2="769.9502" y1="483.2" y2="483.2"/><polygon fill="#000000" points="745.2288,480.0102,737.2542,483.2,745.2288,486.3899,742.039,483.2" style="stroke: #000000; stroke-width: 0.7974626189397372;"/><text fill="#000000" font-family="Noto Sans CJK JP" font-size="9.5696" lengthAdjust="spacingAndGlyphs" textLength="114.8346" x="750.0136" y="461.1608">収集された状態を整理する</text><path d="M14.3543,495.162 L143.5433,495.162 L143.5433,516.6935 L135.5686,524.6681 L10.367,524.6681 L10.367,499.1493 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 0.7974626189397372;"/><rect fill="none" height="130.2855" rx="3.9873" ry="3.9873" style="stroke: #000000; stroke-width: 1.5949252378794745;" width="753.2034" x="10.367" y="495.162"/><text fill="#000000" font-family="Noto Sans CJK JP" font-size="9.5696" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="81.3412" x="30.3036" y="513.8681">Synchronize state</text><line style="stroke: #000000; stroke-width: 0.7974626189397372;" x1="69.778" x2="77.7526" y1="569.5503" y2="566.3604"/><line style="stroke: #000000; stroke-width: 0.7974626189397372;" x1="69.778" x2="77.7526" y1="569.5503" y2="572.7401"/><line style="stroke: #000000; stroke-width: 0.7974626189397372;" x1="69.778" x2="731.672" y1="569.5503" y2="569.5503"/><text fill="#000000" font-family="Noto Sans CJK JP" font-size="9.5696" lengthAdjust="spacingAndGlyphs" textLength="253.5931" x="274.3271" y="545.8414">DeviceControl.SynchronizeStateディレクティブを送信する</text><text fill="#000000" font-family="Noto Sans CJK JP" font-size="9.5696" lengthAdjust="spacingAndGlyphs" textLength="121.2143" x="340.5165" y="557.8781">(ダウンチャネルを使用する)</text><line style="stroke: #000000; stroke-width: 0.7974626189397372;" x1="69.778" x2="103.2714" y1="608.7007" y2="608.7007"/><line style="stroke: #000000; stroke-width: 0.7974626189397372;" x1="103.2714" x2="103.2714" y1="608.7007" y2="619.0677"/><line style="stroke: #000000; stroke-width: 0.7974626189397372;" x1="70.5754" x2="103.2714" y1="619.0677" y2="619.0677"/><polygon fill="#000000" points="78.5501,615.8779,70.5754,619.0677,78.5501,622.2576,75.3602,619.0677" style="stroke: #000000; stroke-width: 0.7974626189397372;"/><text fill="#000000" font-family="Noto Sans CJK JP" font-size="9.5696" lengthAdjust="spacingAndGlyphs" textLength="172.2519" x="83.3348" y="597.0285">クライアントデバイスの状態を更新する</text><!--
@startuml
scale max 880 width
skinparam sequenceMessageAlign center
skinparam shadowing false
skinparam roundcorner 10
skinparam padding 10
skinparam defaultFontSize 12
skinparam defaultFontName "Noto Sans CJK JP"

skinparam note {
  BackgroundColor #9EA0CA
  BorderColor #ffffff
  FontColor #ffffff
  FontSize 14
  FontStyle bold
}

skinparam sequence {
  ArrowColor #000000
  ActorBorderColor #000000
  ActorFontStyle Bolder


  LifeLineBorderColor #000000
  LifeLineBackgroundColor transparent
  ParticipantBorderColor transparent
  ParticipantFontSize 14
  ParticipantFontColor #ffffff
  ParticipantFontStyle bold

  BoxBorderColor #000000
  BoxFontColor #ffffff
    BoxFontSize 14
    BoxFontStyle bold
}
hide footbox

skinparam activity {
  BackgroundColor #9EA0CA
  BarColor #ffffff
  BorderColor #ffffff
  DiamondBackgroundColor #05D686
  DiamondBorderColor #ffffff
  DiamondFontColor #ffffff
  DiamondFontSize 14
  DiamondFontStyle bold
  FontColor #ffffff 
  FontSize 14
  FontStyle bold
}

participant "Clovaアプリ" as ca #9EA0CA
participant "クライアントデバイス1" as cli1 #9EA0CA
participant "クライアントデバイス2" as cli2 #9EA0CA
participant CIC as cic #05D686

activate ca
  ca ->> cic : DeviceControl.RequestStateSynchronizationイベントを送信する\n(クライアントデバイスの状態の更新をリクエストする)
deactivate ca

group Request state report

  activate cic

    cic ->> cli1 : DeviceControl.ExpectReportStateディレクティブを送信する\n(ダウンチャネルを使用する)
    activate cli1

    cic ->> cli2 : DeviceControl.ExpectReportStateディレクティブを送信する\n(ダウンチャネルを使用する)
	deactivate cic
    activate cli2

end

...クライアントの状態を収集した後...

group Report state

    cli2 ->> cic : DeviceControl.ReportStateイベントを送信する\n(デバイスの状態を報告する)
    deactivate cli2
  activate cic

    cli1 ->> cic : DeviceControl.ReportStateイベントを送信する\n(デバイスの状態を報告する)
    deactivate cli1

end

    cic -> cic : 収集された状態を整理する

group Synchronize state

    cic ->> ca : DeviceControl.SynchronizeStateディレクティブを送信する\n(ダウンチャネルを使用する)
	deactivate cic
    activate ca

    ca -> ca : クライアントデバイスの状態を更新する

end

@enduml

PlantUML version 1.2019.09(Tue Aug 27 01:19:51 JST 2019)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_202-b08
Operating System: Windows 10
OS Version: 10.0
Default Encoding: MS932
Language: ja
Country: JP
--></g></svg>