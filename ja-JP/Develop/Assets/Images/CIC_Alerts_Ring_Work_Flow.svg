<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="998px" preserveAspectRatio="none" style="width:727px;height:998px;" version="1.1" viewBox="0 0 727 998" width="727px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="30" style="stroke: #000000; stroke-width: 1.0;" width="10" x="671" y="239.6641"/><rect fill="#FFFFFF" height="153.5313" style="stroke: #000000; stroke-width: 1.0;" width="10" x="671" y="442.3281"/><rect fill="#FFFFFF" height="241.9297" style="stroke: #000000; stroke-width: 1.0;" width="10" x="671" y="658.125"/><rect fill="#FFFFFF" height="215.9297" rx="5" ry="5" style="stroke: #000000; stroke-width: 2.0;" width="433.5" x="282" y="332.7969"/><rect fill="#FFFFFF" height="98.3984" style="stroke: none; stroke-width: 1.0;" width="433.5" x="282" y="450.3281"/><rect fill="#FFFFFF" height="117.5313" rx="5" ry="5" style="stroke: #000000; stroke-width: 2.0;" width="433.5" x="282" y="673.125"/><rect fill="#FFFFFF" height="164.5313" rx="5" ry="5" style="stroke: #000000; stroke-width: 2.0;" width="433.5" x="282" y="804.6563"/><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="41" x2="41" y1="100.1328" y2="986.1875"/><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="345" x2="345" y1="100.1328" y2="986.1875"/><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="675.5" x2="675.5" y1="100.1328" y2="986.1875"/><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="40" x="18" y="87.6016">ユーザー</text><ellipse cx="41" cy="13" fill="#9EA0CA" rx="8" ry="8" style="stroke: #000000; stroke-width: 2.0;"/><path d="M41,21 L41,48 M28,29 L54,29 M41,48 L28,63 M41,48 L54,63 " fill="none" style="stroke: #000000; stroke-width: 2.0;"/><rect fill="#9EA0CA" height="50.4883" rx="5" ry="5" style="stroke: #FFFFFF; stroke-width: 1.5;" width="106" x="292" y="48.6445"/><text fill="#FFFFFF" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="72" x="309" y="79.1797">クライアント</text><rect fill="#05D686" height="50.4883" rx="5" ry="5" style="stroke: #FFFFFF; stroke-width: 1.5;" width="59" x="646.5" y="48.6445"/><text fill="#FFFFFF" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="25" x="663.5" y="79.1797">CIC</text><rect fill="#FFFFFF" height="30" style="stroke: #000000; stroke-width: 1.0;" width="10" x="671" y="239.6641"/><rect fill="#FFFFFF" height="153.5313" style="stroke: #000000; stroke-width: 1.0;" width="10" x="671" y="442.3281"/><rect fill="#FFFFFF" height="241.9297" style="stroke: #000000; stroke-width: 1.0;" width="10" x="671" y="658.125"/><line style="stroke: #000000; stroke-width: 1.0;" x1="345" x2="387" y1="150.2656" y2="150.2656"/><line style="stroke: #000000; stroke-width: 1.0;" x1="387" x2="387" y1="150.2656" y2="163.2656"/><line style="stroke: #000000; stroke-width: 1.0;" x1="346" x2="387" y1="163.2656" y2="163.2656"/><polygon fill="#000000" points="356,159.2656,346,163.2656,356,167.2656,352,163.2656" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="100" x="362" y="135.7344">アラームが開始される</text><line style="stroke: #000000; stroke-width: 1.0;" x1="669" x2="659" y1="239.6641" y2="235.6641"/><line style="stroke: #000000; stroke-width: 1.0;" x1="669" x2="659" y1="239.6641" y2="243.6641"/><line style="stroke: #000000; stroke-width: 1.0;" x1="345" x2="670" y1="239.6641" y2="239.6641"/><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="120" x="376.5" y="196.8672">アラームの開始を報告する</text><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="157" x="376.5" y="211">(Alerts.AlertStartedイベント、</text><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="263" x="376.5" y="225.1328">Alert.AlertsStateのactivateAlertsフィールドは必須)</text><line style="stroke: #000000; stroke-width: 1.0;" x1="343" x2="333" y1="317.7969" y2="313.7969"/><line style="stroke: #000000; stroke-width: 1.0;" x1="343" x2="333" y1="317.7969" y2="321.7969"/><line style="stroke: #000000; stroke-width: 1.0;" x1="41" x2="344" y1="317.7969" y2="317.7969"/><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="260" x="63" y="303.2656">アラームの停止をリクエストする(発話または物理ボタン)</text><path d="M287,332.7969 L363,332.7969 L363,358.7969 L353,368.7969 L282,368.7969 L282,337.7969 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="215.9297" rx="5" ry="5" style="stroke: #000000; stroke-width: 2.0;" width="433.5" x="282" y="332.7969"/><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="16" x="307" y="355.3984">alt</text><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="258" x="388" y="356.3984">[アラーム停止リクエストのタイプ == ユーザーの発話]</text><line style="stroke: #000000; stroke-width: 1.0;" x1="669" x2="659" y1="442.3281" y2="438.3281"/><line style="stroke: #000000; stroke-width: 1.0;" x1="669" x2="659" y1="442.3281" y2="446.3281"/><line style="stroke: #000000; stroke-width: 1.0;" x1="345" x2="670" y1="442.3281" y2="442.3281"/><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="160" x="428" y="413.6641">アラーム停止リクエストを送信する</text><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="216" x="400" y="427.7969">(SpeechRecognizer.Recognizeイベント)</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="282" x2="715.5" y1="451.3281" y2="451.3281"/><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="236" x="297" y="472.9297">[アラーム停止リクエストのタイプ == 物理ボタン]</text><line style="stroke: #000000; stroke-width: 1.0;" x1="669" x2="659" y1="540.7266" y2="536.7266"/><line style="stroke: #000000; stroke-width: 1.0;" x1="669" x2="659" y1="540.7266" y2="544.7266"/><line style="stroke: #000000; stroke-width: 1.0;" x1="345" x2="670" y1="540.7266" y2="540.7266"/><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="160" x="428" y="512.0625">アラーム停止リクエストを送信する</text><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="184" x="416" y="526.1953">(Alerts.RequestAlertStopイベント)</text><line style="stroke: #000000; stroke-width: 1.0;" x1="345" x2="355" y1="595.8594" y2="591.8594"/><line style="stroke: #000000; stroke-width: 1.0;" x1="345" x2="355" y1="595.8594" y2="599.8594"/><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="345" x2="675" y1="595.8594" y2="595.8594"/><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="209" x="406" y="581.3281">Alerts.StopAlertディレクティブを送信する</text><line style="stroke: #000000; stroke-width: 1.0;" x1="669" x2="659" y1="658.125" y2="654.125"/><line style="stroke: #000000; stroke-width: 1.0;" x1="669" x2="659" y1="658.125" y2="662.125"/><line style="stroke: #000000; stroke-width: 1.0;" x1="345" x2="670" y1="658.125" y2="658.125"/><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="140" x="438" y="629.4609">アラームの停止結果を報告する</text><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="160" x="428" y="643.5938">(Alerts.AlertStoppedイベント)</text><path d="M287,673.125 L368,673.125 L368,699.125 L358,709.125 L282,709.125 L282,678.125 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="117.5313" rx="5" ry="5" style="stroke: #000000; stroke-width: 2.0;" width="433.5" x="282" y="673.125"/><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="21" x="307" y="695.7266">opt</text><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="146" x="393" y="696.7266">[アラームの繰り返し == はい]</text><line style="stroke: #000000; stroke-width: 1.0;" x1="345" x2="355" y1="782.6563" y2="778.6563"/><line style="stroke: #000000; stroke-width: 1.0;" x1="345" x2="355" y1="782.6563" y2="786.6563"/><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="345" x2="670" y1="782.6563" y2="782.6563"/><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="160" x="428" y="753.9922">アラームの次の繰り返しを送信する</text><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="159" x="428.5" y="768.125">(Alerts.SetAlertディレクティブ)</text><path d="M287,804.6563 L368,804.6563 L368,830.6563 L358,840.6563 L282,840.6563 L282,809.6563 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="164.5313" rx="5" ry="5" style="stroke: #000000; stroke-width: 2.0;" width="433.5" x="282" y="804.6563"/><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="21" x="307" y="827.2578">opt</text><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="196" x="393" y="828.2578">[アラームタイプ == アクションタイマー]</text><line style="stroke: #000000; stroke-width: 1.0;" x1="345" x2="355" y1="900.0547" y2="896.0547"/><line style="stroke: #000000; stroke-width: 1.0;" x1="345" x2="355" y1="900.0547" y2="904.0547"/><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="345" x2="675" y1="900.0547" y2="900.0547"/><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="282" x="369.5" y="885.5234">ユーザーが予約した動作を実行するディレクティブを送信する</text><line style="stroke: #000000; stroke-width: 1.0;" x1="345" x2="387" y1="948.1875" y2="948.1875"/><line style="stroke: #000000; stroke-width: 1.0;" x1="387" x2="387" y1="948.1875" y2="961.1875"/><line style="stroke: #000000; stroke-width: 1.0;" x1="346" x2="387" y1="961.1875" y2="961.1875"/><polygon fill="#000000" points="356,957.1875,346,961.1875,356,965.1875,352,961.1875" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="&quot;Malgun Gothic&quot;, sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="122" x="362" y="933.6563">予約された動作を実行する</text><!--
@startuml
scale max 880 width
skinparam sequenceMessageAlign center
skinparam shadowing false
skinparam roundcorner 10
skinparam padding 10
skinparam defaultFontSize 12
skinparam defaultFontName "Malgun Gothic", sans-serif

skinparam note {
  BackgroundColor #9EA0CA
  BorderColor #ffffff
  FontColor #ffffff
  FontSize 14
  FontStyle bold
}

skinparam sequence {
  ArrowColor #000000
  ActorBorderColor #000000
  ActorFontStyle Bolder


  LifeLineBorderColor #000000
  LifeLineBackgroundColor transparent
  ParticipantBorderColor transparent
  ParticipantFontSize 14
  ParticipantFontColor #ffffff
  ParticipantFontStyle bold

  BoxBorderColor #000000
  BoxFontColor #ffffff
    BoxFontSize 14
    BoxFontStyle bold
}
hide footbox

skinparam activity {
  BackgroundColor #9EA0CA
  BarColor #ffffff
  BorderColor #ffffff
  DiamondBackgroundColor #05D686
  DiamondBorderColor #ffffff
  DiamondFontColor #ffffff
  DiamondFontSize 14
  DiamondFontStyle bold
  FontColor #ffffff 
  FontSize 14
  FontStyle bold
}

actor ユーザー as user #9EA0CA
participant クライアント as client #9EA0CA
participant CIC as cic #05D686


client -> client : アラームが開始される
client ->> cic : アラームの開始を報告する\n(Alerts.AlertStartedイベント、\lAlert.AlertsStateのactivateAlertsフィールドは必須)

activate cic
deactivate cic

user ->> client : アラームの停止をリクエストする(発話または物理ボタン)

alt アラーム停止リクエストのタイプ == ユーザーの発話

  client ->> cic : アラーム停止リクエストを送信する\n(SpeechRecognizer.Recognizeイベント)

activate cic

else アラーム停止リクエストのタイプ == 物理ボタン

  client ->> cic : アラーム停止リクエストを送信する\n(Alerts.RequestAlertStopイベント)

end

cic - ->> client : Alerts.StopAlertディレクティブを送信する

deactivate cic

client ->> cic : アラームの停止結果を報告する\n(Alerts.AlertStoppedイベント)

activate cic

  opt アラームの繰り返し == はい

    cic - ->> client : アラームの次の繰り返しを送信する\n(Alerts.SetAlertディレクティブ)

  end

  opt アラームタイプ == アクションタイマー

    cic - ->> client : ユーザーが予約した動作を実行するディレクティブを送信する

deactivate cic
    client -> client : 予約された動作を実行する

  end

@enduml

PlantUML version 1.2018.12(Sun Oct 21 19:15:15 KST 2018)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11+28
Operating System: Mac OS X
OS Version: 10.14.2
Default Encoding: US-ASCII
Language: en
Country: KR
--></g></svg>