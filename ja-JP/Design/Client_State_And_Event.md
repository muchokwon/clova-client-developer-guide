# クライアントの状態とイベント

ユーザーの音声入力、Clovaの音声出力、マイクの状態、エラーの発生（Clovaサービスのエラー、ネットワークエラーなど）などをユーザーが容易に認知したり操作できるように、クライアントデバイスを設計・実装する必要があります。そのために、クライアントデバイスの状態、状態の遷移およびその流れをよく知っている必要があります。以下は、クライアントの状態を表した状態ダイアグラムです。

![](/Design/Assets/Images/Clova-Client-State_Diagram.png)

クライアントの各状態についての説明は以下の通りです。

| 状態                | 説明                                                            |
|------------------------|--------------------------------------------------------------------|
| Idle                   | クライアントで何の処理も行われていない                             |
| Attending              | クライアントがユーザーの音声入力を受信するために待機している                        |
| Listening              | クライアントがユーザーの音声入力を受信している                            |
| Processing & reporting | Clovaがユーザーの音声リクエストを処理しているか、またはスピーカーでClovaの音声を出力している |
| Error                  | システムエラーが発生している                                                |
| Mute on                | マイクがミュートに設定されている                                               |

上記で言及されている状態は、[ランプ](/Design/Light.md)、[効果音](/Design/Sound.md#SoundEffect)、[画面](/Design/Screen.md)などで表示されます。状態の遷移は、ユーザーの音声や[ボタン](/Design/Button.md)の操作、環境要因などによって実行されたり、発生したりします。

また、クライアントでは以下のイベントが発生することがあり、そのイベントもサウンドやランプで表現される必要があります。

| 名前               | 説明                                                           |
|------------------------|--------------------------------------------------------------------|
| アラーム（Alarm）             | 指定された日付と時刻にアラームを鳴らします。                                           |
| リマインダー（Reminder）       | 指定された日付と時間に、ユーザーが入力した内容を表示したり、音声で再生しながら鳴るアラーム         |
| タイマー（Timer）            | 指定された時間が過ぎると、アラームを鳴らします。                                        |
