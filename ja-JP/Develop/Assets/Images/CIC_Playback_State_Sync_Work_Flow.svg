<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="674.6252px" preserveAspectRatio="none" style="width:873px;height:674px;" version="1.1" viewBox="0 0 873 674" width="873.7765px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="34.0995" style="stroke: #000000; stroke-width: 0.8297972654408298;" width="8.298" x="64.3093" y="54.4425"/><rect fill="#FFFFFF" height="64.802" style="stroke: #000000; stroke-width: 0.8297972654408298;" width="8.298" x="64.3093" y="592.4882"/><rect fill="#FFFFFF" height="90.6035" style="stroke: #FFFFFF; stroke-width: 0.8297972654408298;" width="8.298" x="260.1414" y="178.3934"/><line style="stroke: #000000; stroke-width: 0.8297972654408298;" x1="260.1414" x2="260.1414" y1="178.3934" y2="268.9969"/><line style="stroke: #000000; stroke-width: 0.8297972654408298;" x1="268.4394" x2="268.4394" y1="178.3934" y2="268.9969"/><line style="stroke: #000000; stroke-width: 0.8297972654408298;" x1="260.1414" x2="268.4394" y1="178.3934" y2="178.3934"/><rect fill="#FFFFFF" height="136.4757" style="stroke: #FFFFFF; stroke-width: 0.8297972654408298;" width="8.298" x="260.1414" y="321.352"/><line style="stroke: #000000; stroke-width: 0.8297972654408298;" x1="260.1414" x2="260.1414" y1="321.352" y2="457.8277"/><line style="stroke: #000000; stroke-width: 0.8297972654408298;" x1="268.4394" x2="268.4394" y1="321.352" y2="457.8277"/><line style="stroke: #000000; stroke-width: 0.8297972654408298;" x1="260.1414" x2="268.4394" y1="457.8277" y2="457.8277"/><rect fill="#FFFFFF" height="37.3409" style="stroke: #FFFFFF; stroke-width: 0.8297972654408298;" width="8.298" x="381.2918" y="231.6561"/><line style="stroke: #000000; stroke-width: 0.8297972654408298;" x1="381.2918" x2="381.2918" y1="231.6561" y2="268.9969"/><line style="stroke: #000000; stroke-width: 0.8297972654408298;" x1="389.5898" x2="389.5898" y1="231.6561" y2="268.9969"/><line style="stroke: #000000; stroke-width: 0.8297972654408298;" x1="381.2918" x2="389.5898" y1="231.6561" y2="231.6561"/><rect fill="#FFFFFF" height="83.2131" style="stroke: #FFFFFF; stroke-width: 0.8297972654408298;" width="8.298" x="381.2918" y="321.352"/><line style="stroke: #000000; stroke-width: 0.8297972654408298;" x1="381.2918" x2="381.2918" y1="321.352" y2="404.5651"/><line style="stroke: #000000; stroke-width: 0.8297972654408298;" x1="389.5898" x2="389.5898" y1="321.352" y2="404.5651"/><line style="stroke: #000000; stroke-width: 0.8297972654408298;" x1="381.2918" x2="389.5898" y1="404.5651" y2="404.5651"/><rect fill="#FFFFFF" height="168.008" style="stroke: #000000; stroke-width: 0.8297972654408298;" width="8.298" x="722.3385" y="88.542"/><rect fill="#FFFFFF" height="233.6398" style="stroke: #000000; stroke-width: 0.8297972654408298;" width="8.298" x="722.3385" y="404.5651"/><rect fill="#FFFFFF" height="162.1994" rx="4.149" ry="4.149" style="stroke: #000000; stroke-width: 1.6595945308816595;" width="559.2834" x="199.5662" y="100.9889"/><rect fill="#FFFFFF" height="137.3055" rx="4.149" ry="4.149" style="stroke: #000000; stroke-width: 1.6595945308816595;" width="559.2834" x="199.5662" y="327.1605"/><rect fill="#FFFFFF" height="123.0434" rx="4.149" ry="4.149" style="stroke: #000000; stroke-width: 1.6595945308816595;" width="748.0622" x="10.7874" y="527.6084"/><line style="stroke: #000000; stroke-width: 0.8297972654408298;" x1="68.0434" x2="68.0434" y1="46.1445" y2="268.9969"/><line style="stroke: #000000; stroke-width: 0.8297972654408298; stroke-dasharray: 1.0,4.0;" x1="68.0434" x2="68.0434" y1="268.9969" y2="321.352"/><line style="stroke: #000000; stroke-width: 0.8297972654408298;" x1="68.0434" x2="68.0434" y1="321.352" y2="664.7584"/><line style="stroke: #000000; stroke-width: 0.8297972654408298;" x1="264.2904" x2="264.2904" y1="46.1445" y2="268.9969"/><line style="stroke: #000000; stroke-width: 0.8297972654408298; stroke-dasharray: 1.0,4.0;" x1="264.2904" x2="264.2904" y1="268.9969" y2="321.352"/><line style="stroke: #000000; stroke-width: 0.8297972654408298;" x1="264.2904" x2="264.2904" y1="321.352" y2="664.7584"/><line style="stroke: #000000; stroke-width: 0.8297972654408298;" x1="385.4408" x2="385.4408" y1="46.1445" y2="268.9969"/><line style="stroke: #000000; stroke-width: 0.8297972654408298; stroke-dasharray: 1.0,4.0;" x1="385.4408" x2="385.4408" y1="268.9969" y2="321.352"/><line style="stroke: #000000; stroke-width: 0.8297972654408298;" x1="385.4408" x2="385.4408" y1="321.352" y2="664.7584"/><line style="stroke: #000000; stroke-width: 0.8297972654408298;" x1="726.4875" x2="726.4875" y1="46.1445" y2="268.9969"/><line style="stroke: #000000; stroke-width: 0.8297972654408298; stroke-dasharray: 1.0,4.0;" x1="726.4875" x2="726.4875" y1="268.9969" y2="321.352"/><line style="stroke: #000000; stroke-width: 0.8297972654408298;" x1="726.4875" x2="726.4875" y1="321.352" y2="664.7584"/><rect fill="#9EA0CA" height="42.8253" rx="4.149" ry="4.149" style="stroke: #FFFFFF; stroke-width: 1.2446958981612446;" width="98.7459" x="19.0853" y="2.4894"/><text fill="#FFFFFF" font-family="Noto Sans CJK KR" font-size="11.6172" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="70.5328" x="33.1919" y="28.6556">Clovaアプリ</text><rect fill="#9EA0CA" height="42.8253" rx="4.149" ry="4.149" style="stroke: #FFFFFF; stroke-width: 1.2446958981612446;" width="112.8524" x="207.8642" y="2.4894"/><text fill="#FFFFFF" font-family="Noto Sans CJK KR" font-size="11.6172" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="84.6393" x="221.9708" y="28.6556">クライアント 1</text><rect fill="#9EA0CA" height="42.8253" rx="4.149" ry="4.149" style="stroke: #FFFFFF; stroke-width: 1.2446958981612446;" width="112.8524" x="329.0146" y="2.4894"/><text fill="#FFFFFF" font-family="Noto Sans CJK KR" font-size="11.6172" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="84.6393" x="343.1212" y="28.6556">クライアント 2</text><rect fill="#05D686" height="42.8253" rx="4.149" ry="4.149" style="stroke: #FFFFFF; stroke-width: 1.2446958981612446;" width="48.1282" x="702.4234" y="2.4894"/><text fill="#FFFFFF" font-family="Noto Sans CJK KR" font-size="11.6172" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19.9151" x="716.5299" y="28.6556">CIC</text><rect fill="#FFFFFF" height="34.0995" style="stroke: #000000; stroke-width: 0.8297972654408298;" width="8.298" x="64.3093" y="54.4425"/><rect fill="#FFFFFF" height="64.802" style="stroke: #000000; stroke-width: 0.8297972654408298;" width="8.298" x="64.3093" y="592.4882"/><rect fill="#FFFFFF" height="90.6035" style="stroke: #FFFFFF; stroke-width: 0.8297972654408298;" width="8.298" x="260.1414" y="178.3934"/><line style="stroke: #000000; stroke-width: 0.8297972654408298;" x1="260.1414" x2="260.1414" y1="178.3934" y2="268.9969"/><line style="stroke: #000000; stroke-width: 0.8297972654408298;" x1="268.4394" x2="268.4394" y1="178.3934" y2="268.9969"/><line style="stroke: #000000; stroke-width: 0.8297972654408298;" x1="260.1414" x2="268.4394" y1="178.3934" y2="178.3934"/><rect fill="#FFFFFF" height="136.4757" style="stroke: #FFFFFF; stroke-width: 0.8297972654408298;" width="8.298" x="260.1414" y="321.352"/><line style="stroke: #000000; stroke-width: 0.8297972654408298;" x1="260.1414" x2="260.1414" y1="321.352" y2="457.8277"/><line style="stroke: #000000; stroke-width: 0.8297972654408298;" x1="268.4394" x2="268.4394" y1="321.352" y2="457.8277"/><line style="stroke: #000000; stroke-width: 0.8297972654408298;" x1="260.1414" x2="268.4394" y1="457.8277" y2="457.8277"/><rect fill="#FFFFFF" height="37.3409" style="stroke: #FFFFFF; stroke-width: 0.8297972654408298;" width="8.298" x="381.2918" y="231.6561"/><line style="stroke: #000000; stroke-width: 0.8297972654408298;" x1="381.2918" x2="381.2918" y1="231.6561" y2="268.9969"/><line style="stroke: #000000; stroke-width: 0.8297972654408298;" x1="389.5898" x2="389.5898" y1="231.6561" y2="268.9969"/><line style="stroke: #000000; stroke-width: 0.8297972654408298;" x1="381.2918" x2="389.5898" y1="231.6561" y2="231.6561"/><rect fill="#FFFFFF" height="83.2131" style="stroke: #FFFFFF; stroke-width: 0.8297972654408298;" width="8.298" x="381.2918" y="321.352"/><line style="stroke: #000000; stroke-width: 0.8297972654408298;" x1="381.2918" x2="381.2918" y1="321.352" y2="404.5651"/><line style="stroke: #000000; stroke-width: 0.8297972654408298;" x1="389.5898" x2="389.5898" y1="321.352" y2="404.5651"/><line style="stroke: #000000; stroke-width: 0.8297972654408298;" x1="381.2918" x2="389.5898" y1="404.5651" y2="404.5651"/><rect fill="#FFFFFF" height="168.008" style="stroke: #000000; stroke-width: 0.8297972654408298;" width="8.298" x="722.3385" y="88.542"/><rect fill="#FFFFFF" height="233.6398" style="stroke: #000000; stroke-width: 0.8297972654408298;" width="8.298" x="722.3385" y="404.5651"/><line style="stroke: #000000; stroke-width: 0.8297972654408298;" x1="720.6789" x2="712.381" y1="88.542" y2="85.2228"/><line style="stroke: #000000; stroke-width: 0.8297972654408298;" x1="720.6789" x2="712.381" y1="88.542" y2="91.8612"/><line style="stroke: #000000; stroke-width: 0.8297972654408298;" x1="68.4583" x2="721.5087" y1="88.542" y2="88.542"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="9.9576" lengthAdjust="spacingAndGlyphs" textLength="238.9816" x="275.9076" y="76.3965">クライアントのオーディオ再生状態をリクエストする</text><path d="M203.7152,100.9889 L350.5893,100.9889 L350.5893,123.3934 L342.2914,131.6914 L199.5662,131.6914 L199.5662,105.1379 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 0.8297972654408298;"/><rect fill="none" height="162.1994" rx="4.149" ry="4.149" style="stroke: #000000; stroke-width: 1.6595945308816595;" width="559.2834" x="199.5662" y="100.9889"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="9.9576" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="97.0863" x="220.3112" y="120.4535">Request state report</text><line style="stroke: #000000; stroke-width: 0.8297972654408298;" x1="268.4394" x2="276.7374" y1="178.3934" y2="175.0743"/><line style="stroke: #000000; stroke-width: 0.8297972654408298;" x1="268.4394" x2="276.7374" y1="178.3934" y2="181.7126"/><line style="stroke: #000000; stroke-width: 0.8297972654408298;" x1="268.4394" x2="721.5087" y1="178.3934" y2="178.3934"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="9.9576" lengthAdjust="spacingAndGlyphs" textLength="300.3866" x="345.1957" y="153.7232">AudioPlayer.ExpectReportPlaybackStateディレクティブを送信する</text><text fill="#000000" font-family="Noto Sans CJK KR" font-size="9.9576" lengthAdjust="spacingAndGlyphs" textLength="82.9797" x="453.8991" y="166.2479">(via downchannel)</text><line style="stroke: #000000; stroke-width: 0.8297972654408298;" x1="389.5898" x2="397.8878" y1="231.6561" y2="228.3369"/><line style="stroke: #000000; stroke-width: 0.8297972654408298;" x1="389.5898" x2="397.8878" y1="231.6561" y2="234.9752"/><line style="stroke: #000000; stroke-width: 0.8297972654408298;" x1="389.5898" x2="721.5087" y1="231.6561" y2="231.6561"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="9.9576" lengthAdjust="spacingAndGlyphs" textLength="300.3866" x="405.7709" y="206.9858">AudioPlayer.ExpectReportPlaybackStateディレクティブを送信する</text><text fill="#000000" font-family="Noto Sans CJK KR" font-size="9.9576" lengthAdjust="spacingAndGlyphs" textLength="82.9797" x="514.4743" y="219.5105">(via downchannel)</text><text fill="#000000" font-family="Noto Sans CJK KR" font-size="9.9576" lengthAdjust="spacingAndGlyphs" textLength="179.2362" x="307.8548" y="299.2489">クライアントから再生状態を収集した後</text><path d="M203.7152,327.1605 L311.5889,327.1605 L311.5889,349.5651 L303.2909,357.863 L199.5662,357.863 L199.5662,331.3095 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 0.8297972654408298;"/><rect fill="none" height="137.3055" rx="4.149" ry="4.149" style="stroke: #000000; stroke-width: 1.6595945308816595;" width="559.2834" x="199.5662" y="327.1605"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="9.9576" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="58.0858" x="220.3112" y="346.6251">Report state</text><line style="stroke: #000000; stroke-width: 0.8297972654408298;" x1="720.6789" x2="712.381" y1="404.5651" y2="401.2459"/><line style="stroke: #000000; stroke-width: 0.8297972654408298;" x1="720.6789" x2="712.381" y1="404.5651" y2="407.8843"/><line style="stroke: #000000; stroke-width: 0.8297972654408298;" x1="385.4408" x2="721.5087" y1="404.5651" y2="404.5651"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="9.9576" lengthAdjust="spacingAndGlyphs" textLength="240.6412" x="433.5691" y="379.8948">AudioPlayer.ReportPlaybackStateイベントを送信する</text><text fill="#000000" font-family="Noto Sans CJK KR" font-size="9.9576" lengthAdjust="spacingAndGlyphs" textLength="116.1716" x="495.8039" y="392.4196">(再生状態をレポートする)</text><line style="stroke: #000000; stroke-width: 0.8297972654408298;" x1="720.6789" x2="712.381" y1="457.8277" y2="454.5085"/><line style="stroke: #000000; stroke-width: 0.8297972654408298;" x1="720.6789" x2="712.381" y1="457.8277" y2="461.1469"/><line style="stroke: #000000; stroke-width: 0.8297972654408298;" x1="264.2904" x2="721.5087" y1="457.8277" y2="457.8277"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="9.9576" lengthAdjust="spacingAndGlyphs" textLength="240.6412" x="372.9939" y="433.1574">AudioPlayer.ReportPlaybackStateイベントを送信する</text><text fill="#000000" font-family="Noto Sans CJK KR" font-size="9.9576" lengthAdjust="spacingAndGlyphs" textLength="116.1716" x="435.2287" y="445.6822">(再生状態をレポートする)</text><line style="stroke: #000000; stroke-width: 0.8297972654408298;" x1="730.6365" x2="765.488" y1="504.3741" y2="504.3741"/><line style="stroke: #000000; stroke-width: 0.8297972654408298;" x1="765.488" x2="765.488" y1="504.3741" y2="515.1615"/><line style="stroke: #000000; stroke-width: 0.8297972654408298;" x1="731.4663" x2="765.488" y1="515.1615" y2="515.1615"/><polygon fill="#000000" points="739.7643,511.8423,731.4663,515.1615,739.7643,518.4807,736.4451,515.1615" style="stroke: #000000; stroke-width: 0.8297972654408298;"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="9.9576" lengthAdjust="spacingAndGlyphs" textLength="119.4908" x="744.743" y="492.2286">収集された状態を整理する</text><path d="M14.9364,527.6084 L149.3635,527.6084 L149.3635,550.013 L141.0655,558.3109 L10.7874,558.3109 L10.7874,531.7574 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 0.8297972654408298;"/><rect fill="none" height="123.0434" rx="4.149" ry="4.149" style="stroke: #000000; stroke-width: 1.6595945308816595;" width="748.0622" x="10.7874" y="527.6084"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="9.9576" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="84.6393" x="31.5323" y="547.073">Synchronize state</text><line style="stroke: #000000; stroke-width: 0.8297972654408298;" x1="72.6073" x2="80.9052" y1="592.4882" y2="589.169"/><line style="stroke: #000000; stroke-width: 0.8297972654408298;" x1="72.6073" x2="80.9052" y1="592.4882" y2="595.8074"/><line style="stroke: #000000; stroke-width: 0.8297972654408298;" x1="72.6073" x2="721.5087" y1="592.4882" y2="592.4882"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="9.9576" lengthAdjust="spacingAndGlyphs" textLength="89.6181" x="352.6638" y="580.3427">再生状態を共有する</text><line style="stroke: #000000; stroke-width: 0.8297972654408298;" x1="72.6073" x2="107.4587" y1="637.3751" y2="637.3751"/><line style="stroke: #000000; stroke-width: 0.8297972654408298;" x1="107.4587" x2="107.4587" y1="637.3751" y2="648.1624"/><line style="stroke: #000000; stroke-width: 0.8297972654408298;" x1="68.4583" x2="107.4587" y1="648.1624" y2="648.1624"/><polygon fill="#000000" points="76.7562,644.8432,68.4583,648.1624,76.7562,651.4816,73.4371,648.1624" style="stroke: #000000; stroke-width: 0.8297972654408298;"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="9.9576" lengthAdjust="spacingAndGlyphs" textLength="159.3211" x="86.7138" y="625.2295">クライアントの再生状態を更新する</text><!--
@startuml
scale max 880 width
skinparam sequenceMessageAlign center
skinparam shadowing false
skinparam roundcorner 10
skinparam padding 10
skinparam defaultFontSize 12
skinparam defaultFontName "Noto Sans CJK KR"

skinparam note {
  BackgroundColor #9EA0CA
  BorderColor #ffffff
  FontColor #ffffff
  FontSize 14
  FontStyle bold
}

skinparam sequence {
  ArrowColor #000000
  ActorBorderColor #000000
  ActorFontStyle Bolder


  LifeLineBorderColor #000000
  LifeLineBackgroundColor transparent
  ParticipantBorderColor transparent
  ParticipantFontSize 14
  ParticipantFontColor #ffffff
  ParticipantFontStyle bold

  BoxBorderColor #000000
  BoxFontColor #ffffff
    BoxFontSize 14
    BoxFontStyle bold
}
hide footbox

skinparam activity {
  BackgroundColor #9EA0CA
  BarColor #ffffff
  BorderColor #ffffff
  DiamondBackgroundColor #05D686
  DiamondBorderColor #ffffff
  DiamondFontColor #ffffff
  DiamondFontSize 14
  DiamondFontStyle bold
  FontColor #ffffff 
  FontSize 14
  FontStyle bold
}

participant "Clovaアプリ" as ca #9EA0CA
participant "クライアント 1" as cli1 #9EA0CA
participant "クライアント 2" as cli2 #9EA0CA
participant CIC as cic #05D686

activate ca
  ca ->> cic : クライアントのオーディオ再生状態をリクエストする
deactivate ca

group Request state report

  activate cic

    cic ->> cli1 : AudioPlayer.ExpectReportPlaybackStateディレクティブを送信する\n(via downchannel)
    activate cli1

    cic ->> cli2 : AudioPlayer.ExpectReportPlaybackStateディレクティブを送信する\n(via downchannel)
    activate cli2

  deactivate cic

end

... クライアントから再生状態を収集した後 ...

group Report state

    cli2 ->> cic : AudioPlayer.ReportPlaybackStateイベントを送信する\n(再生状態をレポートする)
    deactivate cli2
  activate cic

    cli1 ->> cic : AudioPlayer.ReportPlaybackStateイベントを送信する\n(再生状態をレポートする)
    deactivate cli1

end

    cic -> cic : 収集された状態を整理する

group Synchronize state

    cic ->> ca : 再生状態を共有する
    activate ca

    ca -> ca : クライアントの再生状態を更新する

  deactivate cic

end

@enduml

PlantUML version 1.2019.09(Tue Aug 27 01:19:51 JST 2019)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_202-b08
Operating System: Windows 10
OS Version: 10.0
Default Encoding: MS932
Language: ja
Country: JP
--></g></svg>