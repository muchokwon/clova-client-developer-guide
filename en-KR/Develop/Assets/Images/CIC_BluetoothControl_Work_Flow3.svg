<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="620.5238px" preserveAspectRatio="none" style="width:884px;height:620px;" version="1.1" viewBox="0 0 884 620" width="884.2677px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="266.3579" style="stroke: #000000; stroke-width: 0.8535402521823472;" width="8.5354" x="268.0116" y="328.7797"/><rect fill="#FFFFFF" height="53.1462" style="stroke: #000000; stroke-width: 0.8535402521823472;" width="8.5354" x="544.5587" y="128.2578"/><rect fill="#FFFFFF" height="307.4412" style="stroke: #000000; stroke-width: 0.8535402521823472;" width="8.5354" x="544.5587" y="287.6964"/><rect fill="#FFFFFF" height="413.7336" style="stroke: #000000; stroke-width: 0.8535402521823472;" width="8.5354" x="829.6411" y="181.404"/><rect fill="#FFFFFF" height="348.6379" rx="4.2677" ry="4.2677" style="stroke: #000000; stroke-width: 1.7070805043646944;" width="862.9292" x="11.096" y="194.2071"/><rect fill="#FFFFFF" height="166.1536" style="stroke: none; stroke-width: 0.8535402521823472;" width="862.9292" x="11.096" y="376.6913"/><line style="stroke: #000000; stroke-width: 0.8535402521823472; stroke-dasharray: 5.0,5.0;" x1="42.677" x2="42.677" y1="85.4674" y2="610.5013"/><line style="stroke: #000000; stroke-width: 0.8535402521823472; stroke-dasharray: 5.0,5.0;" x1="272.2793" x2="272.2793" y1="85.4674" y2="610.5013"/><line style="stroke: #000000; stroke-width: 0.8535402521823472; stroke-dasharray: 5.0,5.0;" x1="548.3996" x2="548.3996" y1="85.4674" y2="610.5013"/><line style="stroke: #000000; stroke-width: 0.8535402521823472; stroke-dasharray: 5.0,5.0;" x1="833.9088" x2="833.9088" y1="85.4674" y2="610.5013"/><text fill="#000000" font-family="sans-serif" font-size="10.2425" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23.8991" x="28.1668" y="74.7715">User</text><ellipse cx="42.677" cy="11.096" fill="#FEFECE" rx="6.8283" ry="6.8283" style="stroke: #000000; stroke-width: 1.7070805043646944;"/><path d="M42.677,17.9243 L42.677,40.9699 M31.581,24.7527 L53.773,24.7527 M42.677,40.9699 L31.581,53.773 M42.677,40.9699 L53.773,53.773 " fill="none" style="stroke: #000000; stroke-width: 1.7070805043646944;"/><rect fill="#9EA0CA" height="43.0938" rx="4.2677" ry="4.2677" style="stroke: #FFFFFF; stroke-width: 1.2803103782735208;" width="131.4452" x="206.5567" y="41.5201"/><text fill="#FFFFFF" font-family="sans-serif" font-size="11.9496" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="102.4248" x="221.0669" y="67.5831">Bluetooth device</text><rect fill="#9EA0CA" height="43.0938" rx="4.2677" ry="4.2677" style="stroke: #FFFFFF; stroke-width: 1.2803103782735208;" width="65.7226" x="515.9651" y="41.5201"/><text fill="#FFFFFF" font-family="sans-serif" font-size="11.9496" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="36.7022" x="530.4753" y="67.5831">Client</text><rect fill="#05D686" height="43.0938" rx="4.2677" ry="4.2677" style="stroke: #FFFFFF; stroke-width: 1.2803103782735208;" width="63.162" x="802.3278" y="41.5201"/><text fill="#FFFFFF" font-family="sans-serif" font-size="11.9496" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="34.1416" x="816.838" y="67.5831">Clova</text><rect fill="#FFFFFF" height="266.3579" style="stroke: #000000; stroke-width: 0.8535402521823472;" width="8.5354" x="268.0116" y="328.7797"/><rect fill="#FFFFFF" height="53.1462" style="stroke: #000000; stroke-width: 0.8535402521823472;" width="8.5354" x="544.5587" y="128.2578"/><rect fill="#FFFFFF" height="307.4412" style="stroke: #000000; stroke-width: 0.8535402521823472;" width="8.5354" x="544.5587" y="287.6964"/><rect fill="#FFFFFF" height="413.7336" style="stroke: #000000; stroke-width: 0.8535402521823472;" width="8.5354" x="829.6411" y="181.404"/><line style="stroke: #000000; stroke-width: 0.8535402521823472;" x1="542.8516" x2="534.3162" y1="128.2578" y2="124.8436"/><line style="stroke: #000000; stroke-width: 0.8535402521823472;" x1="542.8516" x2="534.3162" y1="128.2578" y2="131.6719"/><line style="stroke: #000000; stroke-width: 0.8535402521823472;" x1="42.677" x2="543.7051" y1="128.2578" y2="128.2578"/><text fill="#000000" font-family="sans-serif" font-size="10.2425" lengthAdjust="spacingAndGlyphs" textLength="118.6421" x="234.2968" y="115.8548">Request audio playback</text><line style="stroke: #000000; stroke-width: 0.8535402521823472;" x1="827.934" x2="819.3986" y1="181.404" y2="177.9898"/><line style="stroke: #000000; stroke-width: 0.8535402521823472;" x1="827.934" x2="819.3986" y1="181.404" y2="184.8181"/><line style="stroke: #000000; stroke-width: 0.8535402521823472;" x1="548.8264" x2="828.7876" y1="181.404" y2="181.404"/><text fill="#000000" font-family="sans-serif" font-size="10.2425" lengthAdjust="spacingAndGlyphs" textLength="143.3948" x="617.5364" y="156.938">SpeechRecognizer.Recognize</text><text fill="#000000" font-family="sans-serif" font-size="10.2425" lengthAdjust="spacingAndGlyphs" textLength="116.0815" x="631.193" y="169.001">Send an event message</text><path d="M15.3637,194.2071 L80.2328,194.2071 L80.2328,216.3991 L71.6974,224.9345 L11.096,224.9345 L11.096,198.4748 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 0.8535402521823472;"/><rect fill="none" height="348.6379" rx="4.2677" ry="4.2677" style="stroke: #000000; stroke-width: 1.7070805043646944;" width="862.9292" x="11.096" y="194.2071"/><text fill="#000000" font-family="sans-serif" font-size="10.2425" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="13.6566" x="32.4345" y="213.4984">alt</text><text fill="#000000" font-family="sans-serif" font-size="10.2425" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="109.2532" x="101.5713" y="214.352">[Client role == sink]</text><line style="stroke: #000000; stroke-width: 0.8535402521823472;" x1="553.0941" x2="561.6295" y1="287.6964" y2="284.2823"/><line style="stroke: #000000; stroke-width: 0.8535402521823472;" x1="553.0941" x2="561.6295" y1="287.6964" y2="291.1106"/><line style="stroke: #000000; stroke-width: 0.8535402521823472;" x1="553.0941" x2="828.7876" y1="287.6964" y2="287.6964"/><text fill="#000000" font-family="sans-serif" font-size="10.2425" lengthAdjust="spacingAndGlyphs" textLength="99.8642" x="641.4355" y="263.2305">DeviceControl.BtPlay</text><text fill="#000000" font-family="sans-serif" font-size="10.2425" lengthAdjust="spacingAndGlyphs" textLength="125.4704" x="628.6324" y="275.2934">Send a directive message</text><polygon fill="#000000" points="534.3162,325.3655,542.8516,328.7797,534.3162,332.1939,537.7304,328.7797" style="stroke: #000000; stroke-width: 0.8535402521823472;"/><line style="stroke: #000000; stroke-width: 0.8535402521823472;" x1="276.547" x2="539.4374" y1="328.7797" y2="328.7797"/><text fill="#000000" font-family="sans-serif" font-size="10.2425" lengthAdjust="spacingAndGlyphs" textLength="234.7236" x="293.1911" y="316.3767">Receive audio stream from the Bluetooth device</text><polygon fill="#000000" points="52.066,366.4488,43.5306,369.863,52.066,373.2772,48.6518,369.863" style="stroke: #000000; stroke-width: 0.8535402521823472;"/><line style="stroke: #000000; stroke-width: 0.8535402521823472;" x1="46.9447" x2="543.7051" y1="369.863" y2="369.863"/><text fill="#000000" font-family="sans-serif" font-size="10.2425" lengthAdjust="spacingAndGlyphs" textLength="139.1271" x="224.0543" y="357.46">Play audio from the speaker</text><line style="stroke: #000000; stroke-width: 0.8535402521823472; stroke-dasharray: 2.0,2.0;" x1="11.096" x2="874.0252" y1="377.5449" y2="377.5449"/><text fill="#000000" font-family="sans-serif" font-size="10.2425" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="121.2027" x="23.8991" y="395.9827">[Client role == source]</text><polygon fill="#000000" points="562.483,450.4359,553.9476,453.85,562.483,457.2642,559.0689,453.85" style="stroke: #000000; stroke-width: 0.8535402521823472;"/><line style="stroke: #000000; stroke-width: 0.8535402521823472;" x1="557.3618" x2="828.7876" y1="453.85" y2="453.85"/><text fill="#000000" font-family="sans-serif" font-size="10.2425" lengthAdjust="spacingAndGlyphs" textLength="81.0863" x="650.8244" y="429.3841">AudioPlayer.Play</text><text fill="#000000" font-family="sans-serif" font-size="10.2425" lengthAdjust="spacingAndGlyphs" textLength="125.4704" x="628.6324" y="441.447">Send a directive message</text><polygon fill="#000000" points="285.936,491.5192,277.4006,494.9333,285.936,498.3475,282.5218,494.9333" style="stroke: #000000; stroke-width: 0.8535402521823472;"/><line style="stroke: #000000; stroke-width: 0.8535402521823472;" x1="280.8147" x2="543.7051" y1="494.9333" y2="494.9333"/><text fill="#000000" font-family="sans-serif" font-size="10.2425" lengthAdjust="spacingAndGlyphs" textLength="178.3899" x="321.3579" y="482.5303">Send audio to the Bluetooth speaker</text><polygon fill="#000000" points="52.066,532.6024,43.5306,536.0166,52.066,539.4308,48.6518,536.0166" style="stroke: #000000; stroke-width: 0.8535402521823472;"/><line style="stroke: #000000; stroke-width: 0.8535402521823472;" x1="46.9447" x2="267.1581" y1="536.0166" y2="536.0166"/><text fill="#000000" font-family="sans-serif" font-size="10.2425" lengthAdjust="spacingAndGlyphs" textLength="187.7789" x="61.4549" y="523.6136">Play audio from the Bluetooth speaker</text><polygon fill="#000000" points="823.6663,591.7234,832.2017,595.1376,823.6663,598.5518,827.0805,595.1376" style="stroke: #000000; stroke-width: 0.8535402521823472;"/><line style="stroke: #000000; stroke-width: 0.8535402521823472; stroke-dasharray: 2.0,2.0;" x1="548.8264" x2="828.7876" y1="595.1376" y2="595.1376"/><text fill="#000000" font-family="sans-serif" font-size="10.2425" lengthAdjust="spacingAndGlyphs" textLength="235.5771" x="571.872" y="570.6717">DeviceControl.ActionExecuted (with DeviceState)</text><text fill="#000000" font-family="sans-serif" font-size="10.2425" lengthAdjust="spacingAndGlyphs" textLength="116.0815" x="633.3269" y="582.7346">Send an event message</text><!--
@startuml
scale max 880 width
skinparam sequenceMessageAlign center
skinparam shadowing false
skinparam roundcorner 10
skinparam padding 10
skinparam defaultFontSize 12
skinparam sequence {
	ArrowColor #000000
	ActorBorderColor #000000
	ActorFontStyle Bolder

	LifeLineBorderColor #000000
	LifeLineBackgroundColor transparent
	ParticipantBorderColor transparent
	ParticipantFontSize 14
	ParticipantFontColor #ffffff
	ParticipantFontStyle bold

	BoxBorderColor #000000
	BoxFontColor #ffffff
    BoxFontSize 14
    BoxFontStyle bold
}
skinparam note {
	BackgroundColor #9EA0CA
	BorderColor #ffffff
	FontColor #ffffff
	FontSize 14
	FontStyle bold
}
hide footbox

actor User as user
participant "Bluetooth device" as device #9EA0CA
participant Client as client #9EA0CA
participant "Clova" as clova #05D686

user ->> client : Request audio playback
activate client
client ->> clova : SpeechRecognizer.Recognize\nSend an event message
deactivate client
activate clova
alt Client role == sink
  clova ->> client : DeviceControl.BtPlay\nSend a directive message

activate client

	device -> client : Receive audio stream from the Bluetooth device
  activate device
    client -> user : Play audio from the speaker
else Client role == source
        clova -> client : AudioPlayer.Play\nSend a directive message
        client -> device : Send audio to the Bluetooth speaker
    device -> user : Play audio from the Bluetooth speaker
end
  client - -> clova : DeviceControl.ActionExecuted (with DeviceState) \nSend an event message
deactivate client
deactivate device
deactivate clova

@enduml

PlantUML version 1.2018.12(Sun Oct 21 19:15:15 KST 2018)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11+28
Operating System: Mac OS X
OS Version: 10.14.2
Default Encoding: US-ASCII
Language: en
Country: KR
--></g></svg>