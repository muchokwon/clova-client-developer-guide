<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="984px" preserveAspectRatio="none" style="width:833px;height:984px;" version="1.1" viewBox="0 0 833 984" width="833px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="69.52" style="stroke: #000000; stroke-width: 1.0;" width="10" x="225.5" y="175.28"/><rect fill="#FFFFFF" height="460.6" style="stroke: #000000; stroke-width: 1.0;" width="10" x="225.5" y="501.88"/><rect fill="#FFFFFF" height="418.12" style="stroke: #000000; stroke-width: 1.0;" width="10" x="622.5" y="244.8"/><rect fill="#FFFFFF" height="113.52" style="stroke: #000000; stroke-width: 1.0;" width="10" x="622.5" y="848.96"/><rect fill="#FFFFFF" height="577.64" rx="5" ry="5" style="stroke: #000000; stroke-width: 2.0;" width="663" x="13" y="377.84"/><rect fill="#FFFFFF" height="393.84" style="stroke: none; stroke-width: 1.0;" width="663" x="13" y="561.64"/><rect fill="#FFFFFF" height="205.8" rx="5" ry="5" style="stroke: #000000; stroke-width: 2.0;" width="482.5" x="183.5" y="742.68"/><rect fill="#FFFFFF" height="91.52" style="stroke: none; stroke-width: 1.0;" width="482.5" x="183.5" y="856.96"/><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="49" x2="49" y1="103.76" y2="972.48"/><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="230.5" x2="230.5" y1="103.76" y2="972.48"/><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="627" x2="627" y1="103.76" y2="972.48"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="27" x="33" y="89.92">User</text><ellipse cx="49.5" cy="13" fill="#9EA0CA" rx="8" ry="8" style="stroke: #000000; stroke-width: 2.0;"/><path d="M49.5,21 L49.5,48 M36.5,29 L62.5,29 M49.5,48 L36.5,63 M49.5,48 L62.5,63 " fill="none" style="stroke: #000000; stroke-width: 2.0;"/><rect fill="#9EA0CA" height="54.72" rx="5" ry="5" style="stroke: #FFFFFF; stroke-width: 1.5;" width="74" x="193.5" y="48.04"/><text fill="#FFFFFF" font-family="Noto Sans CJK KR" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="40" x="210.5" y="81.28">Client</text><rect fill="#05D686" height="54.72" rx="5" ry="5" style="stroke: #FFFFFF; stroke-width: 1.5;" width="57" x="599" y="48.04"/><text fill="#FFFFFF" font-family="Noto Sans CJK KR" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="616" y="81.28">CIC</text><rect fill="#FFFFFF" height="69.52" style="stroke: #000000; stroke-width: 1.0;" width="10" x="225.5" y="175.28"/><rect fill="#FFFFFF" height="460.6" style="stroke: #000000; stroke-width: 1.0;" width="10" x="225.5" y="501.88"/><rect fill="#FFFFFF" height="418.12" style="stroke: #000000; stroke-width: 1.0;" width="10" x="622.5" y="244.8"/><rect fill="#FFFFFF" height="113.52" style="stroke: #000000; stroke-width: 1.0;" width="10" x="622.5" y="848.96"/><line style="stroke: #000000; stroke-width: 1.0;" x1="223.5" x2="213.5" y1="175.28" y2="171.28"/><line style="stroke: #000000; stroke-width: 1.0;" x1="223.5" x2="213.5" y1="175.28" y2="179.28"/><line style="stroke: #000000; stroke-width: 1.0;" x1="49.5" x2="224.5" y1="175.28" y2="175.28"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="126" x="74.5" y="141.68">Client control request:</text><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="84" x="95.5" y="159.44">"Turn on GPS."</text><line style="stroke: #000000; stroke-width: 1.0;" x1="620.5" x2="610.5" y1="244.8" y2="240.8"/><line style="stroke: #000000; stroke-width: 1.0;" x1="620.5" x2="610.5" y1="244.8" y2="248.8"/><line style="stroke: #000000; stroke-width: 1.0;" x1="230.5" x2="621.5" y1="244.8" y2="244.8"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="237" x="308" y="211.2">Sends SpeechRecognizer.Recognize event</text><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="348" x="252.5" y="228.96">(Includes Device.DeviceState context as required information)</text><line style="stroke: #000000; stroke-width: 1.0;" x1="632.5" x2="674.5" y1="349.84" y2="349.84"/><line style="stroke: #000000; stroke-width: 1.0;" x1="674.5" x2="674.5" y1="349.84" y2="362.84"/><line style="stroke: #000000; stroke-width: 1.0;" x1="633.5" x2="674.5" y1="362.84" y2="362.84"/><polygon fill="#000000" points="643.5,358.84,633.5,362.84,643.5,366.84,639.5,362.84" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="172" x="649.5" y="280.72">Analyzes whether the action is</text><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="130" x="649.5" y="298.48">supported by the client</text><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="121" x="649.5" y="316.24">(Analyze the actions[]</text><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="153" x="649.5" y="334">field of Device.DeviceState)</text><path d="M18,377.84 L94,377.84 L94,406.84 L84,416.84 L13,416.84 L13,382.84 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="577.64" rx="5" ry="5" style="stroke: #000000; stroke-width: 2.0;" width="663" x="13" y="377.84"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="16" x="38" y="402.76">alt</text><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="231" x="119" y="403.76">[Requested action is supported == No]</text><line style="stroke: #000000; stroke-width: 1.0;" x1="235.5" x2="245.5" y1="501.88" y2="497.88"/><line style="stroke: #000000; stroke-width: 1.0;" x1="235.5" x2="245.5" y1="501.88" y2="505.88"/><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="235.5" x2="621.5" y1="501.88" y2="501.88"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="234" x="312" y="468.28">Sends SpeechSynthesizer.Speak directive</text><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="177" x="340.5" y="486.04">("The action is not supported.")</text><line style="stroke: #000000; stroke-width: 1.0;" x1="49.5" x2="59.5" y1="553.64" y2="549.64"/><line style="stroke: #000000; stroke-width: 1.0;" x1="49.5" x2="59.5" y1="553.64" y2="557.64"/><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="49.5" x2="224.5" y1="553.64" y2="553.64"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="132" x="71.5" y="537.8">Outputs voice message</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="13" x2="676" y1="562.64" y2="562.64"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="234" x="28" y="586.56">[Requested action is supported == Yes]</text><line style="stroke: #000000; stroke-width: 1.0;" x1="235.5" x2="245.5" y1="662.92" y2="658.92"/><line style="stroke: #000000; stroke-width: 1.0;" x1="235.5" x2="245.5" y1="662.92" y2="666.92"/><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="235.5" x2="626.5" y1="662.92" y2="662.92"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="163" x="350" y="629.32">Sends client control directive</text><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="184" x="339.5" y="647.08">(DeviceControl.TurnOn directive)</text><line style="stroke: #000000; stroke-width: 1.0;" x1="235.5" x2="277.5" y1="714.68" y2="714.68"/><line style="stroke: #000000; stroke-width: 1.0;" x1="277.5" x2="277.5" y1="714.68" y2="727.68"/><line style="stroke: #000000; stroke-width: 1.0;" x1="236.5" x2="277.5" y1="727.68" y2="727.68"/><polygon fill="#000000" points="246.5,723.68,236.5,727.68,246.5,731.68,242.5,727.68" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="175" x="252.5" y="698.84">Handles control device request</text><path d="M188.5,742.68 L264.5,742.68 L264.5,771.68 L254.5,781.68 L183.5,781.68 L183.5,747.68 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="205.8" rx="5" ry="5" style="stroke: #000000; stroke-width: 2.0;" width="482.5" x="183.5" y="742.68"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="16" x="208.5" y="767.6">alt</text><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="275" x="289.5" y="768.6">[Result of handling device control == Success]</text><line style="stroke: #000000; stroke-width: 1.0;" x1="620.5" x2="610.5" y1="848.96" y2="844.96"/><line style="stroke: #000000; stroke-width: 1.0;" x1="620.5" x2="610.5" y1="848.96" y2="852.96"/><line style="stroke: #000000; stroke-width: 1.0;" x1="235.5" x2="621.5" y1="848.96" y2="848.96"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="241" x="308.5" y="833.12">Sends DeviceControl.ActionExecuted event</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="183.5" x2="666" y1="857.96" y2="857.96"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="271" x="198.5" y="881.88">[Result of handling device control == Failure]</text><line style="stroke: #000000; stroke-width: 1.0;" x1="620.5" x2="610.5" y1="940.48" y2="936.48"/><line style="stroke: #000000; stroke-width: 1.0;" x1="620.5" x2="610.5" y1="940.48" y2="944.48"/><line style="stroke: #000000; stroke-width: 1.0;" x1="235.5" x2="621.5" y1="940.48" y2="940.48"/><text fill="#000000" font-family="Noto Sans CJK KR" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="223" x="317.5" y="924.64">Sends DeviceControl.ActionFailed event</text><!--
@startuml
scale max 880 width
skinparam sequenceMessageAlign center
skinparam shadowing false
skinparam roundcorner 10
skinparam padding 10
skinparam defaultFontSize 12
skinparam defaultFontName "Noto Sans CJK KR"

skinparam note {
  BackgroundColor #9EA0CA
  BorderColor #ffffff
  FontColor #ffffff
  FontSize 14
  FontStyle bold
}

skinparam sequence {
  ArrowColor #000000
  ActorBorderColor #000000
  ActorFontStyle Bolder


  LifeLineBorderColor #000000
  LifeLineBackgroundColor transparent
  ParticipantBorderColor transparent
  ParticipantFontSize 14
  ParticipantFontColor #ffffff
  ParticipantFontStyle bold

  BoxBorderColor #000000
  BoxFontColor #ffffff
    BoxFontSize 14
    BoxFontStyle bold
}
hide footbox

skinparam activity {
  BackgroundColor #9EA0CA
  BarColor #ffffff
  BorderColor #ffffff
  DiamondBackgroundColor #05D686
  DiamondBorderColor #ffffff
  DiamondFontColor #ffffff
  DiamondFontSize 14
  DiamondFontStyle bold
  FontColor #ffffff 
  FontSize 14
  FontStyle bold
}

actor User as user #9EA0CA
participant Client as client #9EA0CA
participant CIC as cic #05D686

user ->> client : Client control request:\n"Turn on GPS."

activate client
  client ->> cic : Sends SpeechRecognizer.Recognize event\n(Includes Device.DeviceState context as required information)

deactivate client

activate cic
  cic -> cic : Analyzes whether the action is\nsupported by the client\n(Analyze the actions[]\nfield of Device.DeviceState)

  alt Requested action is supported == No

    cic - ->> client : Sends SpeechSynthesizer.Speak directive\n("The action is not supported.")

	activate client
    client - ->> user : Outputs voice message

  else Requested action is supported == Yes

    cic - ->> client : Sends client control directive\n(DeviceControl.TurnOn directive)

	deactivate cic
    client -> client : Handles control device request

    alt Result of handling device control == Success

      client ->> cic : Sends DeviceControl.ActionExecuted event

      activate cic

    else Result of handling device control == Failure

      client ->> cic : Sends DeviceControl.ActionFailed event

    end

  end

  deactivate client

deactivate cic

@enduml

PlantUML version 1.2019.09(Tue Aug 27 01:19:51 KST 2019)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11+28
Operating System: Mac OS X
OS Version: 10.14.6
Default Encoding: UTF-8
Language: en
Country: KR
--></g></svg>