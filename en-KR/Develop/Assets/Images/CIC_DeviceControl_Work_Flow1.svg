<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="901px" preserveAspectRatio="none" style="width:824px;height:901px;" version="1.1" viewBox="0 0 824 901" width="824px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="62.2656" style="stroke: #000000; stroke-width: 1.0;" width="10" x="221" y="164.3984"/><rect fill="#FFFFFF" height="424.3281" style="stroke: #000000; stroke-width: 1.0;" width="10" x="221" y="454.7266"/><rect fill="#FFFFFF" height="374.5938" style="stroke: #000000; stroke-width: 1.0;" width="10" x="617" y="226.6641"/><rect fill="#FFFFFF" height="106.2656" style="stroke: #000000; stroke-width: 1.0;" width="10" x="617" y="772.7891"/><rect fill="#FFFFFF" height="526.8594" rx="5" ry="5" style="stroke: #000000; stroke-width: 2.0;" width="658.5" x="13" y="345.1953"/><rect fill="#FFFFFF" height="361.1953" style="stroke: none; stroke-width: 1.0;" width="658.5" x="13" y="510.8594"/><rect fill="#FFFFFF" height="187.6641" rx="5" ry="5" style="stroke: #000000; stroke-width: 2.0;" width="484" x="177.5" y="677.3906"/><rect fill="#FFFFFF" height="84.2656" style="stroke: none; stroke-width: 1.0;" width="484" x="177.5" y="780.7891"/><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="50" x2="50" y1="100.1328" y2="889.0547"/><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="225.5" x2="225.5" y1="100.1328" y2="889.0547"/><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="621.5" x2="621.5" y1="100.1328" y2="889.0547"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="28" x="33" y="87.6016">User</text><ellipse cx="50" cy="13" fill="#9EA0CA" rx="8" ry="8" style="stroke: #000000; stroke-width: 2.0;"/><path d="M50,21 L50,48 M37,29 L63,29 M50,48 L37,63 M50,48 L63,63 " fill="none" style="stroke: #000000; stroke-width: 2.0;"/><rect fill="#9EA0CA" height="50.4883" rx="5" ry="5" style="stroke: #FFFFFF; stroke-width: 1.5;" width="77" x="187.5" y="48.6445"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="43" x="204.5" y="79.1797">Client</text><rect fill="#05D686" height="50.4883" rx="5" ry="5" style="stroke: #FFFFFF; stroke-width: 1.5;" width="59" x="592.5" y="48.6445"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="25" x="609.5" y="79.1797">CIC</text><rect fill="#FFFFFF" height="62.2656" style="stroke: #000000; stroke-width: 1.0;" width="10" x="221" y="164.3984"/><rect fill="#FFFFFF" height="424.3281" style="stroke: #000000; stroke-width: 1.0;" width="10" x="221" y="454.7266"/><rect fill="#FFFFFF" height="374.5938" style="stroke: #000000; stroke-width: 1.0;" width="10" x="617" y="226.6641"/><rect fill="#FFFFFF" height="106.2656" style="stroke: #000000; stroke-width: 1.0;" width="10" x="617" y="772.7891"/><line style="stroke: #000000; stroke-width: 1.0;" x1="219" x2="209" y1="164.3984" y2="160.3984"/><line style="stroke: #000000; stroke-width: 1.0;" x1="219" x2="209" y1="164.3984" y2="168.3984"/><line style="stroke: #000000; stroke-width: 1.0;" x1="50" x2="220" y1="164.3984" y2="164.3984"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="127" x="72" y="135.7344">Client control request:</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="83" x="94" y="149.8672">"Turn on GPS."</text><line style="stroke: #000000; stroke-width: 1.0;" x1="615" x2="605" y1="226.6641" y2="222.6641"/><line style="stroke: #000000; stroke-width: 1.0;" x1="615" x2="605" y1="226.6641" y2="230.6641"/><line style="stroke: #000000; stroke-width: 1.0;" x1="226" x2="616" y1="226.6641" y2="226.6641"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="235" x="304" y="198">Send SpeechRecognizer.Recognize event</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="347" x="248" y="212.1328">(Include Device.DeviceState context as required information)</text><line style="stroke: #000000; stroke-width: 1.0;" x1="627" x2="669" y1="317.1953" y2="317.1953"/><line style="stroke: #000000; stroke-width: 1.0;" x1="669" x2="669" y1="317.1953" y2="330.1953"/><line style="stroke: #000000; stroke-width: 1.0;" x1="628" x2="669" y1="330.1953" y2="330.1953"/><polygon fill="#000000" points="638,326.1953,628,330.1953,638,334.1953,634,330.1953" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="168" x="644" y="260.2656">Analyze whether the action is</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="134" x="644" y="274.3984">supported by the client</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="123" x="644" y="288.5313">(Analyze the actions[]</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="156" x="644" y="302.6641">field of Device.DeviceState)</text><path d="M18,345.1953 L94,345.1953 L94,371.1953 L84,381.1953 L13,381.1953 L13,350.1953 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="526.8594" rx="5" ry="5" style="stroke: #000000; stroke-width: 2.0;" width="658.5" x="13" y="345.1953"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="16" x="38" y="367.7969">alt</text><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="243" x="119" y="368.7969">[Requested action is supported == No]</text><line style="stroke: #000000; stroke-width: 1.0;" x1="231" x2="241" y1="454.7266" y2="450.7266"/><line style="stroke: #000000; stroke-width: 1.0;" x1="231" x2="241" y1="454.7266" y2="458.7266"/><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="231" x2="616" y1="454.7266" y2="454.7266"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="230" x="309" y="426.0625">Send SpeechSynthesizer.Speak directive</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="179" x="334.5" y="440.1953">("The action is not supported.")</text><line style="stroke: #000000; stroke-width: 1.0;" x1="50" x2="60" y1="502.8594" y2="498.8594"/><line style="stroke: #000000; stroke-width: 1.0;" x1="50" x2="60" y1="502.8594" y2="506.8594"/><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="50" x2="220" y1="502.8594" y2="502.8594"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="127" x="72" y="488.3281">Output voice message</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="13" x2="671.5" y1="511.8594" y2="511.8594"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="248" x="28" y="533.4609">[Requested action is supported == Yes]</text><line style="stroke: #000000; stroke-width: 1.0;" x1="231" x2="241" y1="601.2578" y2="597.2578"/><line style="stroke: #000000; stroke-width: 1.0;" x1="231" x2="241" y1="601.2578" y2="605.2578"/><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="231" x2="621" y1="601.2578" y2="601.2578"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="158" x="347.5" y="572.5938">Send client control directive</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="187" x="333" y="586.7266">(DeviceControl.TurnOn directive)</text><line style="stroke: #000000; stroke-width: 1.0;" x1="231" x2="273" y1="649.3906" y2="649.3906"/><line style="stroke: #000000; stroke-width: 1.0;" x1="273" x2="273" y1="649.3906" y2="662.3906"/><line style="stroke: #000000; stroke-width: 1.0;" x1="232" x2="273" y1="662.3906" y2="662.3906"/><polygon fill="#000000" points="242,658.3906,232,662.3906,242,666.3906,238,662.3906" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="173" x="248" y="634.8594">Handle control device request</text><path d="M182.5,677.3906 L258.5,677.3906 L258.5,703.3906 L248.5,713.3906 L177.5,713.3906 L177.5,682.3906 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="187.6641" rx="5" ry="5" style="stroke: #000000; stroke-width: 2.0;" width="484" x="177.5" y="677.3906"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="16" x="202.5" y="699.9922">alt</text><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="290" x="283.5" y="700.9922">[Result of handling device control == Success]</text><line style="stroke: #000000; stroke-width: 1.0;" x1="615" x2="605" y1="772.7891" y2="768.7891"/><line style="stroke: #000000; stroke-width: 1.0;" x1="615" x2="605" y1="772.7891" y2="776.7891"/><line style="stroke: #000000; stroke-width: 1.0;" x1="231" x2="616" y1="772.7891" y2="772.7891"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="238" x="305" y="758.2578">Send DeviceControl.ActionExecuted event</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="177.5" x2="661.5" y1="781.7891" y2="781.7891"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="284" x="192.5" y="803.3906">[Result of handling device control == Failure]</text><line style="stroke: #000000; stroke-width: 1.0;" x1="615" x2="605" y1="857.0547" y2="853.0547"/><line style="stroke: #000000; stroke-width: 1.0;" x1="615" x2="605" y1="857.0547" y2="861.0547"/><line style="stroke: #000000; stroke-width: 1.0;" x1="231" x2="616" y1="857.0547" y2="857.0547"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="219" x="314.5" y="842.5234">Send DeviceControl.ActionFailed event</text><!--
@startuml
scale max 880 width
skinparam sequenceMessageAlign center
skinparam shadowing false
skinparam roundcorner 10
skinparam padding 10
skinparam defaultFontSize 12
skinparam sequence {
	ArrowColor #000000
	ActorBorderColor #000000
	ActorFontStyle Bolder

	LifeLineBorderColor #000000
	LifeLineBackgroundColor transparent
	ParticipantBorderColor transparent
	ParticipantFontSize 14
	ParticipantFontColor #ffffff
	ParticipantFontStyle bold

	BoxBorderColor #000000
	BoxFontColor #ffffff
    BoxFontSize 14
    BoxFontStyle bold
}
skinparam note {
	BackgroundColor #9EA0CA
	BorderColor #ffffff
	FontColor #ffffff
	FontSize 14
	FontStyle bold
}
hide footbox

actor User as user #9EA0CA
participant Client as client #9EA0CA
participant CIC as cic #05D686

user ->> client : Client control request:\n"Turn on GPS."

activate client
  client ->> cic : Send SpeechRecognizer.Recognize event\n(Include Device.DeviceState context as required information)

deactivate client

activate cic
  cic -> cic : Analyze whether the action is\nsupported by the client\n(Analyze the actions[]\nfield of Device.DeviceState)

  alt Requested action is supported == No

    cic - ->> client : Send SpeechSynthesizer.Speak directive\n("The action is not supported.")

	activate client
    client - ->> user : Output voice message

  else Requested action is supported == Yes

    cic - ->> client : Send client control directive\n(DeviceControl.TurnOn directive)

	deactivate cic
    client -> client : Handle control device request

    alt Result of handling device control == Success

      client ->> cic : Send DeviceControl.ActionExecuted event

      activate cic

    else Result of handling device control == Failure

      client ->> cic : Send DeviceControl.ActionFailed event

    end

  end

  deactivate client

deactivate cic

@enduml

PlantUML version 1.2018.12(Sun Oct 21 19:15:15 KST 2018)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11+28
Operating System: Mac OS X
OS Version: 10.14.2
Default Encoding: US-ASCII
Language: en
Country: KR
--></g></svg>